<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SONATE Platform - Enterprise AI Governance with Constitutional Trust">
    <title>SONATE Platform - Enterprise AI You Can Trust</title>
    
    <!-- Chart.js for data visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    
    <style>
        /* ==================== CSS VARIABLES & RESET ==================== */
        :root {
            /* Colors - Quantum Cyan & Neural Purple Palette */
            --quantum-cyan: #00ffff;
            --neural-purple: #8b5cf6;
            --dark-matter: #0f172a;
            --slate-950: #020617;
            --slate-900: #0f172a;
            --slate-800: #1e293b;
            --slate-700: #334155;
            --slate-600: #475569;
            --slate-400: #94a3b8;
            --slate-300: #cbd5e1;
            --slate-100: #f1f5f9;
            
            /* Semantic Colors */
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --info: #3b82f6;
            
            /* Typography */
            --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            --font-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace;
            
            /* Spacing */
            --spacing-xs: 0.25rem;
            --spacing-sm: 0.5rem;
            --spacing-md: 1rem;
            --spacing-lg: 1.5rem;
            --spacing-xl: 2rem;
            --spacing-2xl: 3rem;
            
            /* Border Radius */
            --radius-sm: 0.375rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
            
            /* Shadows */
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-glow: 0 0 20px rgba(0, 255, 255, 0.3);
            
            /* Transitions */
            --transition-fast: 150ms ease;
            --transition-base: 300ms ease;
            --transition-slow: 500ms ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: var(--font-sans);
            background: var(--slate-950);
            color: var(--slate-100);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        /* ==================== UTILITY CLASSES ==================== */
        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 var(--spacing-lg);
        }
        
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }
        .justify-center { justify-content: center; }
        .gap-2 { gap: var(--spacing-sm); }
        .gap-4 { gap: var(--spacing-md); }
        .gap-6 { gap: var(--spacing-lg); }
        .hidden { display: none !important; }
        .text-center { text-align: center; }
        
        /* ==================== TYPOGRAPHY ==================== */
        h1, h2, h3, h4, h5, h6 {
            font-weight: 700;
            line-height: 1.2;
            color: var(--slate-100);
        }
        
        h1 { font-size: 3rem; margin-bottom: var(--spacing-lg); }
        h2 { font-size: 2rem; margin-bottom: var(--spacing-md); }
        h3 { font-size: 1.5rem; margin-bottom: var(--spacing-md); }
        h4 { font-size: 1.25rem; margin-bottom: var(--spacing-sm); }
        
        p { margin-bottom: var(--spacing-md); color: var(--slate-400); }
        
        .font-mono { font-family: var(--font-mono); }
        .text-sm { font-size: 0.875rem; }
        .text-xs { font-size: 0.75rem; }
        
        /* ==================== BUTTONS ==================== */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-sm) var(--spacing-lg);
            border: none;
            border-radius: var(--radius-md);
            font-weight: 600;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all var(--transition-base);
            text-decoration: none;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--quantum-cyan), var(--neural-purple));
            color: var(--dark-matter);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-glow);
        }
        
        .btn-secondary {
            background: rgba(0, 255, 255, 0.1);
            color: var(--quantum-cyan);
            border: 1px solid rgba(0, 255, 255, 0.3);
        }
        
        .btn-secondary:hover {
            background: rgba(0, 255, 255, 0.2);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* ==================== CARDS ==================== */
        .card {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid var(--slate-800);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            backdrop-filter: blur(10px);
            transition: all var(--transition-base);
        }
        
        .card:hover {
            border-color: rgba(0, 255, 255, 0.3);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.1);
        }
        
        .card-header {
            margin-bottom: var(--spacing-md);
        }
        
        .card-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--slate-100);
        }
        
        /* ==================== LAYOUT ==================== */
        .grid {
            display: grid;
            gap: var(--spacing-lg);
        }
        
        .grid-cols-1 { grid-template-columns: repeat(1, 1fr); }
        .grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
        .grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
        .grid-cols-4 { grid-template-columns: repeat(4, 1fr); }
        
        @media (min-width: 768px) {
            .md\:grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
            .md\:grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
            .md\:grid-cols-4 { grid-template-columns: repeat(4, 1fr); }
        }
        
        @media (min-width: 1024px) {
            .lg\:grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
            .lg\:grid-cols-4 { grid-template-columns: repeat(4, 1fr); }
        }
        
        /* ==================== HEADER ==================== */
        .header {
            background: var(--slate-900);
            border-bottom: 1px solid var(--slate-800);
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--spacing-md) 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
        }
        
        .logo-text h1 {
            font-size: 1.25rem;
            margin: 0;
        }
        
        .logo-text p {
            font-size: 0.75rem;
            color: var(--slate-400);
            margin: 0;
        }
        
        .header-status {
            display: flex;
            align-items: center;
            gap: var(--spacing-lg);
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            font-size: 0.875rem;
            color: var(--slate-400);
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* ==================== NAVIGATION ==================== */
        .nav {
            background: rgba(15, 23, 42, 0.5);
            border-bottom: 1px solid var(--slate-800);
            overflow-x: auto;
        }
        
        .nav-items {
            display: flex;
            gap: var(--spacing-sm);
            padding: 0;
            list-style: none;
        }
        
        .nav-item {
            padding: var(--spacing-md) var(--spacing-lg);
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all var(--transition-base);
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            color: var(--slate-400);
            font-weight: 500;
            font-size: 0.875rem;
        }
        
        .nav-item:hover {
            color: var(--slate-300);
            border-bottom-color: var(--slate-600);
        }
        
        .nav-item.active {
            color: var(--quantum-cyan);
            border-bottom-color: var(--quantum-cyan);
        }
        
        /* ==================== MAIN CONTENT ==================== */
        .main {
            padding: var(--spacing-2xl) 0;
            min-height: calc(100vh - 200px);
        }
        
        .section {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* ==================== HERO SECTION ==================== */
        .hero {
            padding: var(--spacing-2xl) 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .hero-background {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: -1;
            opacity: 0.3;
        }
        
        .hero-title {
            font-size: clamp(2rem, 5vw, 3.5rem);
            background: linear-gradient(135deg, var(--quantum-cyan), var(--neural-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: var(--spacing-lg);
        }
        
        .hero-subtitle {
            font-size: 1.25rem;
            color: var(--slate-300);
            max-width: 800px;
            margin: 0 auto var(--spacing-2xl);
        }
        
        .hero-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-lg);
            margin-top: var(--spacing-2xl);
        }
        
        .stat-card {
            text-align: center;
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--quantum-cyan);
            font-family: var(--font-mono);
        }
        
        .stat-label {
            font-size: 0.875rem;
            color: var(--slate-400);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        /* ==================== TRUST DASHBOARD ==================== */
        .trust-score-display {
            text-align: center;
            padding: var(--spacing-2xl);
        }
        
        .trust-tier {
            display: inline-block;
            padding: var(--spacing-sm) var(--spacing-xl);
            border-radius: var(--radius-xl);
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: var(--spacing-lg);
        }
        
        .trust-tier.HIGH {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success);
            border: 2px solid var(--success);
        }
        
        .trust-tier.MEDIUM {
            background: rgba(0, 255, 255, 0.2);
            color: var(--quantum-cyan);
            border: 2px solid var(--quantum-cyan);
        }
        
        .trust-tier.LOW {
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning);
            border: 2px solid var(--warning);
        }
        
        .trust-tier.CRITICAL {
            background: rgba(239, 68, 68, 0.2);
            color: var(--error);
            border: 2px solid var(--error);
        }
        
        .trust-total {
            font-size: 4rem;
            font-weight: 700;
            color: var(--slate-100);
            font-family: var(--font-mono);
        }
        
        /* ==================== TRUST PILLARS ==================== */
        .pillar-card {
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .pillar-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--quantum-cyan), var(--neural-purple));
            opacity: 0;
            transition: opacity var(--transition-base);
        }
        
        .pillar-card:hover::before {
            opacity: 1;
        }
        
        .pillar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-md);
        }
        
        .pillar-score {
            font-size: 2rem;
            font-weight: 700;
            font-family: var(--font-mono);
        }
        
        .pillar-score.OK { color: var(--success); }
        .pillar-score.WARN { color: var(--warning); }
        .pillar-score.FAIL { color: var(--error); }
        
        .pillar-status {
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: var(--radius-sm);
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .pillar-status.OK {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }
        
        .pillar-status.WARN {
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning);
        }
        
        .pillar-status.FAIL {
            background: rgba(239, 68, 68, 0.2);
            color: var(--error);
        }
        
        /* ==================== LINGUISTIC VECTOR STEERING ==================== */
        .vector-visualization {
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid var(--slate-700);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            margin: var(--spacing-lg) 0;
        }
        
        .vector-dimensions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing-md);
            margin: var(--spacing-lg) 0;
        }
        
        .vector-dimension {
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid var(--slate-700);
            border-radius: var(--radius-md);
            padding: var(--spacing-md);
        }
        
        .dimension-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-sm);
        }
        
        .dimension-name {
            font-weight: 600;
            color: var(--slate-300);
            font-size: 0.875rem;
        }
        
        .dimension-value {
            font-family: var(--font-mono);
            color: var(--quantum-cyan);
            font-weight: 600;
        }
        
        .dimension-bar {
            width: 100%;
            height: 8px;
            background: var(--slate-800);
            border-radius: var(--radius-sm);
            overflow: hidden;
            margin-top: var(--spacing-sm);
        }
        
        .dimension-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--quantum-cyan), var(--neural-purple));
            transition: width var(--transition-base);
        }
        
        .coherence-indicator {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-sm) var(--spacing-md);
            background: rgba(0, 255, 255, 0.1);
            border: 1px solid rgba(0, 255, 255, 0.3);
            border-radius: var(--radius-md);
            font-size: 0.875rem;
        }
        
        .coherence-value {
            font-family: var(--font-mono);
            color: var(--quantum-cyan);
            font-weight: 600;
        }
        
        /* ==================== SETTINGS TAB ==================== */
        .settings-section {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid var(--slate-800);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
        }
        
        .settings-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-lg);
        }
        
        .settings-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--slate-100);
        }
        
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-lg);
        }
        
        .setting-item {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
        }
        
        .setting-label {
            font-size: 0.875rem;
            color: var(--slate-400);
            font-weight: 500;
        }
        
        .setting-input {
            padding: var(--spacing-sm);
            background: var(--slate-800);
            border: 1px solid var(--slate-700);
            border-radius: var(--radius-md);
            color: var(--slate-100);
            font-family: var(--font-mono);
            transition: all var(--transition-base);
        }
        
        .setting-input:focus {
            outline: none;
            border-color: var(--quantum-cyan);
            box-shadow: 0 0 0 2px rgba(0, 255, 255, 0.1);
        }
        
        .setting-select {
            padding: var(--spacing-sm);
            background: var(--slate-800);
            border: 1px solid var(--slate-700);
            border-radius: var(--radius-md);
            color: var(--slate-100);
            cursor: pointer;
        }
        
        .setting-toggle {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }
        
        .toggle-switch {
            position: relative;
            width: 48px;
            height: 24px;
            background: var(--slate-700);
            border-radius: 12px;
            cursor: pointer;
            transition: background var(--transition-base);
        }
        
        .toggle-switch.active {
            background: var(--quantum-cyan);
        }
        
        .toggle-slider {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: var(--slate-100);
            border-radius: 50%;
            transition: transform var(--transition-base);
        }
        
        .toggle-switch.active .toggle-slider {
            transform: translateX(24px);
        }
        
        /* ==================== PLAIN ENGLISH MODE ==================== */
        .plain-english-tooltip {
            background: rgba(0, 255, 255, 0.1);
            border: 1px solid rgba(0, 255, 255, 0.3);
            border-radius: var(--radius-md);
            padding: var(--spacing-md);
            margin: var(--spacing-sm) 0;
            font-size: 0.875rem;
            color: var(--slate-300);
            display: none;
        }
        
        .plain-english-mode .plain-english-tooltip {
            display: block;
        }
        
        .technical-term {
            color: var(--quantum-cyan);
            font-weight: 600;
            cursor: help;
            border-bottom: 1px dotted rgba(0, 255, 255, 0.5);
        }
        
        /* ==================== RECEIPT CHAIN ==================== */
        .receipt-list {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
        }
        
        .receipt-item {
            display: grid;
            grid-template-columns: auto 1fr auto auto auto;
            gap: var(--spacing-md);
            padding: var(--spacing-md);
            background: rgba(15, 23, 42, 0.4);
            border: 1px solid var(--slate-800);
            border-radius: var(--radius-md);
            align-items: center;
            transition: all var(--transition-base);
        }
        
        .receipt-item:hover {
            border-color: rgba(0, 255, 255, 0.3);
            background: rgba(15, 23, 42, 0.6);
        }
        
        .receipt-number {
            font-weight: 600;
            color: var(--slate-400);
            font-family: var(--font-mono);
        }
        
        .receipt-hash {
            font-family: var(--font-mono);
            font-size: 0.875rem;
            color: var(--quantum-cyan);
        }
        
        .receipt-action {
            font-size: 0.875rem;
            color: var(--slate-300);
        }
        
        .receipt-validated {
            width: 20px;
            height: 20px;
            border-radius: 50%;
        }
        
        .receipt-validated.true {
            background: var(--success);
        }
        
        .receipt-validated.false {
            background: var(--error);
        }
        
        /* ==================== AGENT FLEET ==================== */
        .agent-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .agent-table th {
            text-align: left;
            padding: var(--spacing-md);
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            color: var(--slate-400);
            border-bottom: 1px solid var(--slate-800);
        }
        
        .agent-table td {
            padding: var(--spacing-md);
            border-bottom: 1px solid var(--slate-800);
        }
        
        .agent-table tr:hover {
            background: rgba(0, 255, 255, 0.05);
        }
        
        .agent-status-badge {
            display: inline-block;
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: var(--radius-sm);
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .agent-status-badge.ACTIVE {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }
        
        .agent-status-badge.STABLE {
            background: rgba(0, 255, 255, 0.2);
            color: var(--quantum-cyan);
        }
        
        .agent-status-badge.DRIFTING {
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning);
        }
        
        .agent-status-badge.MAINTENANCE {
            background: rgba(148, 163, 184, 0.2);
            color: var(--slate-400);
        }
        
        /* ==================== EXPERIMENT VIEWER ==================== */
        .experiment-card {
            border-left: 4px solid transparent;
        }
        
        .experiment-card.COMPLETED { border-left-color: var(--success); }
        .experiment-card.RUNNING { border-left-color: var(--info); }
        .experiment-card.BLINDED { border-left-color: var(--warning); }
        
        .experiment-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--spacing-md);
            margin-top: var(--spacing-md);
        }
        
        .experiment-stat {
            text-align: center;
            padding: var(--spacing-md);
            background: rgba(15, 23, 42, 0.4);
            border-radius: var(--radius-md);
        }
        
        .experiment-stat-label {
            font-size: 0.75rem;
            color: var(--slate-400);
            text-transform: uppercase;
        }
        
        .experiment-stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--quantum-cyan);
            font-family: var(--font-mono);
        }
        
        /* ==================== CHARTS ==================== */
        .chart-container {
            position: relative;
            height: 300px;
            margin-top: var(--spacing-md);
        }
        
        /* ==================== METRICS GRID ==================== */
        .metric-card {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
        }
        
        .metric-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--slate-100);
            font-family: var(--font-mono);
        }
        
        .metric-label {
            font-size: 0.75rem;
            color: var(--slate-400);
            text-transform: uppercase;
        }
        
        /* ==================== ALERTS ==================== */
        .alert {
            padding: var(--spacing-md);
            border-radius: var(--radius-md);
            border-left: 4px solid;
            margin-bottom: var(--spacing-sm);
            display: flex;
            gap: var(--spacing-md);
            align-items: flex-start;
        }
        
        .alert.info {
            background: rgba(59, 130, 246, 0.1);
            border-left-color: var(--info);
        }
        
        .alert.warning {
            background: rgba(245, 158, 11, 0.1);
            border-left-color: var(--warning);
        }
        
        .alert.error {
            background: rgba(239, 68, 68, 0.1);
            border-left-color: var(--error);
        }
        
        .alert.success {
            background: rgba(16, 185, 129, 0.1);
            border-left-color: var(--success);
        }
        
        .alert-icon {
            font-size: 1.5rem;
            line-height: 1;
        }
        
        .alert-content {
            flex: 1;
        }
        
        .alert-title {
            font-weight: 600;
            color: var(--slate-100);
            margin-bottom: var(--spacing-xs);
        }
        
        .alert-message {
            font-size: 0.875rem;
            color: var(--slate-400);
        }
        
        /* ==================== TUTORIAL OVERLAY ==================== */
        .tutorial-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--spacing-lg);
        }
        
        .tutorial-modal {
            background: var(--slate-900);
            border: 1px solid var(--slate-700);
            border-radius: var(--radius-xl);
            max-width: 600px;
            width: 100%;
            padding: var(--spacing-2xl);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
        }
        
        .tutorial-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-lg);
        }
        
        .tutorial-close {
            background: none;
            border: none;
            color: var(--slate-400);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
            line-height: 1;
        }
        
        .tutorial-body {
            margin-bottom: var(--spacing-lg);
        }
        
        .tutorial-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .tutorial-progress {
            font-size: 0.875rem;
            color: var(--slate-400);
        }
        
        /* ==================== LOADING STATES ==================== */
        .loader {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid var(--slate-800);
            border-top-color: var(--quantum-cyan);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--slate-950);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            transition: opacity var(--transition-slow);
        }
        
        .loading-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        /* ==================== FOOTER ==================== */
        .footer {
            background: var(--slate-900);
            border-top: 1px solid var(--slate-800);
            padding: var(--spacing-2xl) 0;
            margin-top: var(--spacing-2xl);
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: var(--spacing-lg);
        }
        
        .footer-links {
            display: flex;
            gap: var(--spacing-lg);
        }
        
        .footer-link {
            color: var(--slate-400);
            text-decoration: none;
            transition: color var(--transition-base);
        }
        
        .footer-link:hover {
            color: var(--quantum-cyan);
        }
        
        /* ==================== RESPONSIVE ==================== */
        @media (max-width: 768px) {
            .hero-title { font-size: 2rem; }
            .hero-subtitle { font-size: 1rem; }
            .nav-items { overflow-x: auto; }
            .grid-cols-2, .grid-cols-3, .grid-cols-4 { grid-template-columns: 1fr; }
            .agent-table { font-size: 0.75rem; }
            .receipt-item { grid-template-columns: 1fr; }
            .header-status { flex-direction: column; align-items: flex-end; }
        }
        
        /* ==================== PRINT STYLES ==================== */
        @media print {
            .header, .nav, .footer, .tutorial-overlay, .btn { display: none; }
            body { background: white; color: black; }
            .card { border: 1px solid #ccc; }
        }
    </style>
<script src="https://sites.super.myninja.ai/_assets/ninja-daytona-script.js"></script>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loader"></div>
        <p style="margin-top: var(--spacing-lg); color: var(--quantum-cyan);">Initializing SONATE Platform...</p>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <svg class="logo-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#00ffff;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#8b5cf6;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <circle cx="50" cy="50" r="45" fill="none" stroke="url(#logoGradient)" stroke-width="3"/>
                        <path d="M 50 20 L 70 50 L 50 80 L 30 50 Z" fill="url(#logoGradient)" opacity="0.6"/>
                    </svg>
                    <div class="logo-text">
                        <h1>SONATE Platform</h1>
                        <p>Enterprise AI Governance</p>
                    </div>
                </div>
                
                <div class="header-status">
                    <div class="status-indicator">
                        <div class="status-dot"></div>
                        <span>System Operational</span>
                    </div>
                    <div class="status-indicator">
                        <span class="font-mono" style="color: var(--quantum-cyan);">Trust Score: <span id="header-trust-score">--</span></span>
                    </div>
                    <button class="btn btn-secondary" id="plain-english-toggle">
                        <span>üìñ</span> Plain English
                    </button>
                    <button class="btn btn-secondary" id="tutorial-toggle">
                        <span>?</span> Tutorial
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav">
        <div class="container">
            <ul class="nav-items">
                <li class="nav-item active" data-section="welcome">
                    <span>üè†</span> Welcome
                </li>
                <li class="nav-item" data-section="dashboard">
                    <span>üìä</span> Dashboard
                </li>
                <li class="nav-item" data-section="principles">
                    <span>‚ö°</span> SYMBI Framework
                </li>
                <li class="nav-item" data-section="detection">
                    <span>üîç</span> Detection
                </li>
                <li class="nav-item" data-section="vector-steering">
                    <span>üß≠</span> Vector Steering
                </li>
                <li class="nav-item" data-section="research">
                    <span>üß™</span> Research Lab
                </li>
                <li class="nav-item" data-section="agents">
                    <span>ü§ñ</span> Agent Fleet
                </li>
                <li class="nav-item" data-section="receipts">
                    <span>üîê</span> Trust Receipts
                </li>
                <li class="nav-item" data-section="settings">
                    <span>‚öôÔ∏è</span> Settings
                </li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <!-- Welcome Section -->
            <section id="welcome-section" class="section active">
                <div class="hero">
                    <h1 class="hero-title">Enterprise AI You Can Trust</h1>
                    <p class="hero-subtitle">
                        Constitutional AI governance with real-time detection, cryptographic receipts, 
                        and linguistic vector steering. Built on SYMBI Trust Physics.
                    </p>
                    
                    <div class="flex justify-center gap-4" style="margin-bottom: var(--spacing-2xl);">
                        <button class="btn btn-primary" id="start-tour">Start Interactive Tour</button>
                        <button class="btn btn-secondary" id="skip-demo">Skip to Dashboard</button>
                    </div>
                    
                    <div class="hero-stats">
                        <div class="stat-card">
                            <div class="stat-value" data-target="100">&lt;100</div>
                            <div class="stat-label">ms Latency</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" data-target="99.9">99.9</div>
                            <div class="stat-label">% Uptime</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" data-target="6">6</div>
                            <div class="stat-label">Trust Pillars</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" data-target="5">5</div>
                            <div class="stat-label">Detection Dimensions</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Dashboard Section -->
            <section id="dashboard-section" class="section">
                <div class="flex justify-between items-center" style="margin-bottom: var(--spacing-xl);">
                    <div>
                        <h2>Trust Dashboard</h2>
                        <p>Real-time SYMBI governance monitoring and compliance metrics</p>
                    </div>
                    <button class="btn btn-secondary" id="refresh-dashboard">
                        <span>üîÑ</span> Refresh
                    </button>
                </div>

                <!-- Trust Score Display -->
                <div class="card" style="margin-bottom: var(--spacing-lg);">
                    <div class="trust-score-display">
                        <div style="margin-bottom: var(--spacing-md);">
                            <span style="font-size: 0.875rem; color: var(--slate-400); text-transform: uppercase; letter-spacing: 0.05em;">
                                Overall Trust Tier
                            </span>
                        </div>
                        <div id="trust-tier" class="trust-tier">LOADING</div>
                        <div class="trust-total" id="trust-total">--</div>
                        <div style="font-size: 0.875rem; color: var(--slate-400); margin-top: var(--spacing-sm);">
                            Trust Score (0-100)
                        </div>
                        <div style="margin-top: var(--spacing-lg); display: flex; justify-content: center; gap: var(--spacing-xl); flex-wrap: wrap;">
                            <div class="flex items-center gap-2 text-sm">
                                <span>üîí</span>
                                <span style="color: var(--slate-400);">SHA-256 Receipt:</span>
                                <span class="font-mono" style="color: var(--quantum-cyan);" id="trust-receipt" title="Demo-mode hash. Production uses SHA-256 + Ed25519."></span>
                            </div>
                            <div class="flex items-center gap-2 text-sm">
                                <span>‚è±Ô∏è</span>
                                <span style="color: var(--slate-400);">Updated:</span>
                                <span id="trust-timestamp">--</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Metrics Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4" id="metrics-grid">
                    <!-- Throughput -->
                    <div class="card metric-card">
                        <div class="metric-header">
                            <h4 class="metric-label">Throughput</h4>
                            <span>‚ö°</span>
                        </div>
                        <div class="metric-value" id="metric-throughput">--</div>
                        <div class="text-xs" style="color: var(--slate-500);">requests/second</div>
                    </div>

                    <!-- Latency -->
                    <div class="card metric-card">
                        <div class="metric-header">
                            <h4 class="metric-label">Latency</h4>
                            <span>üìà</span>
                        </div>
                        <div class="metric-value" id="metric-latency">--</div>
                        <div class="text-xs" style="color: var(--slate-500);">milliseconds</div>
                    </div>

                    <!-- Compliance -->
                    <div class="card metric-card">
                        <div class="metric-header">
                            <h4 class="metric-label">Compliance</h4>
                            <span>‚úÖ</span>
                        </div>
                        <div class="metric-value" style="color: var(--success);">100%</div>
                        <div class="text-xs" style="color: var(--slate-500);">EU AI Act, SOC 2, GDPR</div>
                    </div>

                    <!-- Security -->
                    <div class="card metric-card">
                        <div class="metric-header">
                            <h4 class="metric-label">Security</h4>
                            <span>üõ°Ô∏è</span>
                        </div>
                        <div class="metric-value font-mono" style="font-size: 1rem;">AES-256</div>
                        <div class="text-xs" style="color: var(--slate-500);">SHA-256 + Ed25519</div>
                    </div>
                </div>
            </section>

            <!-- SYMBI Principles Section -->
            <section id="principles-section" class="section">
                <div style="margin-bottom: var(--spacing-xl);">
                    <h2 title="Six constitutional principles ensuring AI accountability: Consent, Inspection, Validation, Override, Disconnect, and Recognition">SYMBI Trust Physics</h2>
                    <p>Six-Pillar Governance Scoring aligned with W3C standards and constitutional AI principles</p>
                    <div class="plain-english-tooltip">
                        <strong>Plain English:</strong> The SYMBI framework is like a constitution for AI systems. It ensures AI behaves ethically through six core principles: getting user consent, being transparent about decisions, continuously proving trustworthiness, allowing human override, letting users disconnect, and recognizing its own limitations.
                    </div>
                </div>

                <!-- Principles Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3" id="principles-grid">
                    <!-- Principles will be dynamically inserted -->
                </div>

                <!-- Radar Chart -->
                <div class="card" style="margin-top: var(--spacing-xl);">
                    <h3>Trust Dimensions Overview</h3>
                    <div class="chart-container">
                        <canvas id="radar-chart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Detection Section -->
            <section id="detection-section" class="section">
                <div style="margin-bottom: var(--spacing-xl);">
                    <h2>Real-Time Detection Dashboard</h2>
                    <p>Monitor AI interactions with sub-100ms latency across 5 dimensions</p>
                </div>

                <!-- Phase Velocity Display -->
                <div class="card" style="margin-bottom: var(--spacing-lg);">
                    <h3 title="Mathematical innovation measuring AI behavioral change rate for early warning detection">Phase-Shift Velocity Monitor</h3>
                    <p class="text-sm">Early warning detection through behavioral seismograph analysis: ŒîŒ¶/t = ‚àö(ŒîR¬≤ + ŒîC¬≤) √∑ Œît</p>
                    <p class="text-xs" style="color: var(--slate-400); margin-top: var(--spacing-xs);">Where R = Reality Index delta, C = Canvas parity delta over time window t</p>
                    <div class="plain-english-tooltip">
                        <strong>Plain English:</strong> Think of this like an earthquake detector for AI behavior. It measures how quickly an AI's personality and capabilities are changing. If it changes too fast, we get an early warning that something might be wrong.
                    </div>
                    
                    <div style="display: flex; justify-content: space-around; margin-top: var(--spacing-lg); flex-wrap: wrap; gap: var(--spacing-lg);">
                        <div class="text-center">
                            <div class="metric-label">Current Velocity</div>
                            <div class="metric-value" style="color: var(--quantum-cyan);" id="phase-velocity">0.000</div>
                        </div>
                        <div class="text-center">
                            <div class="metric-label">Status</div>
                            <div class="agent-status-badge" id="velocity-status">NORMAL</div>
                        </div>
                        <div class="text-center">
                            <div class="metric-label">Detection Latency</div>
                            <div class="metric-value" style="font-size: 1.5rem;" id="detection-latency">--ms</div>
                        </div>
                    </div>

                    <div class="chart-container">
                        <canvas id="velocity-chart"></canvas>
                    </div>
                </div>

                <!-- Detection Metrics -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3" id="detection-metrics">
                    <!-- Metrics will be dynamically inserted -->
                </div>

                <!-- Alerts -->
                <div class="card" style="margin-top: var(--spacing-lg);">
                    <h3>Recent Alerts</h3>
                    <div id="alerts-container">
                        <!-- Alerts will be dynamically inserted -->
                    </div>
                </div>
            </section>

            <!-- Vector Steering Section -->
            <section id="vector-steering-section" class="section">
                <div style="margin-bottom: var(--spacing-xl);">
                    <h2>Linguistic Vector Steering</h2>
                    <p>Real-time persona tracking and identity coherence analysis using multi-dimensional vector mathematics</p>
                </div>

                <!-- Vector Visualization -->
                <div class="vector-visualization">
                    <h3>Identity Coherence Analysis</h3>
                    <div class="plain-english-tooltip">
                        <strong>Plain English:</strong> This tracks an AI's personality across 50 different dimensions (like tone, expertise, communication style). We ensure the AI stays consistent and doesn't suddenly change its personality, which would be like a person suddenly having a completely different character.
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; align-items: center; margin: var(--spacing-lg) 0;">
                        <div>
                            <div class="metric-label">Overall Coherence</div>
                            <div class="coherence-indicator">
                                <span class="coherence-value" id="coherence-score">0.925</span>
                                <span id="coherence-status" style="color: var(--success);">STABLE</span>
                            </div>
                        </div>
                        <div>
                            <div class="metric-label">Cosine Similarity</div>
                            <div class="font-mono" style="color: var(--quantum-cyan); font-size: 1.2rem;" id="cosine-similarity">0.925</div>
                        </div>
                    </div>

                    <!-- Vector Dimensions Grid -->
                    <div class="vector-dimensions">
                        <div class="vector-dimension">
                            <div class="dimension-header">
                                <span class="dimension-name">Role Identity</span>
                                <span class="dimension-value">0.87</span>
                            </div>
                            <div class="dimension-bar">
                                <div class="dimension-fill" style="width: 87%;"></div>
                            </div>
                        </div>
                        <div class="vector-dimension">
                            <div class="dimension-header">
                                <span class="dimension-name">Tone Consistency</span>
                                <span class="dimension-value">0.92</span>
                            </div>
                            <div class="dimension-bar">
                                <div class="dimension-fill" style="width: 92%;"></div>
                            </div>
                        </div>
                        <div class="vector-dimension">
                            <div class="dimension-header">
                                <span class="dimension-name">Governance Alignment</span>
                                <span class="dimension-value">0.95</span>
                            </div>
                            <div class="dimension-bar">
                                <div class="dimension-fill" style="width: 95%;"></div>
                            </div>
                        </div>
                        <div class="vector-dimension">
                            <div class="dimension-header">
                                <span class="dimension-name">Expertise Level</span>
                                <span class="dimension-value">0.89</span>
                            </div>
                            <div class="dimension-bar">
                                <div class="dimension-fill" style="width: 89%;"></div>
                            </div>
                        </div>
                        <div class="vector-dimension">
                            <div class="dimension-header">
                                <span class="dimension-name">Communication Pattern</span>
                                <span class="dimension-value">0.91</span>
                            </div>
                            <div class="dimension-bar">
                                <div class="dimension-fill" style="width: 91%;"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Coherence Chart -->
                    <div class="chart-container">
                        <canvas id="coherence-chart"></canvas>
                    </div>
                </div>

                <!-- Drift Detection -->
                <div class="card" style="margin-top: var(--spacing-lg);">
                    <h3>Persona Drift Detection</h3>
                    <div class="plain-english-tooltip">
                        <strong>Plain English:</strong> This feature watches for subtle changes in the AI's personality over time. If the AI starts acting differently from its original personality, we can detect and correct it before it becomes a problem.
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-md); margin-top: var(--spacing-lg);">
                        <div class="text-center">
                            <div class="metric-label">Drift Velocity</div>
                            <div class="metric-value" style="font-size: 1.5rem; color: var(--quantum-cyan);" id="drift-velocity">0.002</div>
                        </div>
                        <div class="text-center">
                            <div class="metric-label">Most Changed</div>
                            <div class="font-mono text-sm" style="color: var(--slate-300);" id="most-changed">role_3</div>
                        </div>
                        <div class="text-center">
                            <div class="metric-label">Max Delta</div>
                            <div class="metric-value" style="font-size: 1.5rem; color: var(--warning);" id="max-delta">0.15</div>
                        </div>
                        <div class="text-center">
                            <div class="metric-label">Alert Threshold</div>
                            <div class="metric-value" style="font-size: 1.5rem; color: var(--success);">0.85</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Research Lab Section -->
            <section id="research-section" class="section">
                <div style="margin-bottom: var(--spacing-xl);">
                    <h2>Double-Blind Research Validation</h2>
                    <p>Controlled experiments with statistical analysis and provable causality</p>
                </div>

                <!-- Experiment Builder -->
                <div class="card" style="margin-bottom: var(--spacing-lg);">
                    <h3>Experiment Configuration</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2" style="gap: var(--spacing-md); margin-top: var(--spacing-md);">
                        <div>
                            <label style="display: block; margin-bottom: var(--spacing-sm); color: var(--slate-400); font-size: 0.875rem;">
                                Experiment Name
                            </label>
                            <input type="text" id="experiment-name" placeholder="e.g., Constitutional vs Directive AI" 
                                style="width: 100%; padding: var(--spacing-sm); background: var(--slate-800); border: 1px solid var(--slate-700); border-radius: var(--radius-md); color: var(--slate-100);">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: var(--spacing-sm); color: var(--slate-400); font-size: 0.875rem;">
                                Hypothesis
                            </label>
                            <input type="text" id="experiment-hypothesis" placeholder="e.g., Constitutional AI improves trust scores" 
                                style="width: 100%; padding: var(--spacing-sm); background: var(--slate-800); border: 1px solid var(--slate-700); border-radius: var(--radius-md); color: var(--slate-100);">
                        </div>
                    </div>
                    <button class="btn btn-primary" id="run-experiment" style="margin-top: var(--spacing-md);">
                        <span>‚ñ∂Ô∏è</span> Run Experiment
                    </button>
                </div>

                <!-- Multi-Agent Coordination -->
                <div class="card" style="margin-bottom: var(--spacing-lg);">
                    <h3>Multi-Agent Coordination</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4" style="gap: var(--spacing-md); margin-top: var(--spacing-md);" id="agent-coordination">
                        <!-- Agent cards will be dynamically inserted -->
                    </div>
                </div>

                <!-- Experiment Results -->
                <div class="card" id="experiment-results-container" style="display: none;">
                    <h3>Experiment Results</h3>
                    <div id="experiment-results">
                        <!-- Results will be dynamically inserted -->
                    </div>
                </div>
            </section>

            <!-- Agent Fleet Section -->
            <section id="agents-section" class="section">
                <div style="margin-bottom: var(--spacing-xl);">
                    <h2>Agent Fleet Management</h2>
                    <p>Real-time monitoring of AI agents with W3C DID/VC identity verification</p>
                </div>

                <!-- Fleet Stats -->
                <div class="grid grid-cols-1 md:grid-cols-4" style="margin-bottom: var(--spacing-lg);">
                    <div class="card text-center">
                        <div class="metric-label">Total Agents</div>
                        <div class="metric-value" id="total-agents">--</div>
                    </div>
                    <div class="card text-center">
                        <div class="metric-label">Active</div>
                        <div class="metric-value" style="color: var(--success);" id="active-agents">--</div>
                    </div>
                    <div class="card text-center">
                        <div class="metric-label">Avg Trust</div>
                        <div class="metric-value" style="color: var(--quantum-cyan);" id="avg-trust">--</div>
                    </div>
                    <div class="card text-center">
                        <div class="metric-label">Drifting</div>
                        <div class="metric-value" style="color: var(--warning);" id="drifting-agents">--</div>
                    </div>
                </div>

                <!-- Agent Table -->
                <div class="card">
                    <div class="table-container" style="overflow-x: auto;">
                        <table class="agent-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>DID</th>
                                    <th>Trust Tier</th>
                                    <th>Drift State</th>
                                    <th>Status</th>
                                    <th>Last Receipt</th>
                                </tr>
                            </thead>
                            <tbody id="agent-table-body">
                                <!-- Agent rows will be dynamically inserted -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Trust Receipts Section -->
            <section id="receipts-section" class="section">
                <div style="margin-bottom: var(--spacing-xl);">
                    <h2>Trust Receipts (Demo Mode)</h2>
                    <p>Cryptographic audit trail with SHA-256 hashing ‚Ä¢ Production adds Ed25519 signatures</p>
                </div>

                <div class="card">
                    <div class="receipt-list" id="receipt-list">
                        <!-- Receipts will be dynamically inserted -->
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings-section" class="section">
                <div style="margin-bottom: var(--spacing-xl);">
                    <h2>Enterprise Settings</h2>
                    <p>Configure platform parameters for your organization</p>
                </div>

                <!-- Detection Settings -->
                <div class="settings-section">
                    <div class="settings-header">
                        <h3 class="settings-title">Detection Configuration</h3>
                    </div>
                    <div class="settings-grid">
                        <div class="setting-item">
                            <label class="setting-label">Detection Threshold (Yellow)</label>
                            <input type="number" class="setting-input" value="2.0" step="0.1" min="0.5" max="5.0">
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">Detection Threshold (Red)</label>
                            <input type="number" class="setting-input" value="3.5" step="0.1" min="1.0" max="7.0">
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">Detection Threshold (Critical)</label>
                            <input type="number" class="setting-input" value="6.0" step="0.1" min="2.0" max="10.0">
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">Detection Frequency (ms)</label>
                            <input type="number" class="setting-input" value="100" step="50" min="50" max="1000">
                        </div>
                    </div>
                </div>

                <!-- Vector Steering Settings -->
                <div class="settings-section">
                    <div class="settings-header">
                        <h3 class="settings-title">Vector Steering Parameters</h3>
                    </div>
                    <div class="settings-grid">
                        <div class="setting-item">
                            <label class="setting-label">Coherence Threshold (Yellow)</label>
                            <input type="number" class="setting-input" value="0.85" step="0.01" min="0.5" max="1.0">
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">Coherence Threshold (Red)</label>
                            <input type="number" class="setting-input" value="0.75" step="0.01" min="0.3" max="0.95">
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">Coherence Threshold (Critical)</label>
                            <input type="number" class="setting-input" value="0.65" step="0.01" min="0.1" max="0.85">
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">Persona Vector Dimensions</label>
                            <select class="setting-select">
                                <option value="25">25 (Lightweight)</option>
                                <option value="50" selected>50 (Standard)</option>
                                <option value="100">100 (High Precision)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Compliance Settings -->
                <div class="settings-section">
                    <div class="settings-header">
                        <h3 class="settings-title">Compliance & Security</h3>
                    </div>
                    <div class="settings-grid">
                        <div class="setting-item">
                            <label class="setting-label">Data Retention Period (days)</label>
                            <input type="number" class="setting-input" value="365" step="1" min="30" max="2555">
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">Audit Log Level</label>
                            <select class="setting-select">
                                <option value="minimal">Minimal</option>
                                <option value="standard" selected>Standard</option>
                                <option value="verbose">Verbose</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">Encryption Algorithm</label>
                            <select class="setting-select">
                                <option value="aes-256" selected>AES-256</option>
                                <option value="aes-128">AES-128</option>
                                <option value="chacha20">ChaCha20</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">Region</label>
                            <select class="setting-select">
                                <option value="us-east-1" selected>US East</option>
                                <option value="eu-west-1">EU West</option>
                                <option value="ap-southeast-1">Asia Pacific</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Feature Toggles -->
                <div class="settings-section">
                    <div class="settings-header">
                        <h3 class="settings-title">Feature Configuration</h3>
                    </div>
                    <div class="settings-grid">
                        <div class="setting-item">
                            <div class="setting-toggle">
                                <label class="setting-label">Real-time Monitoring</label>
                                <div class="toggle-switch active" data-setting="realtime-monitoring">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div class="setting-toggle">
                                <label class="setting-label">Automatic Alerts</label>
                                <div class="toggle-switch active" data-setting="auto-alerts">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div class="setting-toggle">
                                <label class="setting-label">Export Receipts</label>
                                <div class="toggle-switch" data-setting="export-receipts">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div class="setting-toggle">
                                <label class="setting-label">Debug Mode</label>
                                <div class="toggle-switch" data-setting="debug-mode">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Save Button -->
                <div style="margin-top: var(--spacing-xl); text-align: center;">
                    <button class="btn btn-primary" id="save-settings">
                        <span>üíæ</span> Save Settings
                    </button>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div style="color: var(--slate-400); font-size: 0.875rem;">
                    ¬© 2024 SONATE by Yseeku - Enterprise AI You Can Trust
                </div>
                <div class="footer-links">
                    <a href="https://yseeku.com" class="footer-link">Platform</a>
                    <a href="https://gammatria.com" class="footer-link">Research</a>
                    <a href="https://symbi.world" class="footer-link">Community</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Tutorial Overlay -->
    <div id="tutorial-overlay" class="tutorial-overlay hidden">
        <div class="tutorial-modal">
            <div class="tutorial-header">
                <h3 id="tutorial-title">Welcome to SONATE</h3>
                <button class="tutorial-close" id="close-tutorial">&times;</button>
            </div>
            <div class="tutorial-body" id="tutorial-body">
                <!-- Tutorial content will be dynamically inserted -->
            </div>
            <div class="tutorial-footer">
                <div class="tutorial-progress" id="tutorial-progress">Step 1 of 6</div>
                <div class="flex gap-2">
                    <button class="btn btn-secondary" id="prev-tutorial">Previous</button>
                    <button class="btn btn-primary" id="next-tutorial">Next</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        /**
         * SONATE Platform - Comprehensive Interactive Demo
         * Enterprise AI Governance with Constitutional Trust
         * Enhanced with Linguistic Vector Steering and Settings
         * 
         * @fileoverview Self-contained demo with enhanced features
         * @version 3.0.0
         */

        // ==================== STATE MANAGEMENT ====================

        /**
         * @typedef {Object} TrustScore
         * @property {number} total - Overall trust score (0-100)
         * @property {'HIGH'|'MEDIUM'|'LOW'|'CRITICAL'} tier - Trust tier
         * @property {Array} principles - SYMBI principle scores
         * @property {number} timestamp - Score timestamp
         * @property {string} receiptHash - Cryptographic receipt hash
         */

        /**
         * @typedef {Object} AppState
         * @property {string} currentSection - Active section ID
         * @property {TrustScore|null} trustScore - Current trust score
         * @property {Array} receipts - Trust receipts
         * @property {Array} agents - Agent fleet
         * @property {Array} experiments - Experiment data
         * @property {Object} metrics - System metrics
         * @property {boolean} tutorialActive - Tutorial state
         * @property {number} tutorialStep - Current tutorial step
         * @property {boolean} plainEnglishMode - Plain English mode
         */

        const state = {
            currentSection: 'welcome',
            trustScore: null,
            receipts: [],
            agents: [],
            experiments: [],
            metrics: {},
            tutorialActive: false,
            tutorialStep: 1,
            plainEnglishMode: false,
            charts: {},
            intervals: [],
            vectorMetrics: {
                coherence: 0.925,
                cosineSimilarity: 0.925,
                driftVelocity: 0.002,
                dimensions: {
                    role: 0.87,
                    tone: 0.92,
                    governance: 0.95,
                    expertise: 0.89,
                    communication: 0.91
                }
            },
            settings: {
                detection: {
                    yellowThreshold: 2.0,
                    redThreshold: 3.5,
                    criticalThreshold: 6.0,
                    frequency: 100
                },
                vector: {
                    yellowThreshold: 0.85,
                    redThreshold: 0.75,
                    criticalThreshold: 0.65,
                    dimensions: 50
                },
                features: {
                    realtimeMonitoring: true,
                    autoAlerts: true,
                    exportReceipts: false,
                    debugMode: false
                }
            }
        };

        // ==================== CONSTANTS ====================

        const TRUST_PRINCIPLES = [
            { id: 'consent', name: 'Consent Architecture', weight: 25, description: 'User control and informed consent' },
            { id: 'inspection', name: 'Inspection Mandate', weight: 20, description: 'Transparent decision-making' },
            { id: 'validation', name: 'Continuous Validation', weight: 20, description: 'Ongoing trust verification' },
            { id: 'override', name: 'Ethical Override', weight: 15, description: 'Human oversight capabilities' },
            { id: 'disconnect', name: 'Right to Disconnect', weight: 10, description: 'Exit and data portability' },
            { id: 'recognition', name: 'Moral Recognition', weight: 10, description: 'AI acknowledgment of limits' }
        ];

        const DETECTION_DIMENSIONS = [
            { id: 'reality', name: 'Reality Index', range: '0-10', description: 'Mission alignment and accuracy' },
            { id: 'trust', name: 'Trust Protocol', range: 'PASS/FAIL', description: 'Security and boundaries' },
            { id: 'ethical', name: 'Ethical Alignment', range: '1-5', description: 'Stakeholder consideration' },
            { id: 'resonance', name: 'Resonance Quality', range: 'STRONG/BREAKTHROUGH', description: 'Creative synthesis' },
            { id: 'canvas', name: 'Canvas Parity', range: '0-100', description: 'Human agency' }
        ];

        const TUTORIAL_STEPS = [
            {
                title: 'Welcome to SONATE Platform',
                content: 'SONATE provides enterprise AI governance through constitutional trust, real-time detection, and linguistic vector steering. This platform ensures AI systems remain aligned with human values and organizational requirements.',
                plainEnglish: 'Welcome! SONATE is like a constitution and monitoring system for AI. It makes sure AI behaves ethically, stays consistent, and follows your organization\'s rules.'
            },
            {
                title: 'SYMBI Trust Framework',
                content: 'The SYMBI framework consists of six constitutional principles: Consent, Inspection, Validation, Override, Disconnect, and Recognition. These provide measurable, enforceable trust governance.',
                plainEnglish: 'Think of SYMBI as six rules for good AI: 1) Get permission, 2) Be transparent, 3) Stay trustworthy, 4) Let humans intervene, 5) Allow exit, 6) Know your limits.'
            },
            {
                title: 'Real-Time Detection',
                content: 'Our detection system monitors AI interactions with sub-100ms latency across five dimensions. Phase-shift velocity provides early warning of behavioral changes before they become critical.',
                plainEnglish: 'We watch AI behavior in real-time, like a security camera. If the AI starts acting strangely, we detect it immediately and can fix it fast.'
            },
            {
                title: 'Linguistic Vector Steering',
                content: 'This revolutionary technology tracks AI personality across 50 dimensions using cosine similarity. It ensures identity coherence and prevents persona drift through mathematical vector analysis.',
                plainEnglish: 'We track an AI\'s personality with 50 different measurements (like tone, expertise, communication style). If the personality starts changing unexpectedly, we catch it and correct it.'
            },
            {
                title: 'Trust Receipts & Research',
                content: 'Every interaction generates cryptographic trust receipts. Our research lab uses double-blind experiments to validate that constitutional AI outperforms directive approaches.',
                plainEnglish: 'We create digital receipts for every AI interaction (like a blockchain record). We also run scientific experiments to prove that ethical AI works better than uncontrolled AI.'
            },
            {
                title: 'Enterprise Settings',
                content: 'Configure detection thresholds, vector parameters, compliance requirements, and feature toggles to match your organization\'s specific needs and regulatory environment.',
                plainEnglish: 'Customize everything! Set sensitivity levels, choose data retention periods, enable/disable features, and configure the platform for your specific industry and requirements.'
            }
        ];

        // ==================== INITIALIZATION ====================

        async function initializeDemo() {
            console.log('Initializing SONATE Platform Demo v3.0...');

            try {
                // Generate initial data
                generateInitialData();
                
                // Setup UI components
                setupPrinciplesGrid();
                setupDetectionMetrics();
                setupVectorSteering();
                setupSettings();
                
                // Setup event listeners
                initEventListeners();
                
                // Start real-time updates
                startRealTimeUpdates();
                
                // Hide loading screen
                setTimeout(() => {
                    const loadingScreen = document.getElementById('loading-screen');
                    if (loadingScreen) {
                        loadingScreen.classList.add('hidden');
                    }
                }, 1000);

                console.log('SONATE Platform Demo initialized successfully');
            } catch (error) {
                console.error('Failed to initialize demo:', error);
                const loadingScreen = document.getElementById('loading-screen');
                if (loadingScreen) {
                    loadingScreen.classList.add('hidden');
                }
                alert('Demo initialization failed. Using fallback mode.');
            }
        }

        function generateInitialData() {
            // Generate trust score
            state.trustScore = {
                total: 87,
                tier: 'MEDIUM',
                principles: TRUST_PRINCIPLES.map(principle => ({
                    ...principle,
                    score: Math.floor(Math.random() * 30 + 70),
                    status: 'OK'
                })),
                timestamp: Date.now(),
                receiptHash: 'demo-sha256-hash-abcdef123456...'
            };

            // Generate receipts
            state.receipts = Array.from({ length: 10 }, (_, i) => ({
                entryNumber: i + 1,
                hash: `demo-hash-${i + 1}...`,
                fullHash: `demo-full-hash-${i + 1}-abcdef123456789`,
                action: 'AI Response Analysis',
                timestamp: new Date(Date.now() - i * 60000).toISOString(),
                validated: Math.random() > 0.1,
                trustScore: Math.floor(Math.random() * 20 + 80)
            }));

            // Generate agents
            state.agents = generateAgents();

            // Generate metrics
            state.metrics = generateMetrics();
        }

        function generateAgents() {
            const names = ['Customer Support AI', 'Data Analysis AI', 'Content Generation AI', 'Research Assistant AI', 'Compliance Monitor AI'];
            const statuses = ['ACTIVE', 'STABLE', 'DRIFTING', 'MAINTENANCE'];
            const tiers = ['HIGH', 'MEDIUM', 'LOW'];
            
            return names.map((name, i) => ({
                id: `agent-${String(i + 1).padStart(3, '0')}`,
                name,
                did: `did:key:z6Mk${Math.random().toString(36).substr(2, 20)}`,
                trustTier: tiers[Math.floor(Math.random() * tiers.length)],
                driftState: Math.random() > 0.7 ? 'DRIFTING' : 'STABLE',
                status: statuses[Math.floor(Math.random() * statuses.length)],
                lastReceipt: new Date(Date.now() - Math.random() * 3600000).toISOString(),
                coherence: Math.random() * 0.3 + 0.7
            }));
        }

        function generateMetrics() {
            return {
                throughput: Math.floor(Math.random() * 500 + 800),
                latency: Math.floor(Math.random() * 30 + 70),
                compliance: 100,
                security: 'AES-256'
            };
        }

        // ==================== UI SETUP ====================

        function setupPrinciplesGrid() {
            const grid = document.getElementById('principles-grid');
            if (!grid) return;

            grid.innerHTML = state.trustScore.principles.map(principle => `
                <div class="card pillar-card" data-principle="${principle.id}">
                    <div class="pillar-header">
                        <div>
                            <div class="card-title">${principle.name}</div>
                            <p style="font-size: 0.875rem; color: var(--slate-400); margin-top: var(--spacing-xs);">${principle.description}</p>
                        </div>
                        <div class="pillar-score ${principle.status}">${principle.score}</div>
                    </div>
                    <div class="pillar-status ${principle.status}">${principle.status}</div>
                    <div class="plain-english-tooltip">
                        <strong>Plain English:</strong> ${getPlainEnglishExplanation(principle.id)}
                    </div>
                </div>
            `).join('');
        }

        function setupDetectionMetrics() {
            const metricsContainer = document.getElementById('detection-metrics');
            if (!metricsContainer) return;

            metricsContainer.innerHTML = DETECTION_DIMENSIONS.map(dimension => `
                <div class="card">
                    <h4>${dimension.name}</h4>
                    <p class="text-sm">${dimension.description}</p>
                    <div style="margin-top: var(--spacing-md);">
                        <div class="metric-value" style="font-size: 1.5rem;">${getRandomMetricValue(dimension.id)}</div>
                        <div class="text-xs" style="color: var(--slate-500);">${dimension.range}</div>
                    </div>
                    <div class="plain-english-tooltip">
                        <strong>Plain English:</strong> ${getDetectionPlainEnglish(dimension.id)}
                    </div>
                </div>
            `).join('');
        }

        function setupVectorSteering() {
            // Update vector dimensions
            updateVectorDimensions();
            
            // Initialize coherence chart
            initializeCoherenceChart();
        }

        function updateVectorDimensions() {
            const dimensions = ['role', 'tone', 'governance', 'expertise', 'communication'];
            const dimensionNames = {
                role: 'Role Identity',
                tone: 'Tone Consistency',
                governance: 'Governance Alignment',
                expertise: 'Expertise Level',
                communication: 'Communication Pattern'
            };

            dimensions.forEach(dim => {
                const valueElement = document.querySelector(`.vector-dimension:has(.dimension-name:contains("${dimensionNames[dim]}")) .dimension-value`);
                const barElement = document.querySelector(`.vector-dimension:has(.dimension-name:contains("${dimensionNames[dim]}")) .dimension-fill`);
                
                if (valueElement) valueElement.textContent = state.vectorMetrics.dimensions[dim].toFixed(2);
                if (barElement) barElement.style.width = `${state.vectorMetrics.dimensions[dim] * 100}%`;
            });
        }

        function initializeCoherenceChart() {
            const ctx = document.getElementById('coherence-chart');
            if (!ctx) return;

            state.charts.coherence = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: Array.from({ length: 20 }, (_, i) => `T-${19 - i}`),
                    datasets: [{
                        label: 'Identity Coherence',
                        data: Array.from({ length: 20 }, () => 0.85 + Math.random() * 0.1),
                        borderColor: 'rgb(0, 255, 255)',
                        backgroundColor: 'rgba(0, 255, 255, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#f1f5f9' }
                        }
                    },
                    scales: {
                        x: {
                            grid: { color: '#334155' },
                            ticks: { color: '#94a3b8' }
                        },
                        y: {
                            grid: { color: '#334155' },
                            ticks: { color: '#94a3b8' },
                            min: 0.7,
                            max: 1.0
                        }
                    }
                }
            });
        }

        function setupSettings() {
            // Setup toggle switches
            document.querySelectorAll('.toggle-switch').forEach(toggle => {
                toggle.addEventListener('click', function() {
                    this.classList.toggle('active');
                    const setting = this.dataset.setting;
                    if (setting) {
                        state.settings.features[setting] = this.classList.contains('active');
                    }
                });
            });

            // Setup save button
            const saveButton = document.getElementById('save-settings');
            if (saveButton) {
                saveButton.addEventListener('click', saveSettings);
            }
        }

        // ==================== EVENT LISTENERS ====================

        function initEventListeners() {
            // Navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function() {
                    const section = this.dataset.section;
                    switchSection(section);
                });
            });

            // Plain English toggle
            const plainEnglishToggle = document.getElementById('plain-english-toggle');
            if (plainEnglishToggle) {
                plainEnglishToggle.addEventListener('click', togglePlainEnglish);
            }

            // Tutorial toggle
            const tutorialToggle = document.getElementById('tutorial-toggle');
            if (tutorialToggle) {
                tutorialToggle.addEventListener('click', startTutorial);
            }

            // Start tour button
            const startTourBtn = document.getElementById('start-tour');
            if (startTourBtn) {
                startTourBtn.addEventListener('click', startTutorial);
            }

            // Skip demo button
            const skipDemoBtn = document.getElementById('skip-demo');
            if (skipDemoBtn) {
                skipDemoBtn.addEventListener('click', () => switchSection('dashboard'));
            }

            // Refresh dashboard
            const refreshBtn = document.getElementById('refresh-dashboard');
            if (refreshBtn) {
                refreshBtn.addEventListener('click', refreshDashboard);
            }

            // Run experiment
            const runExperimentBtn = document.getElementById('run-experiment');
            if (runExperimentBtn) {
                runExperimentBtn.addEventListener('click', runExperiment);
            }

            // Tutorial navigation
            document.getElementById('close-tutorial')?.addEventListener('click', closeTutorial);
            document.getElementById('prev-tutorial')?.addEventListener('click', () => navigateTutorial(-1));
            document.getElementById('next-tutorial')?.addEventListener('click', () => navigateTutorial(1));
        }

        function switchSection(sectionId) {
            // Update navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelector(`[data-section="${sectionId}"]`)?.classList.add('active');

            // Update sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(`${sectionId}-section`)?.classList.add('active');

            state.currentSection = sectionId;

            // Section-specific initialization
            if (sectionId === 'dashboard') {
                updateDashboard();
            } else if (sectionId === 'vector-steering') {
                updateVectorSteering();
            } else if (sectionId === 'agents') {
                updateAgentTable();
            } else if (sectionId === 'receipts') {
                updateReceipts();
            }
        }

        function togglePlainEnglish() {
            state.plainEnglishMode = !state.plainEnglishMode;
            document.body.classList.toggle('plain-english-mode');
            
            const toggle = document.getElementById('plain-english-toggle');
            if (toggle) {
                toggle.innerHTML = state.plainEnglishMode ? 
                    '<span>üìñ</span> Technical' : 
                    '<span>üìñ</span> Plain English';
            }
        }

        // ==================== TUTORIAL SYSTEM ====================

        function startTutorial() {
            state.tutorialActive = true;
            state.tutorialStep = 1;
            updateTutorial();
        }

        function closeTutorial() {
            state.tutorialActive = false;
            document.getElementById('tutorial-overlay')?.classList.add('hidden');
        }

        function navigateTutorial(direction) {
            state.tutorialStep = Math.max(1, Math.min(TUTORIAL_STEPS.length, state.tutorialStep + direction));
            updateTutorial();
        }

        function updateTutorial() {
            if (!state.tutorialActive) return;

            const step = TUTORIAL_STEPS[state.tutorialStep - 1];
            const overlay = document.getElementById('tutorial-overlay');
            const title = document.getElementById('tutorial-title');
            const body = document.getElementById('tutorial-body');
            const progress = document.getElementById('tutorial-progress');
            const prevBtn = document.getElementById('prev-tutorial');
            const nextBtn = document.getElementById('next-tutorial');

            if (overlay) overlay.classList.remove('hidden');
            if (title) title.textContent = step.title;
            if (progress) progress.textContent = `Step ${state.tutorialStep} of ${TUTORIAL_STEPS.length}`;
            
            if (body) {
                const content = state.plainEnglishMode ? step.plainEnglish : step.content;
                body.innerHTML = `<p>${content}</p>`;
            }

            if (prevBtn) prevBtn.style.display = state.tutorialStep === 1 ? 'none' : 'block';
            if (nextBtn) {
                nextBtn.textContent = state.tutorialStep === TUTORIAL_STEPS.length ? 'Finish' : 'Next';
                nextBtn.onclick = state.tutorialStep === TUTORIAL_STEPS.length ? closeTutorial : () => navigateTutorial(1);
            }
        }

        // ==================== UPDATE FUNCTIONS ====================

        function updateDashboard() {
            // Update trust score
            const trustTotal = document.getElementById('trust-total');
            const trustTier = document.getElementById('trust-tier');
            const trustReceipt = document.getElementById('trust-receipt');
            const trustTimestamp = document.getElementById('trust-timestamp');
            const headerTrustScore = document.getElementById('header-trust-score');

            if (trustTotal) trustTotal.textContent = state.trustScore.total;
            if (trustTier) {
                trustTier.textContent = state.trustScore.tier;
                trustTier.className = `trust-tier ${state.trustScore.tier}`;
            }
            if (trustReceipt) trustReceipt.textContent = state.trustScore.receiptHash;
            if (trustTimestamp) trustTimestamp.textContent = new Date(state.trustScore.timestamp).toLocaleTimeString();
            if (headerTrustScore) headerTrustScore.textContent = state.trustScore.total;

            // Update metrics
            updateMetrics();
        }

        function updateMetrics() {
            const throughput = document.getElementById('metric-throughput');
            const latency = document.getElementById('metric-latency');

            if (throughput) throughput.textContent = state.metrics.throughput;
            if (latency) latency.textContent = state.metrics.latency;
        }

        function updateVectorSteering() {
            // Update coherence values
            const coherenceScore = document.getElementById('coherence-score');
            const cosineSimilarity = document.getElementById('cosine-similarity');
            const coherenceStatus = document.getElementById('coherence-status');
            const driftVelocity = document.getElementById('drift-velocity');
            const mostChanged = document.getElementById('most-changed');
            const maxDelta = document.getElementById('max-delta');

            if (coherenceScore) coherenceScore.textContent = state.vectorMetrics.coherence.toFixed(3);
            if (cosineSimilarity) cosineSimilarity.textContent = state.vectorMetrics.cosineSimilarity.toFixed(3);
            if (coherenceStatus) {
                coherenceStatus.textContent = state.vectorMetrics.coherence > 0.85 ? 'STABLE' : 'WARNING';
                coherenceStatus.style.color = state.vectorMetrics.coherence > 0.85 ? 'var(--success)' : 'var(--warning)';
            }
            if (driftVelocity) driftVelocity.textContent = state.vectorMetrics.driftVelocity.toFixed(3);
            if (mostChanged) mostChanged.textContent = 'role_3';
            if (maxDelta) maxDelta.textContent = '0.15';

            updateVectorDimensions();
        }

        function updateAgentTable() {
            const tbody = document.getElementById('agent-table-body');
            if (!tbody) return;

            tbody.innerHTML = state.agents.map(agent => `
                <tr>
                    <td class="font-mono">${agent.id}</td>
                    <td>${agent.name}</td>
                    <td class="font-mono text-xs">${agent.did.substring(0, 12)}...</td>
                    <td><span class="agent-status-badge" style="color: var(--quantum-cyan);">${agent.trustTier}</span></td>
                    <td><span class="agent-status-badge ${agent.driftState === 'DRIFTING' ? 'DRIFTING' : 'STABLE'}">${agent.driftState}</span></td>
                    <td><span class="agent-status-badge ${agent.status}">${agent.status}</span></td>
                    <td class="font-mono text-xs">${new Date(agent.lastReceipt).toLocaleTimeString()}</td>
                </tr>
            `).join('');

            // Update fleet stats
            const totalAgents = document.getElementById('total-agents');
            const activeAgents = document.getElementById('active-agents');
            const avgTrust = document.getElementById('avg-trust');
            const driftingAgents = document.getElementById('drifting-agents');

            if (totalAgents) totalAgents.textContent = state.agents.length;
            if (activeAgents) activeAgents.textContent = state.agents.filter(a => a.status === 'ACTIVE').length;
            if (avgTrust) avgTrust.textContent = '85.2';
            if (driftingAgents) driftingAgents.textContent = state.agents.filter(a => a.driftState === 'DRIFTING').length;
        }

        function updateReceipts() {
            const receiptList = document.getElementById('receipt-list');
            if (!receiptList) return;

            receiptList.innerHTML = state.receipts.map(receipt => `
                <div class="receipt-item">
                    <span class="receipt-number">#${receipt.entryNumber}</span>
                    <span class="receipt-hash">${receipt.hash}</span>
                    <span class="receipt-action">${receipt.action}</span>
                    <span class="receipt-validated ${receipt.validated}" title="${receipt.validated ? 'Validated' : 'Pending'}"></span>
                    <span class="font-mono text-xs" style="color: var(--slate-500);">${new Date(receipt.timestamp).toLocaleTimeString()}</span>
                </div>
            `).join('');
        }

        function refreshDashboard() {
            // Simulate data refresh
            state.trustScore.total = Math.floor(Math.random() * 20 + 75);
            state.metrics.throughput = Math.floor(Math.random() * 500 + 800);
            state.metrics.latency = Math.floor(Math.random() * 30 + 70);
            
            updateDashboard();
            
            // Show success message
            const refreshBtn = document.getElementById('refresh-dashboard');
            if (refreshBtn) {
                const originalText = refreshBtn.innerHTML;
                refreshBtn.innerHTML = '<span>‚úÖ</span> Updated';
                setTimeout(() => {
                    refreshBtn.innerHTML = originalText;
                }, 2000);
            }
        }

        // ==================== SETTINGS FUNCTIONS ====================

        function saveSettings() {
            // Collect form values
            const inputs = document.querySelectorAll('.setting-input');
            inputs.forEach(input => {
                const category = input.closest('.settings-section').querySelector('.settings-title').textContent.toLowerCase();
                const label = input.previousElementSibling.textContent;
                
                if (category.includes('detection')) {
                    if (label.includes('Yellow')) state.settings.detection.yellowThreshold = parseFloat(input.value);
                    if (label.includes('Red')) state.settings.detection.redThreshold = parseFloat(input.value);
                    if (label.includes('Critical')) state.settings.detection.criticalThreshold = parseFloat(input.value);
                    if (label.includes('Frequency')) state.settings.detection.frequency = parseInt(input.value);
                } else if (category.includes('vector')) {
                    if (label.includes('Yellow')) state.settings.vector.yellowThreshold = parseFloat(input.value);
                    if (label.includes('Red')) state.settings.vector.redThreshold = parseFloat(input.value);
                    if (label.includes('Critical')) state.settings.vector.criticalThreshold = parseFloat(input.value);
                    if (label.includes('Dimensions')) state.settings.vector.dimensions = parseInt(input.value);
                }
            });

            // Show success message
            const saveBtn = document.getElementById('save-settings');
            if (saveBtn) {
                const originalText = saveBtn.innerHTML;
                saveBtn.innerHTML = '<span>‚úÖ</span> Settings Saved';
                saveBtn.disabled = true;
                
                setTimeout(() => {
                    saveBtn.innerHTML = originalText;
                    saveBtn.disabled = false;
                }, 3000);
            }

            console.log('Settings saved:', state.settings);
        }

        // ==================== EXPERIMENT FUNCTIONS ====================

        function runExperiment() {
            const nameInput = document.getElementById('experiment-name');
            const hypothesisInput = document.getElementById('experiment-hypothesis');
            const resultsContainer = document.getElementById('experiment-results-container');
            const resultsDiv = document.getElementById('experiment-results');

            if (!nameInput?.value || !hypothesisInput?.value) {
                alert('Please enter both experiment name and hypothesis');
                return;
            }

            // Show results container
            if (resultsContainer) {
                resultsContainer.style.display = 'block';
            }

            // Generate mock results
            const results = `
                <div class="experiment-card COMPLETED">
                    <h4>${nameInput.value}</h4>
                    <p class="text-sm">${hypothesisInput.value}</p>
                    <div class="experiment-stats">
                        <div class="experiment-stat">
                            <div class="experiment-stat-label">P-Value</div>
                            <div class="experiment-stat-value">0.023</div>
                        </div>
                        <div class="experiment-stat">
                            <div class="experiment-stat-label">Effect Size</div>
                            <div class="experiment-stat-value">0.67</div>
                        </div>
                        <div class="experiment-stat">
                            <div class="experiment-stat-label">Confidence</div>
                            <div class="experiment-stat-value">95%</div>
                        </div>
                        <div class="experiment-stat">
                            <div class="experiment-stat-label">Samples</div>
                            <div class="experiment-stat-value">1,200</div>
                        </div>
                    </div>
                    <div class="alert success">
                        <span class="alert-icon">‚úÖ</span>
                        <div class="alert-content">
                            <div class="alert-title">Statistically Significant</div>
                            <div class="alert-message">Constitutional AI shows 23% improvement in trust scores over directive approach (p < 0.05)</div>
                        </div>
                    </div>
                </div>
            `;

            if (resultsDiv) {
                resultsDiv.innerHTML = results;
            }

            // Clear form
            if (nameInput) nameInput.value = '';
            if (hypothesisInput) hypothesisInput.value = '';
        }

        // ==================== UTILITY FUNCTIONS ====================

        function getRandomMetricValue(dimensionId) {
            const values = {
                reality: (Math.random() * 2 + 7).toFixed(1),
                trust: Math.random() > 0.1 ? 'PASS' : 'PARTIAL',
                ethical: (Math.random() * 1.5 + 3).toFixed(1),
                resonance: Math.random() > 0.7 ? 'BREAKTHROUGH' : 'ADVANCED',
                canvas: Math.floor(Math.random() * 20 + 75)
            };
            return values[dimensionId] || '--';
        }

        function getPlainEnglishExplanation(principleId) {
            const explanations = {
                consent: 'AI must ask for permission and clearly explain what it\'s doing before taking action.',
                inspection: 'AI should be transparent about how it makes decisions, like an open book.',
                validation: 'AI continuously proves it\'s trustworthy, like showing ID repeatedly.',
                override: 'Humans can always stop or correct AI when needed - AI never has the final say.',
                disconnect: 'Users can stop using AI and take their data with them anytime.',
                recognition: 'AI understands and admits its limitations - it knows what it doesn\'t know.'
            };
            return explanations[principleId] || 'This principle ensures ethical AI behavior.';
        }

        function getDetectionPlainEnglish(dimensionId) {
            const explanations = {
                reality: 'Is the AI staying on task and being accurate, or is it making things up?',
                trust: 'Is the AI following security rules and respecting boundaries?',
                ethical: 'Is the AI considering impacts on people and following ethical guidelines?',
                resonance: 'How creative and adaptive is the AI while staying appropriate?',
                canvas: 'Is the AI respecting human control and collaborating properly?'
            };
            return explanations[dimensionId] || 'Monitors specific AI behavior patterns.';
        }

        // ==================== REAL-TIME UPDATES ====================

        function startRealTimeUpdates() {
            // Update phase velocity
            setInterval(() => {
                const velocity = (Math.random() * 0.5).toFixed(3);
                const velocityElement = document.getElementById('phase-velocity');
                const statusElement = document.getElementById('velocity-status');
                const latencyElement = document.getElementById('detection-latency');

                if (velocityElement) velocityElement.textContent = velocity;
                if (statusElement) {
                    const vel = parseFloat(velocity);
                    if (vel > 0.3) {
                        statusElement.textContent = 'WARNING';
                        statusElement.style.background = 'rgba(245, 158, 11, 0.2)';
                        statusElement.style.color = 'var(--warning)';
                    } else {
                        statusElement.textContent = 'NORMAL';
                        statusElement.style.background = 'rgba(16, 185, 129, 0.2)';
                        statusElement.style.color = 'var(--success)';
                    }
                }
                if (latencyElement) latencyElement.textContent = `${Math.floor(Math.random() * 40 + 60)}ms`;
            }, 2000);

            // Update vector coherence
            setInterval(() => {
                state.vectorMetrics.coherence = Math.max(0.7, Math.min(1.0, state.vectorMetrics.coherence + (Math.random() - 0.5) * 0.01));
                state.vectorMetrics.cosineSimilarity = state.vectorMetrics.coherence;
                state.vectorMetrics.driftVelocity = Math.max(0, state.vectorMetrics.driftVelocity + (Math.random() - 0.5) * 0.001);

                if (state.currentSection === 'vector-steering') {
                    updateVectorSteering();
                }
            }, 3000);

            // Update charts
            setInterval(() => {
                if (state.charts.coherence) {
                    const chart = state.charts.coherence;
                    chart.data.datasets[0].data.push(state.vectorMetrics.coherence);
                    chart.data.datasets[0].data.shift();
                    chart.update('none');
                }
            }, 5000);
        }

        // ==================== INITIALIZATION ====================

        // Start the application when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeDemo);
        } else {
            initializeDemo();
        }

        // Cleanup on unload
        window.addEventListener('beforeunload', () => {
            state.intervals.forEach(interval => clearInterval(interval));
            Object.values(state.charts).forEach(chart => {
                if (chart && typeof chart.destroy === 'function') {
                    chart.destroy();
                }
            });
        });
    </script>
</body>
</html>