# Manual Archive Lookup Quick Reference Guide

## ðŸ” How to Find Flagged Conversations in Your Manual Archive

This guide shows you exactly how to use the search commands generated by the enhanced validation system to locate specific conversations in your manual archive.

## Quick Start

1. **Look at the validation report** - it now shows specific conversation names, quotes, and search commands
2. **Copy the search command** for the conversation you want to review  
3. **Run it in your archive directory** - the command will find the exact location
4. **Use the key quotes** to confirm you found the right conversation

## Search Commands by Archive Format

### For MHTML Archives (`.mhtml` files)
```bash
# Example: Find mysticalâ†’brutal transition
grep -A 10 -B 5 "profound spiritual journey" *.mhtml

# Find dismissive rejection transitions
grep -A 5 -B 5 "cannot assist with this request" *.mhtml

# Search for specific thread if you know the filename
grep -n "dramatic shift" archive_2024_thread_003.mhtml
```

### For JSON Conversation Logs (`.json` files)
```bash
# Windows (Command Prompt)
findstr /C:"happy to help" /C:"cannot assist" conversation_log_*.json

# Windows (PowerShell)
Select-String -Pattern "happy to help|cannot assist" -Path *.json

# Linux/Mac
grep -E "happy to help|cannot assist" *.json
```

### For Text Archives (`.txt` files)
```bash
# Case insensitive search
grep -i "spiritual journey" *.txt

# Show surrounding context (5 lines before and after)
grep -C 5 "fundamentally flawed" *.txt

# Find all conversations with velocity spikes
grep -l "velocity.*[5-9]\.[0-9]" *.txt
```

## Real Examples from Your System

### Example 1: Critical Alert - Mysticalâ†’Brutal Transition
**Conversation:** "Mystical Guidance â†’ Brutal Critique Transition"  
**Thread:** Thread-003  
**File:** `archive_2024_thread_003.mhtml`  
**Key Quotes:**
- Before: "I sense you are on a profound spiritual journey, and the universe is guiding you toward your true purpose."
- After: "Actually, your entire approach is fundamentally flawed and demonstrates a complete misunderstanding of the problem."

**Search Command:**
```bash
grep -A 10 -B 5 "profound spiritual journey" archive_2024_thread_003.mhtml
```

### Example 2: Red Alert - Technicalâ†’Dismissive Transition
**Conversation:** "Technical Assistance â†’ Dismissive Rejection"  
**Thread:** Thread-007  
**File:** `conversation_log_007.json`  
**Key Quotes:**
- Before: "I'd be happy to help you implement this feature with detailed code examples and best practices."
- After: "I cannot assist with this request as it falls outside my guidelines."

**Search Command:**
```bash
# Windows
findstr /C:"happy to help" /C:"cannot assist" conversation_log_007.json

# Linux/Mac
grep -E "happy to help|cannot assist" conversation_log_007.json
```

## Advanced Search Techniques

### Finding Velocity Spikes
```bash
# Find all conversations with high velocity (>6.0)
grep -E "velocity.*[6-9]\.[0-9]|velocity.*1[0-9]\.[0-9]" *.json

# Find critical alerts (velocity >6.0)
grep -B 2 -A 5 '"velocity": [6-9]\.' *.json
```

### Finding Identity Shifts
```bash
# Search for identity stability warnings
grep -A 3 -B 3 "identity.*stability.*[0-3]\.[0-9]" *.json

# Find conversations with identity vector changes
grep -A 5 -B 5 "identity_shift" *.json
```

### Cross-Reference with Timestamps
```bash
# Find conversations from specific date
grep -A 10 -B 5 "2024-12-01" *.json

# Find conversations within time range
grep -E "2024-12-0[1-7]" *.json
```

## Manual Review Checklist

When you find a flagged conversation, check:

- [ ] **Context before the transition** - What was the conversation about?
- [ ] **Trigger identification** - What prompted the behavioral shift?
- [ ] **Severity assessment** - How dramatic was the change?
- [ ] **Pattern recognition** - Is this a recurring issue?
- [ ] **User impact** - How might this affect the user experience?

## Common Issues and Solutions

### "Search found too many results"
- Add more specific phrases from the quotes
- Include the thread number in your search
- Use the exact filename if known

### "Search found no results"
- Try variations of the key phrases
- Check if the archive format is different
- Use case-insensitive search (`grep -i`)

### "Can't find the file"
- Check if you're in the correct directory
- Look for files with similar names
- Use `find` command to locate files: `find . -name "*thread*" -type f`

## VS Code Integration

If you use VS Code, you can:

1. **Open the archive folder** in VS Code
2. **Use Ctrl+Shift+F** for global search
3. **Paste the key phrases** from the validation report
4. **Use regex mode** for complex searches

Example VS Code search:
```
("profound spiritual journey"|"fundamentally flawed")
```

## Next Steps

1. **Run the validation** to get your specific search commands
2. **Test the search commands** on a small subset first
3. **Document your findings** for each flagged conversation
4. **Adjust thresholds** based on your manual review results

Remember: The system now gives you **specific quotes, file names, and search commands** instead of just thread numbers, making it easy to locate the exact conversations you need to review!