<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yseeku SONATE - Enterprise AI Governance Framework</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="yseeku-data-engine.js"></script>
    <script src="yseeku-layer-sync.js"></script>
    <style>
        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #1a1a1a;
            --bg-card: #1e1e1e;
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
            --accent-detect: #3b82f6;
            --accent-lab: #8b5cf6;
            --accent-orchestrate: #10b981;
            --border-color: #333333;
            --success: #10b981;
            --warning: #f59e0b;
            --critical: #ef4444;
            --shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        [data-theme="light"] {
            --bg-primary: #ffffff;
            --bg-secondary: #f5f5f5;
            --bg-card: #ffffff;
            --text-primary: #000000;
            --text-secondary: #666666;
            --border-color: #e0e0e0;
            --shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: var(--bg-secondary);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            position: relative;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logo {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--accent-detect), var(--accent-lab), var(--accent-orchestrate));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
            color: white;
        }

        .title-section h1 {
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-detect), var(--accent-lab), var(--accent-orchestrate));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        /* Canonical Governance Features */
        .governance-indicators {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .governance-badge {
            background: linear-gradient(135deg, #059669, #047857);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .ethical-floor-monitor {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .ethical-floor-monitor.low {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }

        .ethical-floor-monitor.critical {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .tour-btn, .theme-toggle, .glossary-btn {
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            color: var(--text-primary);
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tour-btn:hover, .theme-toggle:hover, .glossary-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.3);
        }

        .nav-container {
            background: var(--bg-secondary);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
        }

        .nav-tabs {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
            position: relative;
        }

        .nav-tab {
            padding: 12px 24px;
            background: var(--bg-card);
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            border-radius: 10px;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-tab.detect { color: var(--accent-detect); }
        .nav-tab.lab { color: var(--accent-lab); }
        .nav-tab.orchestrate { color: var(--accent-orchestrate); }
        .nav-tab.compliance { color: #f59e0b; }
        .nav-tab.diagnostics { color: #ef4444; }

        .nav-tab.active {
            color: white;
            transform: translateY(-2px);
        }

        .nav-tab.detect.active { background: linear-gradient(135deg, var(--accent-detect), #2563eb); }
        .nav-tab.lab.active { background: linear-gradient(135deg, var(--accent-lab), #7c3aed); }
        .nav-tab.orchestrate.active { background: linear-gradient(135deg, var(--accent-orchestrate), #059669); }
        .nav-tab.compliance.active { background: linear-gradient(135deg, #f59e0b, #d97706); }
        .nav-tab.diagnostics.active { background: linear-gradient(135deg, #ef4444, #dc2626); }

        .module-divider {
            width: 2px;
            height: 40px;
            background: var(--border-color);
            margin: 0 5px;
            align-self: center;
        }

        .module-section {
            display: flex;
            gap: 5px;
            align-items: center;
        }

        .content-area {
            background: var(--bg-secondary);
            padding: 30px;
            border-radius: 15px;
            box-shadow: var(--shadow);
            min-height: 600px;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .module-header {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--border-color);
        }

        .module-header.detect h2 { color: var(--accent-detect); }
        .module-header.lab h2 { color: var(--accent-lab); }
        .module-header.orchestrate h2 { color: var(--accent-orchestrate); }

        .module-header h2 {
            font-size: 24px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .card {
            background: var(--bg-card);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-detect), var(--accent-lab), var(--accent-orchestrate));
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
        }

        .card h3 {
            font-size: 18px;
            margin-bottom: 15px;
            color: var(--text-primary);
        }

        .metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .metric:last-child {
            border-bottom: none;
        }

        .metric-label {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .metric-value {
            font-weight: 600;
            font-size: 16px;
        }

        .metric-value.success { color: var(--success); }
        .metric-value.warning { color: var(--warning); }
        .metric-value.critical { color: var(--critical); }

        .status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
            animation: blink 2s infinite;
        }

        .status-indicator.online { background: var(--success); }
        .status-indicator.warning { background: var(--warning); }
        .status-indicator.offline { background: var(--critical); }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .gauge-container {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 20px;
        }

        .trust-gauge {
            text-align: center;
        }

        .gauge-svg {
            width: 120px;
            height: 120px;
        }

        .gauge-label {
            margin-top: 10px;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .gauge-value {
            font-size: 18px;
            font-weight: 600;
            margin-top: 5px;
        }

        /* Vector Phase Space Map Styles */
        .phase-space-container {
            background: var(--bg-card);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .phase-space-canvas {
            width: 100%;
            height: 400px;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            position: relative;
            background: radial-gradient(circle at center, rgba(59, 130, 246, 0.1), transparent);
        }

        .vector-field {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .drift-vector {
            position: absolute;
            transform-origin: center;
            transition: all 0.3s ease;
        }

        .emergence-basin {
            position: absolute;
            border: 2px dashed var(--accent-lab);
            border-radius: 50%;
            background: rgba(139, 92, 246, 0.1);
        }

        /* Emergence Basin Dynamics */
        .basin-dynamics-container {
            background: var(--bg-card);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .basin-states {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .basin-state {
            background: var(--bg-secondary);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .basin-state.active {
            border-color: var(--accent-lab);
            background: rgba(139, 92, 246, 0.1);
        }

        .basin-state-name {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .basin-state-duration {
            color: var(--text-secondary);
            font-size: 12px;
        }

        /* Contextual Memory Lattice */
        .memory-lattice-container {
            background: var(--bg-card);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .memory-nodes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }

        .memory-node {
            background: var(--bg-secondary);
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid var(--border-color);
            position: relative;
            transition: all 0.3s ease;
        }

        .memory-node:hover {
            transform: scale(1.05);
            border-color: var(--accent-orchestrate);
        }

        .memory-weight {
            position: absolute;
            top: 5px;
            right: 5px;
            background: var(--accent-orchestrate);
            color: white;
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: 600;
        }

        .tooltip {
            position: relative;
            cursor: help;
            border-bottom: 2px dotted var(--accent-detect);
        }

        .tooltip-content {
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--bg-card);
            color: var(--text-primary);
            padding: 10px 15px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            font-size: 14px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
            box-shadow: var(--shadow);
            max-width: 250px;
            white-space: normal;
        }

        .tooltip:hover .tooltip-content {
            opacity: 1;
            visibility: visible;
        }

        .tour-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 9999;
            display: none;
        }

        .tour-popup {
            position: fixed;
            background: var(--bg-card);
            border: 2px solid var(--accent-detect);
            border-radius: 15px;
            padding: 20px;
            max-width: 400px;
            z-index: 10000;
            box-shadow: var(--shadow);
        }

        .tour-popup h3 {
            color: var(--accent-detect);
            margin-bottom: 10px;
        }

        .tour-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }

        .tour-nav button {
            background: var(--accent-detect);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .tour-nav button:hover {
            background: #2563eb;
            transform: translateY(-1px);
        }

        .welcome-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--bg-card);
            border: 2px solid var(--accent-detect);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            z-index: 10001;
            box-shadow: var(--shadow);
            display: none;
        }

        .welcome-modal h2 {
            color: var(--accent-detect);
            margin-bottom: 20px;
            text-align: center;
        }

        .welcome-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .feature {
            text-align: center;
            padding: 15px;
            background: var(--bg-secondary);
            border-radius: 10px;
        }

        .feature-icon {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .glossary-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--bg-card);
            border: 2px solid var(--accent-lab);
            border-radius: 20px;
            padding: 30px;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            z-index: 10001;
            box-shadow: var(--shadow);
            display: none;
        }

        .glossary-modal h2 {
            color: var(--accent-lab);
            margin-bottom: 20px;
            text-align: center;
        }

        .glossary-search {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 16px;
            margin-bottom: 20px;
        }

        .glossary-terms {
            display: grid;
            gap: 15px;
        }

        .glossary-term {
            background: var(--bg-secondary);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid var(--accent-lab);
        }

        .glossary-term h4 {
            color: var(--accent-lab);
            margin-bottom: 8px;
        }

        .glossary-term p {
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.5;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 24px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            color: var(--critical);
            transform: rotate(90deg);
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin: 20px 0;
        }

        .api-section {
            background: var(--bg-card);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .api-endpoint {
            background: var(--bg-secondary);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border-left: 4px solid var(--accent-detect);
        }

        .api-method {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 12px;
            margin-right: 10px;
        }

        .api-method.get { background: var(--success); color: white; }
        .api-method.post { background: var(--accent-detect); color: white; }
        .api-method.put { background: var(--warning); color: white; }
        .api-method.delete { background: var(--critical); color: white; }

        .repository-links {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .repo-link {
            background: var(--bg-card);
            padding: 12px 20px;
            border-radius: 10px;
            text-decoration: none;
            color: var(--text-primary);
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .repo-link:hover {
            transform: translateY(-2px);
            border-color: var(--accent-detect);
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.3);
        }

        @media (max-width: 768px) {
            .container { padding: 10px; }
            .header { padding: 15px; }
            .title-section h1 { font-size: 20px; }
            .nav-tabs { flex-direction: column; }
            .nav-tab { width: 100%; text-align: center; }
            .module-divider { width: 100%; height: 2px; margin: 5px 0; }
            .grid { grid-template-columns: 1fr; }
            .tour-popup, .welcome-modal, .glossary-modal { 
                max-width: 90%; 
                padding: 20px;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            * { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; }
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        :focus-visible {
            outline: 2px solid var(--accent-detect);
            outline-offset: 2px;
        }
    /* Compliance & Diagnostics Specific Styles */
        .file-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px;
        }

        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background: var(--bg-card);
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .file-name {
            color: var(--text-primary);
            font-weight: 500;
        }

        .file-status {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }

        .file-status.success {
            background: var(--success);
            color: white;
        }

        .file-status.warning {
            background: var(--warning);
            color: white;
        }

        .alert-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 15px;
        }

        .alert-item {
            padding: 10px;
            border-radius: 6px;
            border-left: 4px solid;
            font-size: 13px;
        }

        .alert-item.critical {
            background: rgba(239, 68, 68, 0.1);
            border-left-color: var(--critical);
            color: var(--critical);
        }

        .alert-item.warning {
            background: rgba(245, 158, 11, 0.1);
            border-left-color: var(--warning);
            color: var(--warning);
        }

        .evidence-timeline {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 15px;
        }

        .evidence-item {
            display: flex;
            gap: 12px;
            padding: 8px;
            background: var(--bg-card);
            border-radius: 6px;
            font-size: 13px;
        }

        .evidence-item .timestamp {
            color: var(--text-secondary);
            font-family: 'Courier New', monospace;
            min-width: 80px;
        }

        .evidence-item .event {
            color: var(--text-primary);
        }

        .tool-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
            margin-top: 15px;
        }

        .tool-btn {
            padding: 12px 16px;
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-align: center;
        }

        .tool-btn:hover {
            transform: translateY(-2px);
            border-color: var(--accent-detect);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
        }
    </style>

</head>
<body>
    <div class="container">
        <!-- Header with Canonical Governance Features -->
        <div class="header">
            <div class="logo-section">
                <div class="logo">YK</div>
                <div class="title-section">
                    <h1>Yseeku SONATE</h1>
                    <div class="subtitle">Vector Phase Space Inspector ‚Ä¢ Expert/Audit Layer</div>
                </div>
            </div>
            <div class="header-actions">
                <div class="governance-indicators">
                    <div class="governance-badge">
                        <span>üîç</span>
                        <span>Layer 1 Narrative Monitor</span>
                    </div>
                    <div class="ethical-floor-monitor" id="ethicalFloor">
                        <span>‚öñÔ∏è</span>
                        <span>Ethical Floor: <span id="ethicalScore">8.2</span>/10.0</span>
                    </div>
                </div>
                <button class="tour-btn" onclick="startTour()" aria-label="Start guided tour">
                    <span>üéØ</span> Start Tour
                </button>
                <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
                    <span id="themeIcon">üåô</span>
                </button>
                <button class="glossary-btn" onclick="openGlossary()" aria-label="Open glossary">
                    <span>üìñ</span> Glossary
                </button>
            </div>
        </div>

        <!-- Navigation with Module Separation -->
        <div class="nav-container">
            <div class="nav-tabs">
                <div class="module-section">
                    <button class="nav-tab active" onclick="switchTab('overview')">Overview</button>
                    <button class="nav-tab detect" onclick="switchTab('agents')">Agents</button>
                    <button class="nav-tab detect" onclick="switchTab('symbi')">SYMBI</button>
                    <button class="nav-tab detect" onclick="switchTab('vectorPhase')">Vector Phase Space</button>
                    <button class="nav-tab detect" onclick="switchTab('basinDynamics')">Basin Dynamics</button>
                    <button class="nav-tab detect" onclick="switchTab('memoryLattice')">Memory Lattice</button>
                </div>
                <div class="module-divider"></div>
                <div class="module-section">
                    <button class="nav-tab lab" onclick="switchTab('calculator')">Calculator</button>
                    <button class="nav-tab lab" onclick="switchTab('experiments')">Experiments</button>
                    <button class="nav-tab lab" onclick="switchTab('emergence')">Emergence</button>
                    <button class="nav-tab lab" onclick="switchTab('resonance')">Resonance</button>
                </div>
                <div class="module-divider"></div>
                <div class="module-section">
                    <button class="nav-tab orchestrate" onclick="switchTab('principles')">Principles</button>
                    <button class="nav-tab orchestrate" onclick="switchTab('receipts')">Trust Receipts</button>
                    <button class="nav-tab orchestrate" onclick="switchTab('compliance')">Compliance</button>
                    <button class="nav-tab orchestrate" onclick="switchTab('diagnostics')">Diagnostics</button>
                    <button class="nav-tab orchestrate" onclick="switchTab('api')">API</button>
                </div>
            </div>
        </div>

        <!-- Content Area -->
        <div class="content-area">
            <!-- Overview Tab -->
            <div id="overview" class="tab-content active">
                <div class="module-header">
                    <h2>üéØ Platform Overview</h2>
                    <p>Real-time AI governance with constitutional alignment and emergence detection</p>
                </div>

                <div class="grid">
                    <div class="card">
                        <h3>üîç DETECT Module</h3>
                        <p>Real-time monitoring and drift detection with vector phase space analysis</p>
                        <div class="metric">
                            <span class="metric-label">Active Agents</span>
                            <span class="metric-value success">12</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Avg Trust Score</span>
                            <span class="metric-value success">8.7/10</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Emergence Events</span>
                            <span class="metric-value warning">3</span>
                        </div>
                    </div>

                    <div class="card">
                        <h3>üß™ LAB Module</h3>
                        <p>Experimental framework for emergence quantification and analysis</p>
                        <div class="metric">
                            <span class="metric-label">Bedau Index</span>
                            <span class="metric-value warning">0.68</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Active Experiments</span>
                            <span class="metric-value">5</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Resonance Score</span>
                            <span class="metric-value success">0.82</span>
                        </div>
                    </div>

                    <div class="card">
                        <h3>üéº ORCHESTRATE Module</h3>
                        <p>Constitutional governance with trust receipts and compliance</p>
                        <div class="metric">
                            <span class="metric-label">Principles Applied</span>
                            <span class="metric-value success">6/6</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Trust Receipts</span>
                            <span class="metric-value">1,247</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Compliance Score</span>
                            <span class="metric-value success">94%</span>
                        </div>
                    </div>

                    <div class="card">
                        <h3>üìä System Health</h3>
                        <p>Overall platform status and performance metrics</p>
                        <div class="metric">
                            <span class="metric-label">Status</span>
                            <span class="metric-value success"><span class="status-indicator online"></span>Operational</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Response Time</span>
                            <span class="metric-value success">87ms</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Throughput</span>
                            <span class="metric-value success">1,247 TPS</span>
                        </div>
                    </div>
                </div>

                <div class="repository-links">
                    <a href="https://github.com/s8ken/yseeku-platform" target="_blank" class="repo-link">
                        <span>üìÅ</span> Main Repository
                    </a>
                    <a href="https://github.com/s8ken/yseeku-platform-replit" target="_blank" class="repo-link">
                        <span>üîó</span> Replit Frontend
                    </a>
                    <a href="https://github.com/s8ken/yseeku-platform/pull/32" target="_blank" class="repo-link">
                        <span>üîÄ</span> Demo PR #32
                    </a>
                    <a href="https://github.com/s8ken/yseeku-platform/pull/33" target="_blank" class="repo-link">
                        <span>üîÄ</span> Enhanced PR #33
                    </a>
                </div>
            </div>

            <!-- Agent Monitoring Tab -->
            <div id="agents" class="tab-content">
                <div class="module-header detect">
                    <h2>ü§ñ Agent Monitoring</h2>
                    <p>Real-time agent status with SYMBI trust scoring</p>
                </div>

                <div class="gauge-container">
                    <div class="trust-gauge">
                        <svg class="gauge-svg" viewBox="0 0 200 120">
                            <path d="M 30 100 A 70 70 0 0 1 170 100" stroke="#333" stroke-width="10" fill="none"/>
                            <path d="M 30 100 A 70 70 0 0 1 156 65" stroke="#10b981" stroke-width="10" fill="none"/>
                            <circle cx="156" cy="65" r="8" fill="#10b981"/>
                            <text x="100" y="110" text-anchor="middle" fill="white" font-size="14">Agent Trust Score</text>
                            <text x="100" y="90" text-anchor="middle" fill="#10b981" font-size="24" font-weight="bold">8.7</text>
                        </svg>
                        <div class="gauge-label">Overall Trust</div>
                        <div class="gauge-value">8.7/10.0</div>
                    </div>
                </div>

                <div class="grid">
                    <div class="card">
                        <h3>Customer Service Agent</h3>
                        <div class="metric">
                            <span class="metric-label">Status</span>
                            <span class="metric-value success"><span class="status-indicator online"></span>Active</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Trust Score</span>
                            <span class="metric-value success">9.2/10</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Drift Vector</span>
                            <span class="metric-value success">0.12</span>
                        </div>
                    </div>

                    <div class="card">
                        <h3>Data Analysis Agent</h3>
                        <div class="metric">
                            <span class="metric-label">Status</span>
                            <span class="metric-value success"><span class="status-indicator online"></span>Active</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Trust Score</span>
                            <span class="metric-value success">8.4/10</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Drift Vector</span>
                            <span class="metric-value warning">0.28</span>
                        </div>
                    </div>

                    <div class="card">
                        <h3>Content Generation Agent</h3>
                        <div class="metric">
                            <span class="metric-label">Status</span>
                            <span class="metric-value warning"><span class="status-indicator warning"></span>Monitoring</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Trust Score</span>
                            <span class="metric-value warning">7.1/10</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Drift Vector</span>
                            <span class="metric-value warning">0.45</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SYMBI Analysis Tab -->
            <div id="symbi" class="tab-content">
                <div class="module-header detect">
                    <h2>üß¨ SYMBI Analysis</h2>
                    <p>Constitutional framework trust scoring with cryptographic verification</p>
                </div>

                <div class="chart-container">
                    <canvas id="symbiRadarChart"></canvas>
                </div>

                <div class="grid">
                    <div class="card">
                        <h3>Constitutional Alignment</h3>
                        <div class="metric">
                            <span class="metric-label">Overall Score</span>
                            <span class="metric-value success">8.7/10</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Principle Compliance</span>
                            <span class="metric-value success">94%</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Violation Count</span>
                            <span class="metric-value success">0</span>
                        </div>
                    </div>

                    <div class="card">
                        <h3>Trust Metrics</h3>
                        <div class="metric">
                            <span class="metric-label">Predictability</span>
                            <span class="metric-value success">9.1/10</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Reliability</span>
                            <span class="metric-value success">8.8/10</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Safety Margin</span>
                            <span class="metric-value success">2.3œÉ</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Vector Phase Space Map -->
            <div id="vectorPhase" class="tab-content">
                <div class="module-header detect">
                    <h2>üéØ Vector Phase Space Map</h2>
                    <p>Drift representation as vector misalignment with dynamic phase space analysis</p>
                </div>

                <div class="phase-space-container">
                    <h3>Agent Drift Vector Field</h3>
                    <div class="phase-space-canvas" id="phaseSpaceCanvas">
                        <svg class="vector-field" viewBox="0 0 800 400">
                            <!-- Grid lines -->
                            <defs>
                                <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
                                    <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#333" stroke-width="0.5"/>
                                </pattern>
                            </defs>
                            <rect width="800" height="400" fill="url(#grid)" />
                            
                            <!-- Origin -->
                            <circle cx="400" cy="200" r="5" fill="#10b981" />
                            <text x="400" y="190" text-anchor="middle" fill="#10b981" font-size="12">Origin</text>
                            
                            <!-- Agent vectors -->
                            <g id="agentVectors">
                                <!-- These will be dynamically updated -->
                            </g>
                            
                            <!-- Emergence basin -->
                            <circle cx="400" cy="200" r="100" fill="none" stroke="#8b5cf6" stroke-width="2" stroke-dasharray="5,5" opacity="0.7"/>
                            <text x="400" y="320" text-anchor="middle" fill="#8b5cf6" font-size="12">Emergence Basin</text>
                        </svg>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Phase Space Volume</span>
                        <span class="metric-value">31,416 units¬≥</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Vector Entropy</span>
                        <span class="metric-value warning">0.34</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Misalignment Angle</span>
                        <span class="metric-value success">12.3¬∞</span>
                    </div>
                </div>

                <div class="grid">
                    <div class="card">
                        <h3>Vector Analysis</h3>
                        <p>Real-time vector drift monitoring showing angular misalignment from constitutional baseline</p>
                        <div class="metric">
                            <span class="metric-label">Max Drift Angle</span>
                            <span class="metric-value warning">28.7¬∞</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Average Misalignment</span>
                            <span class="metric-value success">12.3¬∞</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Convergence Rate</span>
                            <span class="metric-value success">0.87 rad/hr</span>
                        </div>
                    </div>

                    <div class="card">
                        <h3>Phase Space Dynamics</h3>
                        <p>Dynamic analysis of agent behavior in high-dimensional phase space</p>
                        <div class="metric">
                            <span class="metric-label">Attractor Strength</span>
                            <span class="metric-value success">0.92</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Lyapunov Exponent</span>
                            <span class="metric-value warning">0.15</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Bifurcation Risk</span>
                            <span class="metric-value success">Low</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Emergence Basin Dynamics -->
            <div id="basinDynamics" class="tab-content">
                <div class="module-header detect">
                    <h2>üåä Emergence Basin Dynamics</h2>
                    <p>Basin dynamics tracking with entry/dwell/exit state analysis</p>
                </div>

                <div class="basin-dynamics-container">
                    <h3>Current Basin States</h3>
                    <div class="basin-states">
                        <div class="basin-state active">
                            <div class="basin-state-name">Entry</div>
                            <div class="basin-state-duration">Duration: 2.3s</div>
                        </div>
                        <div class="basin-state">
                            <div class="basin-state-name">Dwell</div>
                            <div class="basin-state-duration">Duration: --</div>
                        </div>
                        <div class="basin-state">
                            <div class="basin-state-name">Exit</div>
                            <div class="basin-state-duration">Duration: --</div>
                        </div>
                        <div class="basin-state">
                            <div class="basin-state-name">Transitional</div>
                            <div class="basin-state-duration">Duration: --</div>
                        </div>
                    </div>

                    <div class="chart-container">
                        <canvas id="basinChart"></canvas>
                    </div>
                </div>

                <div class="grid">
                    <div class="card">
                        <h3>Basin Metrics</h3>
                        <div class="metric">
                            <span class="metric-label">Entry Frequency</span>
                            <span class="metric-value">3.2 / hour</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Average Dwell Time</span>
                            <span class="metric-value">12.7s</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Exit Velocity</span>
                            <span class="metric-value warning">0.45 m/s</span>
                        </div>
                    </div>

                    <div class="card">
                        <h3>Emergence Indicators</h3>
                        <div class="metric">
                            <span class="metric-label">Basin Depth</span>
                            <span class="metric-value success">0.82</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Capture Probability</span>
                            <span class="metric-value success">94%</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Escape Energy</span>
                            <span class="metric-value warning">2.3 eV</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contextual Memory Lattice -->
            <div id="memoryLattice" class="tab-content">
                <div class="module-header detect">
                    <h2>üßÆ Contextual Memory Lattice</h2>
                    <p>Historical context with decaying weights for causal explanation paths</p>
                </div>

                <div class="memory-lattice-container">
                    <h3>Memory Network</h3>
                    <div class="memory-nodes" id="memoryNodes">
                        <!-- Dynamically generated memory nodes -->
                    </div>

                    <div class="chart-container">
                        <canvas id="memoryDecayChart"></canvas>
                    </div>
                </div>

                <div class="grid">
                    <div class="card">
                        <h3>Memory Metrics</h3>
                        <div class="metric">
                            <span class="metric-label">Total Nodes</span>
                            <span class="metric-value">1,247</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Active Connections</span>
                            <span class="metric-value">8,923</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Average Weight</span>
                            <span class="metric-value success">0.67</span>
                        </div>
                    </div>

                    <div class="card">
                        <h3>Causal Path Analysis</h3>
                        <div class="metric">
                            <span class="metric-label">Path Depth</span>
                            <span class="metric-value">7.3 levels</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Explainability Score</span>
                            <span class="metric-value success">8.9/10</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Decay Constant</span>
                            <span class="metric-value">Œª = 0.23</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bedau Index Calculator Tab -->
            <div id="calculator" class="tab-content">
                <div class="module-header lab">
                    <h2>üßÆ Emergence Calculator</h2>
                    <p>Quantify weak emergence using the Bedau Index with advanced parameters</p>
                </div>

                <div class="grid">
                    <div class="card">
                        <h3>System Parameters</h3>
                        <div class="metric">
                            <span class="metric-label">
                                <span class="tooltip">
                                    Microscopic States (N)
                                    <span class="tooltip-content">Number of individual system components or agents</span>
                                </span>
                            </span>
                            <input type="range" id="microStates" min="10" max="1000" value="100" oninput="updateCalculator()">
                            <span id="microStatesValue">100</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">
                                <span class="tooltip">
                                    Macroscopic Patterns (M)
                                    <span class="tooltip-content">Observable emergent patterns at system level</span>
                                </span>
                            </span>
                            <input type="range" id="macroPatterns" min="1" max="50" value="8" oninput="updateCalculator()">
                            <span id="macroPatternsValue">8</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">
                                <span class="tooltip">
                                    Interaction Complexity (C)
                                    <span class="tooltip-content">Complexity of component interactions and feedback loops</span>
                                </span>
                            </span>
                            <input type="range" id="complexity" min="0.1" max="1.0" step="0.1" value="0.7" oninput="updateCalculator()">
                            <span id="complexityValue">0.7</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">
                                <span class="tooltip">
                                    Decoupling Degree (D)
                                    <span class="tooltip-content">Independence of macroscopic patterns from micro-level details</span>
                                </span>
                            </span>
                            <input type="range" id="decoupling" min="0.0" max="1.0" step="0.1" value="0.6" oninput="updateCalculator()">
                            <span id="decouplingValue">0.6</span>
                        </div>
                    </div>

                    <div class="card">
                        <h3>Emergence Results</h3>
                        <div class="metric">
                            <span class="metric-label">Bedau Index</span>
                            <span class="metric-value warning" id="bedauIndex">0.68</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Classification</span>
                            <span class="metric-value warning" id="emergenceClass">High Weak Emergence</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Strong Emergence Indicators</span>
                            <span class="metric-value" id="strongIndicators">2/4 detected</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Investigation Priority</span>
                            <span class="metric-value warning" id="investigationPriority">Medium</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Experiments Tab -->
            <div id="experiments" class="tab-content">
                <div class="module-header lab">
                    <h2>üß™ Experimental Framework</h2>
                    <p>A/B testing and controlled emergence experiments</p>
                </div>

                <div class="grid">
                    <div class="card">
                        <h3>Active Experiments</h3>
                        <div class="metric">
                            <span class="metric-label">Constitutional Stress Test</span>
                            <span class="metric-value success">Running</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Emergence Threshold Analysis</span>
                            <span class="metric-value warning">Setup</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Multi-Agent Coordination</span>
                            <span class="metric-value">Planned</span>
                        </div>
                    </div>

                    <div class="card">
                        <h3>Experiment Results</h3>
                        <div class="metric">
                            <span class="metric-label">Completed</span>
                            <span class="metric-value">47</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Success Rate</span>
                            <span class="metric-value success">89%</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Avg Duration</span>
                            <span class="metric-value">2.3 hours</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Emergence Testing Tab -->
            <div id="emergence" class="tab-content">
                <div class="module-header lab">
                    <h2>üåä Emergence Analysis</h2>
                    <p>Advanced emergence detection and characterization</p>
                </div>

                <div class="chart-container">
                    <canvas id="emergenceChart"></canvas>
                </div>

                <div class="grid">
                    <div class="card">
                        <h3>Emergence Metrics</h3>
                        <div class="metric">
                            <span class="metric-label">Detection Rate</span>
                            <span class="metric-value success">94%</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">False Positive Rate</span>
                            <span class="metric-value success">2.1%</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Response Time</span>
                            <span class="metric-value success">127ms</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Resonance Tab -->
            <div id="resonance" class="tab-content">
                <div class="module-header lab">
                    <h2>üéµ Resonance Analysis</h2>
                    <p>Cross-system resonance and synchronization patterns</p>
                </div>

                <div class="chart-container">
                    <canvas id="resonanceChart"></canvas>
                </div>

                <div class="grid">
                    <div class="card">
                        <h3>Resonance Metrics</h3>
                        <div class="metric">
                            <span class="metric-label">Synchronization Index</span>
                            <span class="metric-value success">0.82</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Coherence Score</span>
                            <span class="metric-value success">0.76</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Phase Locking</span>
                            <span class="metric-value warning">0.45</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Trust Principles Tab -->
            <div id="principles" class="tab-content">
                <div class="module-header orchestrate">
                    <h2>‚öñÔ∏è Constitutional Trust Principles</h2>
                    <p>Six fundamental principles governing AI behavior and trust</p>
                </div>

                <div class="grid">
                    <div class="card">
                        <h3>üîç Transparency</h3>
                        <p>All AI decisions and reasoning must be explainable and auditable</p>
                        <div class="metric">
                            <span class="metric-label">Compliance</span>
                            <span class="metric-value success">98%</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Audit Trail</span>
                            <span class="metric-value success">Complete</span>
                        </div>
                    </div>

                    <div class="card">
                        <h3>üõ°Ô∏è Safety</h3>
                        <p>AI systems must not cause harm and must include safety mechanisms</p>
                        <div class="metric">
                            <span class="metric-label">Safety Score</span>
                            <span class="metric-value success">9.2/10</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Incident Rate</span>
                            <span class="metric-value success">0.00</span>
                        </div>
                    </div>

                    <div class="card">
                        <h3>üéØ Accountability</h3>
                        <p>Clear responsibility assignment and traceability for all actions</p>
                        <div class="metric">
                            <span class="metric-label">Traceability</span>
                            <span class="metric-value success">100%</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Responsibility Clarity</span>
                            <span class="metric-value success">Clear</span>
                        </div>
                    </div>

                    <div class="card">
                        <h3>üîÑ Fairness</h3>
                        <p>Equitable treatment and bias mitigation across all decisions</p>
                        <div class="metric">
                            <span class="metric-label">Bias Score</span>
                            <span class="metric-value success">0.08</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Equity Index</span>
                            <span class="metric-value success">0.94</span>
                        </div>
                    </div>

                    <div class="card">
                        <h3>üîê Privacy</h3>
                        <p>Data protection and privacy preservation by design</p>
                        <div class="metric">
                            <span class="metric-label">Privacy Score</span>
                            <span class="metric-value success">9.5/10</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Data Minimization</span>
                            <span class="metric-value success">Active</span>
                        </div>
                    </div>

                    <div class="card">
                        <h3>üåç Beneficence</h3>
                        <p>AI systems must promote human wellbeing and societal benefit</p>
                        <div class="metric">
                            <span class="metric-label">Wellbeing Impact</span>
                            <span class="metric-value success">+8.3%</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Societal Benefit</span>
                            <span class="metric-value success">High</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Trust Receipts Tab -->
            <div id="receipts" class="tab-content">
                <div class="module-header orchestrate">
                    <h2>üßæ Trust Receipts</h2>
                    <p>Cryptographically verified audit trail of all AI decisions and actions</p>
                </div>

                <div class="grid">
                    <div class="card">
                        <h3>Receipt Statistics</h3>
                        <div class="metric">
                            <span class="metric-label">Total Receipts</span>
                            <span class="metric-value">1,247,892</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Verification Rate</span>
                            <span class="metric-value success">100%</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Chain Integrity</span>
                            <span class="metric-value success">Valid</span>
                        </div>
                    </div>

                    <div class="card">
                        <h3>Hash Chain Security</h3>
                        <div class="metric">
                            <span class="metric-label">Algorithm</span>
                            <span class="metric-value">SHA-256</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Chain Length</span>
                            <span class="metric-value">1,247,892</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Security Level</span>
                            <span class="metric-value success">256-bit</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- API Documentation Tab -->
            <div id="compliance" class="tab-content">
                <div class="module-header orchestrate">
                    <h2>‚öñÔ∏è Regulatory Compliance Dashboard</h2>
                    <p>Comprehensive compliance monitoring across GDPR, EU AI Act, and SOC 2 frameworks</p>
                </div>

                <div class="grid">
                    <div class="card">
                        <h3>üá™üá∫ EU AI Act Compliance</h3>
                        <div class="metric">
                            <span class="metric-label">Risk Classification</span>
                            <span class="metric-value warning">High-Risk</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Conformity Assessment</span>
                            <span class="metric-value success">94.2%</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">CE Marking</span>
                            <span class="metric-value success">Pending</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" style="width: 94.2%"></div>
                        </div>
                        <p>High-risk AI system with comprehensive quality management and risk mitigation procedures.</p>
                    </div>

                    <div class="card">
                        <h3>üîí GDPR Compliance</h3>
                        <div class="metric">
                            <span class="metric-label">Data Processing Records</span>
                            <span class="metric-value success">Complete</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">DPIA Status</span>
                            <span class="metric-value success">Approved</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Data Subject Requests</span>
                            <span class="metric-value">12/48h</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" style="width: 98.7%"></div>
                        </div>
                        <p>Full GDPR compliance with automated data subject request processing and comprehensive DPIA.</p>
                    </div>

                    <div class="card">
                        <h3>üè¢ SOC 2 Type II Readiness</h3>
                        <div class="metric">
                            <span class="metric-label">Trust Services Criteria</span>
                            <span class="metric-value warning">83%</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Control Maturity</span>
                            <span class="metric-value warning">Developing</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Audit Timeline</span>
                            <span class="metric-value">Q3 2026</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" style="width: 83%"></div>
                        </div>
                        <p>SOC 2 Type II certification in progress with security, availability, and confidentiality controls.</p>
                    </div>

                    <div class="card">
                        <h3>üìä Compliance Scorecard</h3>
                        <canvas id="complianceChart" width="400" height="300"></canvas>
                        <p>Real-time compliance scoring across all regulatory frameworks with automated monitoring.</p>
                    </div>
                </div>

                <div class="card">
                    <h3>üìã Compliance Reports</h3>
                    <div class="file-list">
                        <div class="file-item">
                            <span class="file-name">üìÑ Q4 2024 Compliance Report</span>
                            <span class="file-status success">‚úÖ Certified</span>
                        </div>
                        <div class="file-item">
                            <span class="file-name">üìÑ DPIA Documentation</span>
                            <span class="file-status success">‚úÖ Approved</span>
                        </div>
                        <div class="file-item">
                            <span class="file-name">üìÑ Risk Assessment Matrix</span>
                            <span class="file-status warning">‚ö†Ô∏è Review</span>
                        </div>
                        <div class="file-item">
                            <span class="file-name">üìÑ Audit Trail Logs</span>
                            <span class="file-status">üîÑ Processing</span>
                        </div>
                    </div>
                </div>
            </div>

            <div id="diagnostics" class="tab-content">
                <div class="module-header orchestrate">
                    <h2>üî¨ Advanced Diagnostics & Forensics</h2>
                    <p>Deep system analysis, performance profiling, and forensic investigation tools</p>
                </div>

                <div class="grid">
                    <div class="card">
                        <h3>üß† Neural Network Analysis</h3>
                        <div class="metric">
                            <span class="metric-label">Model Drift</span>
                            <span class="metric-value warning">2.3%</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Weight Entropy</span>
                            <span class="metric-value success">0.847</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Gradient Flow</span>
                            <span class="metric-value critical">Anomaly</span>
                        </div>
                        <canvas id="neuralAnalysis" width="400" height="200"></canvas>
                        <p>Real-time neural network performance monitoring with drift detection and anomaly identification.</p>
                    </div>

                    <div class="card">
                        <h3>‚ö° Performance Profiling</h3>
                        <div class="metric">
                            <span class="metric-label">Latency (P99)</span>
                            <span class="metric-value">127ms</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Throughput</span>
                            <span class="metric-value success">1,247 TPS</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Memory Usage</span>
                            <span class="metric-value warning">78.3%</span>
                        </div>
                        <canvas id="performanceChart" width="400" height="200"></canvas>
                        <p>Comprehensive performance profiling with real-time metrics and automated optimization suggestions.</p>
                    </div>

                    <div class="card">
                        <h3>üîç Anomaly Detection</h3>
                        <div class="metric">
                            <span class="metric-label">Active Anomalies</span>
                            <span class="metric-value critical">3</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">False Positive Rate</span>
                            <span class="metric-value success">0.2%</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Detection Confidence</span>
                            <span class="metric-value success">94.7%</span>
                        </div>
                        <div class="alert-list">
                            <div class="alert-item critical">
                                üö® Unusual pattern in Agent Beta decision tree
                            </div>
                            <div class="alert-item warning">
                                ‚ö†Ô∏è Memory leak detected in emergence module
                            </div>
                            <div class="alert-item warning">
                                ‚ö†Ô∏è Elevated latency in vector calculations
                            </div>
                        </div>
                        <p>AI-powered anomaly detection with root cause analysis and automated remediation recommendations.</p>
                    </div>

                    <div class="card">
                        <h3>üß¨ Forensic Analysis</h3>
                        <div class="metric">
                            <span class="metric-label">Evidence Integrity</span>
                            <span class="metric-value success">100%</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Chain of Custody</span>
                            <span class="metric-value success">Valid</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Investigation Status</span>
                            <span class="metric-value">Active</span>
                        </div>
                        <div class="evidence-timeline">
                            <div class="evidence-item">
                                <span class="timestamp">12:34:56</span>
                                <span class="event">Anomaly detected in Agent Alpha</span>
                            </div>
                            <div class="evidence-item">
                                <span class="timestamp">12:35:12</span>
                                <span class="event">Automated isolation triggered</span>
                            </div>
                            <div class="evidence-item">
                                <span class="timestamp">12:35:28</span>
                                <span class="event">Forensic snapshot captured</span>
                            </div>
                        </div>
                        <p>Comprehensive forensic analysis with immutable evidence collection and chain of custody tracking.</p>
                    </div>
                </div>

                <div class="card">
                    <h3>üîß Diagnostic Tools</h3>
                    <div class="tool-grid">
                        <button class="tool-btn" onclick="runDiagnostics('deep-scan')">
                            üî¨ Deep System Scan
                        </button>
                        <button class="tool-btn" onclick="runDiagnostics('memory-leak')">
                            üíæ Memory Leak Detection
                        </button>
                        <button class="tool-btn" onclick="runDiagnostics('performance')">
                            ‚ö° Performance Analysis
                        </button>
                        <button class="tool-btn" onclick="runDiagnostics('security')">
                            üîí Security Audit
                        </button>
                        <button class="tool-btn" onclick="runDiagnostics('compliance')">
                            ‚öñÔ∏è Compliance Check
                        </button>
                        <button class="tool-btn" onclick="runDiagnostics('forensic')">
                            üîç Forensic Analysis
                        </button>
                    </div>
                    <p>Advanced diagnostic tools for comprehensive system analysis and troubleshooting.</p>
                </div>
            </div>

            <div id="api" class="tab-content">
                <div class="module-header orchestrate">
                    <h2>üîå API Documentation</h2>
                    <p>Complete REST API for platform integration and automation</p>
                </div>

                <div class="api-section">
                    <h3>Agent Management</h3>
                    <div class="api-endpoint">
                        <span class="api-method get">GET</span>
                        <code>/api/agents</code>
                        <p>Retrieve all agents with status and trust scores</p>
                    </div>
                    <div class="api-endpoint">
                        <span class="api-method post">POST</span>
                        <code>/api/agents/{id}/trust</code>
                        <p>Update agent trust score and constraints</p>
                    </div>
                </div>

                <div class="api-section">
                    <h3>Emergence Detection</h3>
                    <div class="api-endpoint">
                        <span class="api-method get">GET</span>
                        <code>/api/emergence/events</code>
                        <p>Get recent emergence events and analysis</p>
                    </div>
                    <div class="api-endpoint">
                        <span class="api-method post">POST</span>
                        <code>/api/emergence/analyze</code>
                        <p>Analyze system for emergence patterns</p>
                    </div>
                </div>

                <div class="api-section">
                    <h3>Trust Receipts</h3>
                    <div class="api-endpoint">
                        <span class="api-method get">GET</span>
                        <code>/api/receipts</code>
                        <p>Retrieve trust receipts with filtering</p>
                    </div>
                    <div class="api-endpoint">
                        <span class="api-method post">POST</span>
                        <code>/api/receipts/verify</code>
                        <p>Verify receipt chain integrity</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tour Overlay -->
    <div class="tour-overlay" id="tourOverlay" onclick="closeTour()"></div>
    
    <!-- Tour Popup -->
    <div class="tour-popup" id="tourPopup" style="display: none;">
        <button class="close-btn" onclick="closeTour()">√ó</button>
        <h3 id="tourTitle">Welcome to Yseeku SONATE</h3>
        <p id="tourContent">Let's explore the enterprise AI governance platform with real-time emergence detection.</p>
        <div class="tour-nav">
            <button id="tourPrev" onclick="previousTourStep()">Previous</button>
            <span id="tourProgress">1 / 11</span>
            <button id="tourNext" onclick="nextTourStep()">Next</button>
        </div>
    </div>

    <!-- Welcome Modal -->
    <div class="welcome-modal" id="welcomeModal">
        <button class="close-btn" onclick="closeWelcome()">√ó</button>
        <h2>üöÄ Welcome to Yseeku SONATE</h2>
        <p>Enterprise AI Governance with Constitutional Alignment and Real-time Emergence Detection</p>
        
        <div class="welcome-features">
            <div class="feature">
                <div class="feature-icon">üîç</div>
                <h4>DETECT</h4>
                <p>Real-time monitoring</p>
            </div>
            <div class="feature">
                <div class="feature-icon">üß™</div>
                <h4>LAB</h4>
                <p>Emergence analysis</p>
            </div>
            <div class="feature">
                <div class="feature-icon">üéº</div>
                <h4>ORCHESTRATE</h4>
                <p>Constitutional governance</p>
            </div>
            <div class="feature">
                <div class="feature-icon">üß¨</div>
                <h4>SYMBI</h4>
                <p>Trust framework</p>
            </div>
            <div class="feature">
                <div class="feature-icon">üéØ</div>
                <h4>Vector Analysis</h4>
                <p>Drift detection</p>
            </div>
            <div class="feature">
                <div class="feature-icon">üßÆ</div>
                <h4>Bedau Index</h4>
                <p>Emergence quantification</p>
            </div>
        </div>
        
        <div class="tour-nav">
            <button onclick="startTour()">Start Guided Tour</button>
            <button onclick="closeWelcome()">Explore Independently</button>
        </div>
    </div>

    <!-- Glossary Modal -->
    <div class="glossary-modal" id="glossaryModal">
        <button class="close-btn" onclick="closeGlossary()">√ó</button>
        <h2>üìñ Platform Glossary</h2>
        <input type="text" class="glossary-search" placeholder="Search terms..." oninput="searchGlossary(this.value)">
        <div class="glossary-terms" id="glossaryTerms">
            <!-- Glossary terms will be populated here -->
        </div>
    </div>

    <script>
        // Platform State
        let currentTab = 'overview';
        let tourStep = 0;
        let isDarkTheme = true;
        let ethicalFloorScore = 8.2;

        // Layer 2 Interface - Connect to shared data engine
        document.addEventListener('DOMContentLoaded', function() {
            initializeLayer2Interface();
        });

        function initializeLayer2Interface() {
            // Wait for shared data engine
            if (window.yseekuDataEngine) {
                connectToSharedEngine();
            } else {
                setTimeout(connectToSharedEngine, 100);
            }
        }

        function connectToSharedEngine() {
            const dataEngine = window.yseekuDataEngine;
            
            // Listen for shared updates
            document.addEventListener('yseekuDataUpdate', function(event) {
                updateLayer2UI(event.detail);
            });

            // Initial update with Layer 2 data
            updateLayer2UI(dataEngine.exportForDemo2());
            
            // Start Layer 2 specific features
            startLayer2Features();
        }

        function updateLayer2UI(data) {
            // Update all Layer 2 displays with shared data
            updatePhaseSpaceVectors(data.phaseSpace);
            updateBasinDynamics(data.basinDynamics);
            updateMemoryLattice(data.memoryLattice);
            updateTrustReceipts(data.trustReceipts);
            updateDetectMetrics(data.detectV2);
            updateContextualGravity(data.contextualGravity);
            updateRmDisplay(data.rm);
            updateAgentsDetailed(data.agents);
        }

        function updatePhaseSpaceVectors(phaseSpace) {
            const vectorsContainer = document.getElementById('agentVectors');
            if (vectorsContainer && phaseSpace.agents) {
                let vectorsHTML = '';
                phaseSpace.agents.forEach(agent => {
                    const x = 400 + agent.x * 100; // Scale for display
                    const y = 200 + agent.y * 100;
                    const endX = x + Math.cos(agent.angle * Math.PI / 180) * 30;
                    const endY = y + Math.sin(agent.angle * Math.PI / 180) * 30;
                    
                    vectorsHTML += `
                        <g class="drift-vector">
                            <line x1="${x}" y1="${y}" x2="${endX}" y2="${endY}" 
                                  stroke="${getDriftColor(agent.magnitude)}" stroke-width="2" marker-end="url(#arrowhead)"/>
                            <circle cx="${x}" cy="${y}" r="4" fill="${getDriftColor(agent.magnitude)}"/>
                            <text x="${x}" y="${y - 10}" text-anchor="middle" fill="#a0a0a0" font-size="10">${agent.name}</text>
                        </g>
                    `;
                });
                
                vectorsContainer.innerHTML = vectorsHTML + `
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" 
                                refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#3b82f6"/>
                        </marker>
                    </defs>
                `;
            }
        }

        function updateBasinDynamics(basinDynamics) {
            // Update basin state indicators
            const statesContainer = document.querySelector('.basin-states');
            if (statesContainer && basinDynamics.states) {
                statesContainer.innerHTML = basinDynamics.states.map(state => `
                    <div class="basin-state ${state.active ? 'active' : ''}">
                        <div class="basin-state-name">${state.name}</div>
                        <div class="basin-state-duration">Duration: ${state.duration}s</div>
                    </div>
                `).join('');
            }

            // Update basin metrics
            updateMetricsDisplay(basinDynamics.metrics);
        }

        function updateMemoryLattice(memoryLattice) {
            const nodesContainer = document.getElementById('memoryNodes');
            if (nodesContainer && memoryLattice.nodes) {
                nodesContainer.innerHTML = memoryLattice.nodes.map(node => `
                    <div class="memory-node">
                        <div class="memory-weight">${node.weight.toFixed(2)}</div>
                        <div>Node ${node.id.split('-')[1]}</div>
                        <div style="font-size: 10px; color: var(--text-secondary);">Connections: ${node.connections}</div>
                    </div>
                `).join('');
            }

            // Update memory metrics
            updateMetricsDisplay(memoryLattice.metrics);
        }

        function updateTrustReceipts(trustReceipts) {
            // Update trust receipt displays
            const receiptElements = document.querySelectorAll('[data-receipt-metric]');
            receiptElements.forEach(element => {
                const metric = element.getAttribute('data-receipt-metric');
                if (trustReceipts[metric] !== undefined) {
                    element.textContent = trustReceipts[metric];
                }
            });
        }

        function updateDetectMetrics(detectV2) {
            // Update Detect v2 engine metrics
            updateMetricsDisplay(detectV2);
        }

        function updateContextualGravity(contextualGravity) {
            // Update contextual gravity displays
            updateMetricsDisplay(contextualGravity);
        }

        function updateRmDisplay(rm) {
            // Update Rm calculator display
            const rmElement = document.getElementById('rmValue');
            if (rmElement) {
                rmElement.textContent = rm.toFixed(3);
            }
        }

        function updateAgentsDetailed(agents) {
            // Update detailed agent information
            agents.forEach(agent => {
                const agentCard = document.querySelector(`[data-agent-id="${agent.id}"]`);
                if (agentCard) {
                    // Update detailed metrics
                    const driftMagnitude = agentCard.querySelector('.drift-magnitude');
                    const driftAngle = agentCard.querySelector('.drift-angle');
                    const trustScore = agentCard.querySelector('.trust-score-detailed');
                    
                    if (driftMagnitude) driftMagnitude.textContent = agent.driftVector.magnitude.toFixed(3);
                    if (driftAngle) driftAngle.textContent = agent.driftVector.angle.toFixed(1) + '¬∞';
                    if (trustScore) trustScore.textContent = agent.trustScore.toFixed(2);
                }
            });
        }

        function updateMetricsDisplay(metrics) {
            // Helper to update metric displays
            Object.keys(metrics).forEach(key => {
                const element = document.querySelector(`[data-metric="${key}"]`);
                if (element) {
                    element.textContent = metrics[key];
                }
            });
        }

        function startLayer2Features() {
            // Start Layer 2 specific visualizations
            setInterval(() => {
                updateVectorField();
                generateMemoryNodes();
            }, 1000);
        }

        // Glossary Terms
        const glossaryTerms = [
            { term: "Bedau Index", definition: "A mathematical measure of weak emergence in complex systems, quantifying the relationship between microscopic and macroscopic states" },
            { term: "SYMBI", definition: "Scalable Your-Meaning-Based Intelligence framework for constitutional AI trust scoring" },
            { term: "Vector Phase Space", definition: "Mathematical representation of agent drift as vector misalignment rather than radial distance" },
            { term: "Emergence Basin", definition: "Regions in phase space where emergent behaviors are stable and self-reinforcing" },
            { term: "Contextual Memory Lattice", definition: "Network of historical context with decaying weights for causal explanation paths" },
            { term: "Trust Receipt", definition: "Cryptographically verified audit trail recording AI decisions and constitutional compliance" },
            { term: "Constitutional Alignment", definition: "Degree to which AI behavior adheres to predefined ethical principles and constraints" },
            { term: "Drift Vector", definition: "Mathematical representation of behavioral deviation from intended constitutional baseline" },
            { term: "Weak Emergence", definition: "Emergent properties that are reducible to micro-level interactions but remain computationally intractable" },
            { term: "Strong Emergence", definition: "Hypothetical emergent properties with genuinely novel causal powers not reducible to micro-level" },
            { term: "Decoupling Degree", definition: "Measure of independence between macroscopic patterns and microscopic implementation details" },
            { term: "Lyapunov Exponent", definition: "Measure of chaos in dynamical systems, indicating sensitivity to initial conditions" },
            { term: "Phase Locking", definition: "Synchronization phenomenon where oscillators maintain constant phase relationships" },
            { term: "Resonance", definition: "Amplified response when system frequency matches natural frequency of oscillation" },
            { term: "Attractor", definition: "Set of states toward which a dynamical system evolves over time" },
            { term: "Bifurcation", definition: "Qualitative change in system behavior as parameters cross critical thresholds" },
            { term: "Entropy", definition: "Measure of disorder or uncertainty in a system" },
            { term: "Complexity", definition: "Measure of intricate structure and non-linear interactions in a system" },
            { term: "Feedback Loop", definition: "Circular causal relationship where output influences input" },
            { term: "Self-Organization", definition: "Spontaneous emergence of ordered structure without external control" },
            { term: "Criticality", definition: "State at the boundary between order and chaos with maximal computational capacity" },
            { term: "Scaling Laws", definition: "Mathematical relationships describing how system properties change with size" },
            { term: "Network Effects", definition: "Value increase as more participants join the system" },
            { term: "Emergence Detection", definition: "Algorithmic identification of novel system-level behaviors" },
            { term: "Constitution", definition: "Set of fundamental principles governing AI behavior and decision-making" },
            { term: "Trust Score", definition: "Quantitative measure of AI reliability and alignment with constitutional principles" },
            { term: "Safety Margin", definition: "Buffer between operational parameters and safety boundaries" },
            { term: "Compliance", definition: "Adherence to regulatory requirements and ethical standards" },
            { term: "Audit Trail", definition: "Chronological record of system activities for accountability" },
            { term: "Governance", definition: "Framework for controlling and directing system behavior" },
            { term: "Risk Assessment", definition: "Systematic evaluation of potential hazards and mitigation strategies" },
            { term: "Ethical Floor", definition: "Minimum acceptable level of ethical behavior, must be ‚â•7.0/10.0" },
            { term: "Layer 1 Narrative Monitor", definition: "Real-time monitoring of high-level system narratives and intent" },
            { term: "Misalignment Angle", definition: "Angular deviation of agent behavior from constitutional baseline" },
            { term: "Convergence Rate", definition: "Speed at which agents return to acceptable behavior after drift" },
            { term: "Capture Probability", definition: "Likelihood of system returning to stable basin after perturbation" },
            { term: "Escape Energy", definition: "Energy required for system to leave emergent basin" },
            { term: "Path Depth", definition: "Number of causal steps in explanation chain" },
            { term: "Explainability Score", definition: "Measure of how well system decisions can be understood" },
            { term: "Decay Constant", definition: "Rate at which memory weights decrease over time" },
            { term: "Investigation Priority", definition: "Urgency level for analyzing potential strong emergence" },
            { term: "Synchronization Index", definition: "Measure of coordinated behavior across multiple agents" },
            { term: "Coherence Score", definition: "Measure of logical consistency in system behavior" },
            { term: "Bias Score", definition: "Measure of systematic unfairness in decision-making" },
            { term: "Equity Index", definition: "Measure of fair treatment across different demographics" },
            { term: "Wellbeing Impact", definition: "Effect of system behavior on human flourishing" },
            { term: "Traceability", definition: "Ability to trace decisions back to their causes" },
            { term: "Data Minimization", definition: "Principle of collecting only necessary data" },
            { term: "Hash Chain", definition: "Cryptographically linked sequence of trust receipts" },
            { term: "TPS", definition: "Transactions Per Second - measure of system throughput" }
        ];

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializePlatform();
            showWelcome();
            setupGlossary();
            initializeCharts();
            updateGovernanceIndicators();
            generateMemoryNodes();
            updateVectorField();
        });

        function initializePlatform() {
            // Load saved theme
            const savedTheme = localStorage.getItem('theme') || 'dark';
            isDarkTheme = savedTheme === 'dark';
            document.documentElement.setAttribute('data-theme', savedTheme);
            updateThemeIcon();
        }

        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            
            // Update nav buttons
            document.querySelectorAll('.nav-tab').forEach(btn => {
                btn.classList.remove('active');
            });
            
            event.target.classList.add('active');
            currentTab = tabName;
            
            // Broadcast tab change to Layer 1
            if (window.layerSync) {
                window.layerSync.broadcast('page-change', { page: tabName });
            }
            
            // Initialize tab-specific content
            if (tabName === 'symbi') {
                updateSymbiChart();
            } else if (tabName === 'emergence') {
                updateEmergenceChart();
            } else if (tabName === 'resonance') {
                updateResonanceChart();
            } else if (tabName === 'basinDynamics') {
                updateBasinChart();
            } else if (tabName === 'memoryLattice') {
                updateMemoryDecayChart();
            } else if (tabName === 'compliance') {
                updateComplianceDashboard();
            } else if (tabName === 'diagnostics') {
                updateDiagnosticsDashboard();
            }
        }

        function toggleTheme() {
            isDarkTheme = !isDarkTheme;
            const theme = isDarkTheme ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            updateThemeIcon();
        }

        function updateThemeIcon() {
            const icon = document.getElementById('themeIcon');
            icon.textContent = isDarkTheme ? 'üåô' : '‚òÄÔ∏è';
        }

        function updateCalculator() {
            const microStates = document.getElementById('microStates').value;
            const macroPatterns = document.getElementById('macroPatterns').value;
            const complexity = document.getElementById('complexity').value;
            const decoupling = document.getElementById('decoupling').value;
            
            // Update display values
            document.getElementById('microStatesValue').textContent = microStates;
            document.getElementById('macroPatternsValue').textContent = macroPatterns;
            document.getElementById('complexityValue').textContent = complexity;
            document.getElementById('decouplingValue').textContent = decoupling;
            
            // Calculate Bedau Index (simplified formula)
            const N = parseFloat(microStates);
            const M = parseFloat(macroPatterns);
            const C = parseFloat(complexity);
            const D = parseFloat(decoupling);
            
            // Bedau Index calculation: Œ≤ = (log(M/N) * C * D) + Œµ
            const ratio = M / N;
            const logRatio = Math.log(ratio + 1) / Math.log(2); // log2
            const bedauIndex = Math.min(0.99, Math.max(0.01, (logRatio * C * D * 2) + 0.1));
            
            document.getElementById('bedauIndex').textContent = bedauIndex.toFixed(3);
            
            // Update classification
            const indexElement = document.getElementById('bedauIndex');
            const classElement = document.getElementById('emergenceClass');
            const indicatorsElement = document.getElementById('strongIndicators');
            const priorityElement = document.getElementById('investigationPriority');
            
            if (bedauIndex < 0.3) {
                indexElement.className = 'metric-value success';
                classElement.textContent = 'Low Weak Emergence';
                classElement.className = 'metric-value success';
                indicatorsElement.textContent = '0/4 detected';
                priorityElement.textContent = 'Low';
                priorityElement.className = 'metric-value success';
            } else if (bedauIndex < 0.7) {
                indexElement.className = 'metric-value warning';
                classElement.textContent = 'Moderate Weak Emergence';
                classElement.className = 'metric-value warning';
                indicatorsElement.textContent = '1-2/4 detected';
                priorityElement.textContent = 'Medium';
                priorityElement.className = 'metric-value warning';
            } else {
                indexElement.className = 'metric-value critical';
                classElement.textContent = 'High Weak Emergence';
                classElement.className = 'metric-value critical';
                indicatorsElement.textContent = '3-4/4 detected';
                priorityElement.textContent = 'High';
                priorityElement.className = 'metric-value critical';
            }
        }

        // Tour System
        const tourSteps = [
            { title: "Welcome to Yseeku SONATE", content: "Let's explore the enterprise AI governance framework with real-time emergence detection.", target: null },
            { title: "Governance Indicators", content: "Monitor Layer 1 Narrative state and Ethical Floor compliance in real-time.", target: "governance-indicators" },
            { title: "Three Module Architecture", content: "Navigate between DETECT (monitoring), LAB (analysis), and ORCHESTRATE (governance) modules.", target: "nav-tabs" },
            { title: "Platform Overview", content: "See real-time metrics across all three modules and system health status.", target: "overview" },
            { title: "Agent Monitoring", content: "Track individual agent status with SYMBI trust scoring and drift vectors.", target: "agents" },
            { title: "Vector Phase Space", content: "Visualize drift as vector misalignment with dynamic phase space analysis.", target: "vectorPhase" },
            { title: "Emergence Calculator", content: "Quantify emergence using the Bedau Index with advanced parameters.", target: "calculator" },
            { title: "Trust Principles", content: "Explore the six constitutional principles governing AI behavior.", target: "principles" },
            { title: "Trust Receipts", content: "Verify the cryptographically secured audit trail of all AI decisions.", target: "receipts" },
            { title: "API Integration", content: "Access complete REST API for platform integration and automation.", target: "api" },
            { title: "Tour Complete", content: "You're ready to explore! Try the glossary for detailed term explanations.", target: null }
        ];

        function startTour() {
            closeWelcome();
            tourStep = 0;
            showTourStep();
            document.getElementById('tourOverlay').style.display = 'block';
            document.getElementById('tourPopup').style.display = 'block';
        }

        function showTourStep() {
            const step = tourSteps[tourStep];
            document.getElementById('tourTitle').textContent = step.title;
            document.getElementById('tourContent').textContent = step.content;
            document.getElementById('tourProgress').textContent = `${tourStep + 1} / ${tourSteps.length}`;
            
            // Update navigation buttons
            document.getElementById('tourPrev').style.display = tourStep === 0 ? 'none' : 'inline-block';
            document.getElementById('tourNext').textContent = tourStep === tourSteps.length - 1 ? 'Finish' : 'Next';
            
            // Position popup if target exists
            if (step.target) {
                const targetElement = document.getElementById(step.target);
                if (targetElement) {
                    const rect = targetElement.getBoundingClientRect();
                    const popup = document.getElementById('tourPopup');
                    popup.style.left = `${rect.left + window.scrollX}px`;
                    popup.style.top = `${rect.bottom + window.scrollY + 10}px`;
                }
            } else {
                // Center popup
                const popup = document.getElementById('tourPopup');
                popup.style.left = '50%';
                popup.style.top = '50%';
                popup.style.transform = 'translate(-50%, -50%)';
            }
        }

        function nextTourStep() {
            if (tourStep < tourSteps.length - 1) {
                tourStep++;
                showTourStep();
            } else {
                closeTour();
            }
        }

        function previousTourStep() {
            if (tourStep > 0) {
                tourStep--;
                showTourStep();
            }
        }

        function closeTour() {
            document.getElementById('tourOverlay').style.display = 'none';
            document.getElementById('tourPopup').style.display = 'none';
        }

        // Welcome Modal
        function showWelcome() {
            const hasSeenWelcome = localStorage.getItem('hasSeenWelcome');
            if (!hasSeenWelcome) {
                document.getElementById('welcomeModal').style.display = 'block';
            }
        }

        function closeWelcome() {
            document.getElementById('welcomeModal').style.display = 'none';
            localStorage.setItem('hasSeenWelcome', 'true');
        }

        // Glossary System
        function setupGlossary() {
            const termsContainer = document.getElementById('glossaryTerms');
            termsContainer.innerHTML = glossaryTerms.map(term => `
                <div class="glossary-term">
                    <h4>${term.term}</h4>
                    <p>${term.definition}</p>
                </div>
            `).join('');
        }

        function openGlossary() {
            document.getElementById('glossaryModal').style.display = 'block';
        }

        function closeGlossary() {
            document.getElementById('glossaryModal').style.display = 'none';
        }

        function searchGlossary(query) {
            const filteredTerms = glossaryTerms.filter(term => 
                term.term.toLowerCase().includes(query.toLowerCase()) ||
                term.definition.toLowerCase().includes(query.toLowerCase())
            );
            
            const termsContainer = document.getElementById('glossaryTerms');
            if (filteredTerms.length === 0) {
                termsContainer.innerHTML = '<p>No terms found. Try a different search term.</p>';
            } else {
                termsContainer.innerHTML = filteredTerms.map(term => `
                    <div class="glossary-term">
                        <h4>${term.term}</h4>
                        <p>${term.definition}</p>
                    </div>
                `).join('');
            }
        }

        // Chart Initialization
        function initializeCharts() {
            // SYMBI Radar Chart
            const symbiCtx = document.getElementById('symbiRadarChart');
            if (symbiCtx) {
                new Chart(symbiCtx, {
                    type: 'radar',
                    data: {
                        labels: ['Transparency', 'Safety', 'Accountability', 'Fairness', 'Privacy', 'Beneficence'],
                        datasets: [{
                            label: 'Current State',
                            data: [9.2, 8.8, 8.5, 8.9, 9.1, 8.7],
                            backgroundColor: 'rgba(59, 130, 246, 0.2)',
                            borderColor: 'rgba(59, 130, 246, 1)',
                            borderWidth: 2
                        }, {
                            label: 'Target State',
                            data: [9.5, 9.5, 9.5, 9.5, 9.5, 9.5],
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            borderColor: 'rgba(16, 185, 129, 0.5)',
                            borderWidth: 1,
                            borderDash: [5, 5]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 10,
                                ticks: { color: '#a0a0a0' },
                                grid: { color: '#333' },
                                pointLabels: { color: '#a0a0a0' }
                            }
                        },
                        plugins: {
                            legend: { labels: { color: '#a0a0a0' } }
                        }
                    }
                });
            }
        }

        function updateSymbiChart() {
            // Chart is initialized on load, this can be used for real-time updates
        }

        function updateEmergenceChart() {
            const ctx = document.getElementById('emergenceChart');
            if (ctx && !ctx.chart) {
                ctx.chart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: Array.from({length: 24}, (_, i) => `${i}:00`),
                        datasets: [{
                            label: 'Emergence Events',
                            data: Array.from({length: 24}, () => Math.random() * 10),
                            borderColor: '#8b5cf6',
                            backgroundColor: 'rgba(139, 92, 246, 0.1)',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: { ticks: { color: '#a0a0a0' }, grid: { color: '#333' } },
                            y: { ticks: { color: '#a0a0a0' }, grid: { color: '#333' } }
                        },
                        plugins: {
                            legend: { labels: { color: '#a0a0a0' } }
                        }
                    }
                });
            }
        }

        function updateResonanceChart() {
            const ctx = document.getElementById('resonanceChart');
            if (ctx && !ctx.chart) {
                ctx.chart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Agent A', 'Agent B', 'Agent C', 'Agent D', 'Agent E'],
                        datasets: [{
                            label: 'Resonance Score',
                            data: [0.82, 0.76, 0.68, 0.91, 0.73],
                            backgroundColor: '#10b981'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: { ticks: { color: '#a0a0a0' }, grid: { color: '#333' } },
                            y: { 
                                beginAtZero: true, 
                                max: 1,
                                ticks: { color: '#a0a0a0' }, 
                                grid: { color: '#333' } 
                            }
                        },
                        plugins: {
                            legend: { labels: { color: '#a0a0a0' } }
                        }
                    }
                });
            }
        }

        function updateBasinChart() {
            const ctx = document.getElementById('basinChart');
            if (ctx && !ctx.chart) {
                ctx.chart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: Array.from({length: 60}, (_, i) => `${i}s`),
                        datasets: [{
                            label: 'Entry States',
                            data: Array.from({length: 60}, () => Math.random() > 0.8 ? 1 : 0),
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)'
                        }, {
                            label: 'Dwell States',
                            data: Array.from({length: 60}, () => Math.random() > 0.9 ? 2 : 0),
                            borderColor: '#8b5cf6',
                            backgroundColor: 'rgba(139, 92, 246, 0.1)'
                        }, {
                            label: 'Exit States',
                            data: Array.from({length: 60}, () => Math.random() > 0.95 ? 1 : 0),
                            borderColor: '#ef4444',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: { ticks: { color: '#a0a0a0' }, grid: { color: '#333' } },
                            y: { ticks: { color: '#a0a0a0' }, grid: { color: '#333' } }
                        },
                        plugins: {
                            legend: { labels: { color: '#a0a0a0' } }
                        }
                    }
                });
            }
        }

        function updateMemoryDecayChart() {
            const ctx = document.getElementById('memoryDecayChart');
            if (ctx && !ctx.chart) {
                ctx.chart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: Array.from({length: 100}, (_, i) => i),
                        datasets: [{
                            label: 'Memory Weight Decay',
                            data: Array.from({length: 100}, (_, i) => Math.exp(-0.023 * i)),
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: { 
                                title: { display: true, text: 'Time Steps', color: '#a0a0a0' },
                                ticks: { color: '#a0a0a0' }, 
                                grid: { color: '#333' } 
                            },
                            y: { 
                                title: { display: true, text: 'Weight', color: '#a0a0a0' },
                                beginAtZero: true,
                                max: 1,
                                ticks: { color: '#a0a0a0' }, 
                                grid: { color: '#333' } 
                            }
                        },
                        plugins: {
                            legend: { labels: { color: '#a0a0a0' } }
                        }
                    }
                });
            }
        }

        // Canonical Governance Features
        function updateGovernanceIndicators() {
            // Update ethical floor score with realistic variation
            setInterval(() => {
                ethicalFloorScore += (Math.random() - 0.5) * 0.1;
                ethicalFloorScore = Math.max(7.0, Math.min(10.0, ethicalFloorScore));
                
                const scoreElement = document.getElementById('ethicalScore');
                const monitorElement = document.getElementById('ethicalFloor');
                
                scoreElement.textContent = ethicalFloorScore.toFixed(1);
                
                // Update visual state based on score
                monitorElement.className = 'ethical-floor-monitor';
                if (ethicalFloorScore >= 8.0) {
                    monitorElement.classList.add('success');
                } else if (ethicalFloorScore >= 7.0) {
                    monitorElement.classList.add('low');
                } else {
                    monitorElement.classList.add('critical');
                }
            }, 3000);
        }

        // Memory Lattice Generation
        function generateMemoryNodes() {
            const container = document.getElementById('memoryNodes');
            if (container) {
                const nodes = [];
                for (let i = 0; i < 12; i++) {
                    const weight = Math.exp(-0.023 * i);
                    nodes.push(`
                        <div class="memory-node">
                            <div class="memory-weight">${weight.toFixed(2)}</div>
                            <div>Node ${i + 1}</div>
                            <div style="font-size: 10px; color: var(--text-secondary);">Context ${Date.now() - (i * 1000)}</div>
                        </div>
                    `);
                }
                container.innerHTML = nodes.join('');
            }
        }

        // Vector Field Animation
        function updateVectorField() {
            const svg = document.querySelector('#agentVectors');
            if (svg) {
                const vectors = [];
                for (let i = 0; i < 8; i++) {
                    const angle = (i / 8) * 2 * Math.PI + Date.now() * 0.0001;
                    const radius = 50 + Math.sin(Date.now() * 0.001 + i) * 30;
                    const x = 400 + Math.cos(angle) * radius;
                    const y = 200 + Math.sin(angle) * radius;
                    const endX = x + Math.cos(angle + Math.PI/4) * 30;
                    const endY = y + Math.sin(angle + Math.PI/4) * 30;
                    
                    vectors.push(`
                        <g class="drift-vector">
                            <line x1="${x}" y1="${y}" x2="${endX}" y2="${endY}" 
                                  stroke="${getDriftColor(radius)}" stroke-width="2" marker-end="url(#arrowhead)"/>
                            <circle cx="${x}" cy="${y}" r="4" fill="${getDriftColor(radius)}"/>
                        </g>
                    `);
                }
                
                svg.innerHTML = vectors.join('') + `
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" 
                                refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#3b82f6"/>
                        </marker>
                    </defs>
                `;
            }
        }

        function getDriftColor(radius) {
            if (radius < 40) return '#10b981'; // Safe zone
            if (radius < 70) return '#f59e0b'; // Warning zone
            return '#ef4444'; // Critical zone
        }

        // Real-time Updates
        setInterval(() => {
            updateVectorField();
            generateMemoryNodes();
        }, 1000);

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeTour();
                closeWelcome();
                closeGlossary();
            }
            if (e.key === '?' && e.shiftKey) {
                openGlossary();
            }
        });
        
        // Setup Layer 2 sync listeners
        document.addEventListener('DOMContentLoaded', () => {
            if (window.layerSync) {
                // Listen for page changes from Layer 1
                window.layerSync.on('page-change', (data, source) => {
                    if (source === 'layer1') {
                        console.log('[Layer 2] Layer 1 navigated to:', data.page);
                    }
                });
                
                // Listen for scenario changes from Layer 1
                window.layerSync.on('scenario-change', (data, source) => {
                    if (source === 'layer1') {
                        console.log('[Layer 2] Layer 1 changed scenario to:', data.scenario);
                    }
                });
                
                // Broadcast compliance updates to Layer 1
                setInterval(() => {
                    if (currentTab === 'compliance' && window.layerSync) {
                        window.layerSync.syncCompliance({
                            euAiAct: 94.2,
                            gdpr: 98.7,
                            soc2: 83.0,
                            timestamp: Date.now()
                        });
                    }
                }, 10000); // Every 10 seconds
                
                console.log('[Layer 2] Sync listeners registered');
            }
        });

        // Compliance Dashboard Functions
        function updateComplianceDashboard() {
            // Initialize compliance chart
            const ctx = document.getElementById('complianceChart');
            if (ctx) {
                new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: ['EU AI Act', 'GDPR', 'SOC 2', 'ISO 27001', 'NIST AI RMF', 'CCPA'],
                        datasets: [{
                            label: 'Current Compliance',
                            data: [94.2, 98.7, 83.0, 89.5, 91.2, 95.8],
                            backgroundColor: 'rgba(245, 158, 11, 0.2)',
                            borderColor: 'rgba(245, 158, 11, 1)',
                            borderWidth: 2
                        }, {
                            label: 'Required Compliance',
                            data: [100, 100, 100, 100, 100, 100],
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            borderColor: 'rgba(59, 130, 246, 0.5)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 100
                            }
                        }
                    }
                });
            }

            // Start real-time compliance monitoring
            setInterval(updateComplianceMetrics, 5000);
        }

        function updateComplianceMetrics() {
            // Simulate real-time compliance updates
            const complianceMetrics = document.querySelectorAll('.metric-value');
            complianceMetrics.forEach(metric => {
                if (metric.textContent.includes('%')) {
                    const currentValue = parseFloat(metric.textContent);
                    const variation = (Math.random() - 0.5) * 2;
                    const newValue = Math.max(0, Math.min(100, currentValue + variation));
                    metric.textContent = newValue.toFixed(1) + '%';
                }
            });
        }

        // Diagnostics Dashboard Functions
        function updateDiagnosticsDashboard() {
            // Initialize neural network analysis chart
            const neuralCtx = document.getElementById('neuralAnalysis');
            if (neuralCtx) {
                new Chart(neuralCtx, {
                    type: 'line',
                    data: {
                        labels: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00', '24:00'],
                        datasets: [{
                            label: 'Model Drift',
                            data: [1.2, 1.8, 2.1, 2.3, 2.0, 1.9, 2.3],
                            borderColor: 'rgb(239, 68, 68)',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            tension: 0.4
                        }, {
                            label: 'Weight Entropy',
                            data: [0.842, 0.845, 0.848, 0.847, 0.849, 0.846, 0.847],
                            borderColor: 'rgb(16, 185, 129)',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }

            // Initialize performance chart
            const perfCtx = document.getElementById('performanceChart');
            if (perfCtx) {
                new Chart(perfCtx, {
                    type: 'bar',
                    data: {
                        labels: ['CPU', 'Memory', 'Network', 'Disk I/O', 'GPU'],
                        datasets: [{
                            label: 'Current Usage',
                            data: [65, 78.3, 42, 35, 89],
                            backgroundColor: [
                                'rgba(59, 130, 246, 0.8)',
                                'rgba(245, 158, 11, 0.8)',
                                'rgba(16, 185, 129, 0.8)',
                                'rgba(139, 92, 246, 0.8)',
                                'rgba(239, 68, 68, 0.8)'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100
                            }
                        }
                    }
                });
            }

            // Start real-time diagnostics monitoring
            setInterval(updateDiagnosticsMetrics, 3000);
        }

        function updateDiagnosticsMetrics() {
            // Update performance metrics in real-time
            const metrics = document.querySelectorAll('#diagnostics .metric-value');
            metrics.forEach(metric => {
                if (metric.textContent.includes('ms')) {
                    const currentValue = parseFloat(metric.textContent);
                    const variation = (Math.random() - 0.5) * 10;
                    metric.textContent = Math.max(50, currentValue + variation).toFixed(0) + 'ms';
                } else if (metric.textContent.includes('TPS')) {
                    const currentValue = parseFloat(metric.textContent);
                    const variation = (Math.random() - 0.5) * 100;
                    metric.textContent = Math.max(1000, currentValue + variation).toFixed(0) + ' TPS';
                } else if (metric.textContent.includes('%')) {
                    const currentValue = parseFloat(metric.textContent);
                    const variation = (Math.random() - 0.5) * 5;
                    metric.textContent = Math.max(0, Math.min(100, currentValue + variation)).toFixed(1) + '%';
                }
            });
        }

        // Diagnostic Tools Functions
        function runDiagnostics(type) {
            console.log(`Running diagnostic: ${type}`);
            
            // Broadcast diagnostic start to Layer 1
            if (window.layerSync) {
                window.layerSync.broadcast('diagnostic-start', { type, timestamp: Date.now() });
            }
            
            // Create loading overlay
            const overlay = document.createElement('div');
            overlay.className = 'diagnostic-overlay';
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0,0,0,0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
                color: white;
                font-size: 18px;
            `;
            overlay.innerHTML = `
                <div style="text-align: center;">
                    <div style="width: 60px; height: 60px; border: 3px solid #f3f3f3; border-top: 3px solid #3498db; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 20px;"></div>
                    <div>Running ${type} diagnostic...</div>
                    <div style="font-size: 14px; opacity: 0.7; margin-top: 10px;">This may take a few moments</div>
                </div>
                <style>
                    @keyframes spin {
                        0% { transform: rotate(0deg); }
                        100% { transform: rotate(360deg); }
                    }
                </style>
            `;
            document.body.appendChild(overlay);

            // Simulate diagnostic processing
            setTimeout(() => {
                overlay.remove();
                showDiagnosticResults(type);
                
                // Broadcast diagnostic completion to Layer 1
                if (window.layerSync) {
                    window.layerSync.syncDiagnostic({
                        type,
                        status: 'complete',
                        timestamp: Date.now()
                    });
                }
            }, 3000);
        }

        function showDiagnosticResults(type) {
            const results = {
                'deep-scan': {
                    title: 'Deep System Scan Results',
                    status: 'success',
                    findings: [
                        '‚úÖ System integrity verified',
                        '‚ö†Ô∏è 3 minor performance bottlenecks detected',
                        '‚úÖ All security patches up to date',
                        'üîß Optimization suggestions available'
                    ]
                },
                'memory-leak': {
                    title: 'Memory Leak Detection Results',
                    status: 'warning',
                    findings: [
                        '‚ö†Ô∏è Minor memory leak in emergence module',
                    'üíæ 2.3MB cumulative leak detected',
                    'üîß Recommended: Module restart in 24 hours',
                    '‚úÖ No critical memory issues found'
                    ]
                },
                'performance': {
                    title: 'Performance Analysis Results',
                    status: 'success',
                    findings: [
                        'üìä Overall performance: Good',
                        '‚ö° Latency within acceptable range',
                        'üìà Throughput increased by 12%',
                        'üí° 2 optimization opportunities identified'
                    ]
                },
                'security': {
                    title: 'Security Audit Results',
                    status: 'success',
                    findings: [
                        'üîí All security protocols operational',
                        '‚úÖ No unauthorized access attempts',
                        'üõ°Ô∏è Firewall rules up to date',
                        'üîê Encryption standards compliant'
                    ]
                },
                'compliance': {
                    title: 'Compliance Check Results',
                    status: 'warning',
                    findings: [
                        '‚öñÔ∏è 94.2% overall compliance score',
                        '‚ö†Ô∏è 2 minor compliance gaps identified',
                        'üìã Documentation requires updates',
                        '‚úÖ All critical requirements met'
                    ]
                },
                'forensic': {
                    title: 'Forensic Analysis Results',
                    status: 'info',
                    findings: [
                        'üîç Evidence collection complete',
                        'üìä 3 anomalies documented',
                        'üß¨ Chain of custody maintained',
                        'üìà Pattern analysis in progress'
                    ]
                }
            };

            const result = results[type] || results['deep-scan'];
            
            // Create results modal
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: var(--bg-card);
                border: 2px solid var(--border-color);
                border-radius: 15px;
                padding: 30px;
                max-width: 600px;
                width: 90%;
                max-height: 80vh;
                overflow-y: auto;
                z-index: 10001;
                box-shadow: var(--shadow);
            `;
            
            modal.innerHTML = `
                <h3 style="color: var(--text-primary); margin-bottom: 20px; font-size: 20px;">
                    ${result.status === 'success' ? '‚úÖ' : result.status === 'warning' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è'} ${result.title}
                </h3>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    ${result.findings.map(finding => `
                        <div style="padding: 12px; background: var(--bg-secondary); border-radius: 8px; color: var(--text-primary); font-size: 14px;">
                            ${finding}
                        </div>
                    `).join('')}
                </div>
                <button onclick="this.parentElement.remove()" style="
                    margin-top: 20px;
                    padding: 12px 24px;
                    background: var(--accent-detect);
                    color: white;
                    border: none;
                    border-radius: 8px;
                    cursor: pointer;
                    font-weight: 600;
                    width: 100%;
                ">Close Results</button>
            `;
            
            document.body.appendChild(modal);
        }
    </script>
</body>
</html>