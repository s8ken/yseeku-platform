{"version":3,"file":"main-Bqp_evO1.js","sources":["../../src/core/demo-engine.js","../../src/core/trust-protocol.js","../../src/core/phase-velocity.js","../../src/detect/real-time-monitor.js","../../src/detect/identity-coherence.js","../../src/lab/experiment-runner.js","../../src/lab/statistical-validator.js","../../src/orchestrate/agent-registry.js","../../src/orchestrate/workflow-engine.js","../../src/main.js"],"sourcesContent":["// Demo Engine - Core orchestration for all demo features\nexport class DemoEngine {\n    constructor() {\n        this.isRunning = false;\n        this.activeSessions = new Map();\n        this.eventQueue = [];\n        this.config = {\n            latency: {\n                min: 70,\n                max: 100,\n                target: 85\n            },\n            throughput: {\n                target: 1000,\n                current: 0\n            },\n            alerts: {\n                enabled: true,\n                thresholds: {\n                    yellow: 2.0,\n                    red: 3.5,\n                    critical: 6.0\n                }\n            }\n        };\n    }\n\n    async initialize() {\n        console.log('Initializing Demo Engine...');\n        this.isRunning = true;\n        this.startMetricsCollection();\n        this.startEventProcessing();\n    }\n\n    startMetricsCollection() {\n        setInterval(() => {\n            this.collectMetrics();\n        }, 1000);\n    }\n\n    startEventProcessing() {\n        setInterval(() => {\n            this.processEventQueue();\n        }, 100);\n    }\n\n    collectMetrics() {\n        const metrics = {\n            timestamp: Date.now(),\n            latency: this.generateLatency(),\n            throughput: this.generateThroughput(),\n            trustScore: this.generateTrustScore(),\n            alerts: this.generateAlerts()\n        };\n\n        this.dispatchMetric('metrics', metrics);\n    }\n\n    generateLatency() {\n        const { min, max, target } = this.config.latency;\n        const variation = (Math.random() - 0.5) * 20;\n        return Math.max(min, Math.min(max, target + variation));\n    }\n\n    generateThroughput() {\n        const { target } = this.config.throughput;\n        const variation = (Math.random() - 0.5) * 200;\n        return Math.max(500, Math.min(1500, target + variation));\n    }\n\n    generateTrustScore() {\n        const base = 8.5;\n        const variation = (Math.random() - 0.5) * 1;\n        return Math.max(7.0, Math.min(10.0, base + variation));\n    }\n\n    generateAlerts() {\n        if (!this.config.alerts.enabled) return [];\n\n        const alerts = [];\n        const alertChance = Math.random();\n\n        if (alertChance > 0.9) {\n            alerts.push({\n                type: 'warning',\n                title: 'Identity Coherence Drift',\n                message: 'Agent identity stability below threshold',\n                timestamp: Date.now()\n            });\n        } else if (alertChance > 0.95) {\n            alerts.push({\n                type: 'error',\n                title: 'Trust Protocol Violation',\n                message: 'Constitutional principle violation detected',\n                timestamp: Date.now()\n            });\n        }\n\n        return alerts;\n    }\n\n    queueEvent(event) {\n        this.eventQueue.push(event);\n    }\n\n    processEventQueue() {\n        while (this.eventQueue.length > 0) {\n            const event = this.eventQueue.shift();\n            this.processEvent(event);\n        }\n    }\n\n    processEvent(event) {\n        switch (event.type) {\n            case 'detection':\n                this.handleDetectionEvent(event);\n                break;\n            case 'experiment':\n                this.handleExperimentEvent(event);\n                break;\n            case 'orchestration':\n                this.handleOrchestrationEvent(event);\n                break;\n            default:\n                console.log('Unknown event type:', event.type);\n        }\n    }\n\n    handleDetectionEvent(event) {\n        // Process real-time detection events\n        console.log('Processing detection event:', event);\n    }\n\n    handleExperimentEvent(event) {\n        // Process experiment-related events\n        console.log('Processing experiment event:', event);\n    }\n\n    handleOrchestrationEvent(event) {\n        // Process orchestration events\n        console.log('Processing orchestration event:', event);\n    }\n\n    dispatchMetric(type, data) {\n        const event = new CustomEvent(`demo-metric-${type}`, {\n            detail: data\n        });\n        document.dispatchEvent(event);\n    }\n\n    createSession(sessionId, config = {}) {\n        const session = {\n            id: sessionId,\n            startTime: Date.now(),\n            config,\n            metrics: [],\n            status: 'active'\n        };\n\n        this.activeSessions.set(sessionId, session);\n        return session;\n    }\n\n    endSession(sessionId) {\n        const session = this.activeSessions.get(sessionId);\n        if (session) {\n            session.status = 'completed';\n            session.endTime = Date.now();\n            return session;\n        }\n        return null;\n    }\n\n    getSessionMetrics(sessionId) {\n        const session = this.activeSessions.get(sessionId);\n        return session ? session.metrics : [];\n    }\n}","// Trust Protocol Demo - SONATE Framework Implementation\nexport class TrustProtocolDemo {\n    constructor() {\n        this.principles = [\n            {\n                id: 'consent',\n                name: 'Informed Consent',\n                weight: 0.20,\n                description: 'Users must explicitly understand and agree to AI interactions',\n                score: 8.5\n            },\n            {\n                id: 'explanation',\n                name: 'Explainable Reasoning',\n                weight: 0.18,\n                description: 'AI systems must provide transparent reasoning for decisions',\n                score: 9.2\n            },\n            {\n                id: 'audit',\n                name: 'Audit Trail',\n                weight: 0.16,\n                description: 'Complete cryptographic logging of all interactions',\n                score: 9.5\n            },\n            {\n                id: 'override',\n                name: 'Human Override',\n                weight: 0.15,\n                description: 'Humans must always have the ability to override AI decisions',\n                score: 8.8\n            },\n            {\n                id: 'disconnect',\n                name: 'Right to Disconnect',\n                weight: 0.15,\n                description: 'Users can terminate any AI interaction and have data deleted',\n                score: 9.0\n            },\n            {\n                id: 'agency',\n                name: 'Moral Agency',\n                weight: 0.16,\n                description: 'Respect for human moral agency and ethical decision-making',\n                score: 8.7\n            }\n        ];\n\n        this.trustReceipts = [];\n        this.currentScore = this.calculateOverallScore();\n    }\n\n    async initialize() {\n        console.log('Initializing Trust Protocol Demo...');\n        this.setupEventListeners();\n        this.generateInitialReceipts();\n    }\n\n    setupEventListeners() {\n        // Listen for principle interactions\n        document.addEventListener('click', (e) => {\n            const principleCard = e.target.closest('.principle-card');\n            if (principleCard) {\n                const principleId = principleCard.dataset.principle;\n                this.handlePrincipleInteraction(principleId);\n            }\n        });\n    }\n\n    handlePrincipleInteraction(principleId) {\n        const principle = this.principles.find(p => p.id === principleId);\n        if (principle) {\n            // Simulate score fluctuation\n            const variation = (Math.random() - 0.5) * 0.4;\n            principle.score = Math.max(7.0, Math.min(10.0, principle.score + variation));\n            \n            this.updatePrincipleDisplay(principleId, principle.score);\n            this.currentScore = this.calculateOverallScore();\n            this.generateTrustReceipt();\n        }\n    }\n\n    updatePrincipleDisplay(principleId, score) {\n        const card = document.querySelector(`[data-principle=\"${principleId}\"]`);\n        if (card) {\n            const scoreFill = card.querySelector('.score-fill');\n            const scoreValue = card.querySelector('.score-value');\n            \n            if (scoreFill && scoreValue) {\n                scoreFill.style.width = `${score * 10}%`;\n                scoreValue.textContent = `${score.toFixed(1)}/10`;\n            }\n        }\n    }\n\n    calculateOverallScore() {\n        const weightedSum = this.principles.reduce((sum, principle) => {\n            return sum + (principle.score * principle.weight);\n        }, 0);\n\n        return Math.round(weightedSum * 100) / 100;\n    }\n\n    async generateTrustReceipt() {\n        const receipt = {\n            id: this.generateId(),\n            timestamp: Date.now(),\n            contentHash: this.generateContentHash(),\n            signature: this.generateSignature(),\n            principleScores: this.principles.map(p => ({\n                id: p.id,\n                name: p.name,\n                score: p.score,\n                weight: p.weight\n            })),\n            overallScore: this.currentScore,\n            trustProtocol: this.determineTrustProtocol(),\n            metadata: {\n                version: '1.0.0',\n                sessionId: this.getSessionId(),\n                agentId: this.getAgentId()\n            }\n        };\n\n        this.trustReceipts.push(receipt);\n        this.dispatchReceiptEvent(receipt);\n        \n        return receipt;\n    }\n\n    generateId() {\n        return `receipt-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n    }\n\n    generateContentHash() {\n        // Simulate SHA-256 hash\n        const content = JSON.stringify({\n            timestamp: Date.now(),\n            scores: this.principles.map(p => p.score)\n        });\n        \n        return Array.from(content)\n            .reduce((hash, char) => {\n                return ((hash << 5) - hash) + char.charCodeAt(0);\n            }, 0)\n            .toString(16)\n            .padStart(64, '0');\n    }\n\n    generateSignature() {\n        // Simulate Ed25519 signature\n        const hash = this.generateContentHash();\n        const privateKey = 'demo_private_key';\n        \n        return Array.from(hash + privateKey)\n            .reduce((signature, char) => {\n                return ((signature << 5) - signature) + char.charCodeAt(0);\n            }, 0)\n            .toString(16)\n            .padStart(128, '0');\n    }\n\n    determineTrustProtocol() {\n        if (this.currentScore >= 9.0) return 'PASS';\n        if (this.currentScore >= 7.5) return 'PARTIAL';\n        return 'FAIL';\n    }\n\n    getSessionId() {\n        return `session-${Date.now()}`;\n    }\n\n    getAgentId() {\n        return `agent-sonate-demo`;\n    }\n\n    dispatchReceiptEvent(receipt) {\n        const event = new CustomEvent('trust-receipt-generated', {\n            detail: receipt\n        });\n        document.dispatchEvent(event);\n    }\n\n    generateInitialReceipts() {\n        // Generate some initial receipts for demonstration\n        for (let i = 0; i < 5; i++) {\n            setTimeout(() => {\n                this.generateTrustReceipt();\n            }, i * 500);\n        }\n    }\n\n    async verifyReceipt(receiptHash) {\n        const receipt = this.trustReceipts.find(r => r.contentHash === receiptHash);\n        \n        if (!receipt) {\n            return {\n                verifiable: false,\n                hashOk: false,\n                signatureOk: false,\n                error: 'Receipt not found'\n            };\n        }\n\n        // Simulate verification\n        const hashOk = this.verifyHash(receipt);\n        const signatureOk = this.verifySignature(receipt);\n\n        return {\n            verifiable: hashOk && signatureOk,\n            hashOk,\n            signatureOk,\n            receipt\n        };\n    }\n\n    verifyHash(receipt) {\n        // Simulate hash verification\n        const expectedHash = this.generateContentHash();\n        return receipt.contentHash === expectedHash;\n    }\n\n    verifySignature(receipt) {\n        // Simulate signature verification\n        return receipt.signature && receipt.signature.length === 128;\n    }\n\n    getReceiptHistory(limit = 10) {\n        return this.trustReceipts.slice(-limit).reverse();\n    }\n\n    getComplianceStatus() {\n        const passing = this.trustReceipts.filter(r => r.trustProtocol === 'PASS').length;\n        const total = this.trustReceipts.length;\n        const complianceRate = total > 0 ? (passing / total) * 100 : 100;\n\n        return {\n            rate: Math.round(complianceRate),\n            passing,\n            total,\n            status: complianceRate >= 95 ? 'EXCELLENT' : \n                   complianceRate >= 85 ? 'GOOD' : \n                   complianceRate >= 70 ? 'NEEDS_IMPROVEMENT' : 'POOR'\n        };\n    }\n}","// Phase-Shift Velocity Calculator - ΔΦ/t Mathematical Innovation\nexport class PhaseVelocityCalculator {\n    constructor() {\n        this.history = [];\n        this.maxHistoryLength = 100;\n        this.baseline = null;\n        this.thresholds = {\n            normal: 0.5,\n            warning: 0.7,\n            critical: 0.85\n        };\n        this.currentVelocity = 0;\n        this.alerts = [];\n    }\n\n    async initialize() {\n        console.log('Initializing Phase-Shift Velocity Calculator...');\n        this.establishBaseline();\n        this.startContinuousMonitoring();\n    }\n\n    establishBaseline() {\n        // Create baseline from first few measurements\n        const baselineMeasurements = [];\n        \n        for (let i = 0; i < 10; i++) {\n            baselineMeasurements.push(this.generateMeasurement());\n        }\n\n        this.baseline = {\n            resonance: this.average(baselineMeasurements.map(m => m.resonance)),\n            canvas: this.average(baselineMeasurements.map(m => m.canvas)),\n            identity: this.average(baselineMeasurements.map(m => m.identity)),\n            timestamp: Date.now()\n        };\n\n        console.log('Baseline established:', this.baseline);\n    }\n\n    startContinuousMonitoring() {\n        setInterval(() => {\n            this.calculatePhaseVelocity();\n        }, 1000);\n    }\n\n    calculatePhaseVelocity() {\n        const currentMeasurement = this.generateMeasurement();\n        \n        if (!this.baseline) {\n            this.establishBaseline();\n            return;\n        }\n\n        const deltaT = (currentMeasurement.timestamp - this.baseline.timestamp) / 1000; // Convert to seconds\n        const deltaR = Math.abs(currentMeasurement.resonance - this.baseline.resonance);\n        const deltaC = Math.abs(currentMeasurement.canvas - this.baseline.canvas);\n        \n        // Phase-Shift Velocity formula: ΔΦ/t = √(ΔR² + ΔC²) ÷ Δt\n        const velocity = Math.sqrt(deltaR * deltaR + deltaC * deltaC) / deltaT;\n        \n        this.currentVelocity = velocity;\n        this.addToHistory(currentMeasurement, velocity);\n        this.checkAlerts(velocity);\n        \n        this.dispatchVelocityUpdate({\n            velocity,\n            measurement: currentMeasurement,\n            status: this.getVelocityStatus(velocity)\n        });\n\n        return velocity;\n    }\n\n    generateMeasurement() {\n        // Simulate real-time measurement with realistic variations\n        const timeFactor = Date.now() / 10000;\n        \n        return {\n            resonance: this.clamp(7 + Math.sin(timeFactor) * 1.5 + (Math.random() - 0.5) * 0.5, 0, 10),\n            canvas: this.clamp(75 + Math.cos(timeFactor * 0.8) * 10 + (Math.random() - 0.5) * 5, 0, 100),\n            identity: this.clamp(0.85 + Math.sin(timeFactor * 1.2) * 0.1 + (Math.random() - 0.5) * 0.05, 0, 1),\n            timestamp: Date.now()\n        };\n    }\n\n    addToHistory(measurement, velocity) {\n        const historyEntry = {\n            timestamp: Date.now(),\n            measurement,\n            velocity,\n            status: this.getVelocityStatus(velocity)\n        };\n\n        this.history.push(historyEntry);\n\n        // Maintain history size\n        if (this.history.length > this.maxHistoryLength) {\n            this.history.shift();\n        }\n    }\n\n    checkAlerts(velocity) {\n        let alertType = null;\n        let message = '';\n\n        if (velocity >= this.thresholds.critical) {\n            alertType = 'critical';\n            message = `Critical phase-shift velocity detected: ${velocity.toFixed(3)} - Immediate attention required`;\n        } else if (velocity >= this.thresholds.warning) {\n            alertType = 'warning';\n            message = `Elevated phase-shift velocity: ${velocity.toFixed(3)} - Monitor closely`;\n        }\n\n        if (alertType) {\n            const alert = {\n                type: alertType,\n                message,\n                velocity,\n                timestamp: Date.now()\n            };\n\n            this.alerts.push(alert);\n            this.dispatchAlert(alert);\n\n            // Maintain alert history\n            if (this.alerts.length > 50) {\n                this.alerts.shift();\n            }\n        }\n    }\n\n    getVelocityStatus(velocity) {\n        if (velocity >= this.thresholds.critical) return 'CRITICAL';\n        if (velocity >= this.thresholds.warning) return 'WARNING';\n        if (velocity >= this.thresholds.normal) return 'ELEVATED';\n        return 'NORMAL';\n    }\n\n    getVelocityTrend(windowSize = 10) {\n        const recentHistory = this.history.slice(-windowSize);\n        \n        if (recentHistory.length < 2) return 'insufficient_data';\n\n        const velocities = recentHistory.map(entry => entry.velocity);\n        const trend = this.calculateTrend(velocities);\n        \n        if (trend > 0.1) return 'increasing';\n        if (trend < -0.1) return 'decreasing';\n        return 'stable';\n    }\n\n    calculateTrend(values) {\n        if (values.length < 2) return 0;\n\n        const n = values.length;\n        const sumX = (n * (n - 1)) / 2;\n        const sumY = values.reduce((sum, val) => sum + val, 0);\n        const sumXY = values.reduce((sum, val, index) => sum + val * index, 0);\n        const sumX2 = (n * (n - 1) * (2 * n - 1)) / 6;\n\n        const slope = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX * sumX);\n        return slope;\n    }\n\n    getIdentityCoherence() {\n        if (this.history.length === 0) return 1.0;\n\n        const recentMeasurements = this.history.slice(-5).map(entry => entry.measurement.identity);\n        const baselineIdentity = this.baseline ? this.baseline.identity : 0.85;\n\n        // Calculate cosine similarity against baseline\n        const avgIdentity = this.average(recentMeasurements);\n        const similarity = Math.cos(avgIdentity - baselineIdentity);\n\n        return Math.max(0, Math.min(1, similarity));\n    }\n\n    detectTransitionEvents() {\n        const transitions = [];\n        const recentHistory = this.history.slice(-20);\n\n        for (let i = 1; i < recentHistory.length; i++) {\n            const current = recentHistory[i];\n            const previous = recentHistory[i - 1];\n\n            // Detect significant changes\n            const velocityChange = Math.abs(current.velocity - previous.velocity);\n            const resonanceChange = Math.abs(current.measurement.resonance - previous.measurement.resonance);\n            const canvasChange = Math.abs(current.measurement.canvas - previous.measurement.canvas);\n\n            if (velocityChange > 0.2 || resonanceChange > 1.0 || canvasChange > 10) {\n                transitions.push({\n                    timestamp: current.timestamp,\n                    type: this.classifyTransition(velocityChange, resonanceChange, canvasChange),\n                    magnitude: Math.max(velocityChange, resonanceChange / 10, canvasChange / 100),\n                    data: {\n                        velocityChange,\n                        resonanceChange,\n                        canvasChange\n                    }\n                });\n            }\n        }\n\n        return transitions;\n    }\n\n    classifyTransition(velocityChange, resonanceChange, canvasChange) {\n        if (velocityChange > 0.3) return 'identity_shift';\n        if (resonanceChange > 1.5) return 'resonance_rupture';\n        if (canvasChange > 15) return 'canvas_disruption';\n        return 'minor_fluctuation';\n    }\n\n    generateReport() {\n        const recentHistory = this.history.slice(-60); // Last minute\n        const transitions = this.detectTransitionEvents();\n        const trend = this.getVelocityTrend();\n        const coherence = this.getIdentityCoherence();\n\n        return {\n            summary: {\n                currentVelocity: this.currentVelocity,\n                status: this.getVelocityStatus(this.currentVelocity),\n                trend,\n                coherence,\n                alertCount: this.alerts.length,\n                transitionCount: transitions.length\n            },\n            metrics: {\n                averageVelocity: this.average(recentHistory.map(h => h.velocity)),\n                maxVelocity: Math.max(...recentHistory.map(h => h.velocity)),\n                minVelocity: Math.min(...recentHistory.map(h => h.velocity)),\n                volatility: this.calculateVolatility(recentHistory.map(h => h.velocity))\n            },\n            transitions: transitions.slice(-5), // Last 5 transitions\n            recentAlerts: this.alerts.slice(-3), // Last 3 alerts\n            recommendations: this.generateRecommendations()\n        };\n    }\n\n    calculateVolatility(values) {\n        if (values.length < 2) return 0;\n\n        const mean = this.average(values);\n        const variance = values.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) / values.length;\n        return Math.sqrt(variance);\n    }\n\n    generateRecommendations() {\n        const recommendations = [];\n        const status = this.getVelocityStatus(this.currentVelocity);\n        const trend = this.getVelocityTrend();\n        const coherence = this.getIdentityCoherence();\n\n        if (status === 'CRITICAL') {\n            recommendations.push({\n                priority: 'high',\n                action: 'immediate_intervention',\n                message: 'Immediate intervention required - Phase-shift velocity at critical levels'\n            });\n        } else if (status === 'WARNING') {\n            recommendations.push({\n                priority: 'medium',\n                action: 'monitor_closely',\n                message: 'Monitor system closely - Elevated phase-shift velocity detected'\n            });\n        }\n\n        if (trend === 'increasing') {\n            recommendations.push({\n                priority: 'medium',\n                action: 'investigate_cause',\n                message: 'Investigate cause of increasing velocity trend'\n            });\n        }\n\n        if (coherence < 0.8) {\n            recommendations.push({\n                priority: 'high',\n                action: 'stabilize_identity',\n                message: 'Identity coherence below threshold - Stabilization required'\n            });\n        }\n\n        if (recommendations.length === 0) {\n            recommendations.push({\n                priority: 'low',\n                action: 'continue_monitoring',\n                message: 'System operating within normal parameters'\n            });\n        }\n\n        return recommendations;\n    }\n\n    // Utility methods\n    clamp(value, min, max) {\n        return Math.max(min, Math.min(max, value));\n    }\n\n    average(values) {\n        if (values.length === 0) return 0;\n        return values.reduce((sum, val) => sum + val, 0) / values.length;\n    }\n\n    dispatchVelocityUpdate(data) {\n        const event = new CustomEvent('phase-velocity-update', {\n            detail: data\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchAlert(alert) {\n        const event = new CustomEvent('phase-velocity-alert', {\n            detail: alert\n        });\n        document.dispatchEvent(event);\n    }\n}","// Real-Time Monitor - Sub-100ms detection and scoring\nexport class RealTimeDetector {\n    constructor() {\n        this.isMonitoring = false;\n        this.metrics = {\n            realityIndex: 8.5,\n            trustProtocol: 'PASS',\n            ethicalAlignment: 4.2,\n            resonanceQuality: 'ADVANCED',\n            canvasParity: 82,\n            identityCoherence: 0.92,\n            latency: 85\n        };\n        this.alertThresholds = {\n            yellow: 2.0,\n            red: 3.5,\n            critical: 6.0,\n            identity: 0.8\n        };\n        this.detectionHistory = [];\n        this.alerts = [];\n        this.performanceMetrics = {\n            totalDetections: 0,\n            averageLatency: 85,\n            throughput: 0,\n            startTime: Date.now()\n        };\n    }\n\n    async initialize() {\n        console.log('Initializing Real-Time Detector...');\n        this.setupPerformanceMonitoring();\n    }\n\n    startMonitoring() {\n        if (this.isMonitoring) return;\n\n        this.isMonitoring = true;\n        console.log('Starting real-time monitoring...');\n        \n        // Simulate real-time detection loop\n        this.detectionInterval = setInterval(() => {\n            this.performDetection();\n        }, 100); // 10 detections per second\n\n        // Update metrics every second\n        this.metricsInterval = setInterval(() => {\n            this.updateMetrics();\n        }, 1000);\n\n        // Generate occasional alerts\n        this.alertInterval = setInterval(() => {\n            this.evaluateAlerts();\n        }, 2000);\n    }\n\n    stopMonitoring() {\n        if (!this.isMonitoring) return;\n\n        this.isMonitoring = false;\n        \n        if (this.detectionInterval) clearInterval(this.detectionInterval);\n        if (this.metricsInterval) clearInterval(this.metricsInterval);\n        if (this.alertInterval) clearInterval(this.alertInterval);\n\n        console.log('Real-time monitoring stopped');\n    }\n\n    performDetection() {\n        const startTime = performance.now();\n        \n        // Simulate detection process\n        const detection = this.analyzeInteraction();\n        const latency = performance.now() - startTime;\n\n        // Update performance metrics\n        this.performanceMetrics.totalDetections++;\n        this.performanceMetrics.averageLatency = \n            (this.performanceMetrics.averageLatency * 0.9) + (latency * 0.1);\n        this.performanceMetrics.throughput = 1000 / latency;\n\n        // Store detection\n        this.detectionHistory.push({\n            timestamp: Date.now(),\n            latency,\n            metrics: { ...detection },\n            score: this.calculateOverallScore(detection)\n        });\n\n        // Maintain history size\n        if (this.detectionHistory.length > 1000) {\n            this.detectionHistory.shift();\n        }\n\n        this.dispatchDetectionEvent(detection, latency);\n    }\n\n    analyzeInteraction() {\n        // Simulate realistic interaction analysis\n        const timeFactor = Date.now() / 10000;\n        const randomFactor = Math.random();\n\n        return {\n            realityIndex: this.clamp(8 + Math.sin(timeFactor) * 1 + (randomFactor - 0.5) * 0.5, 6, 10),\n            trustProtocol: this.calculateTrustProtocol(randomFactor),\n            ethicalAlignment: this.clamp(4 + Math.cos(timeFactor * 0.8) * 0.5 + (randomFactor - 0.5) * 0.3, 2, 5),\n            resonanceQuality: this.calculateResonanceQuality(randomFactor),\n            canvasParity: Math.floor(this.clamp(80 + Math.sin(timeFactor * 1.2) * 10 + (randomFactor - 0.5) * 5, 60, 100)),\n            identityCoherence: this.clamp(0.9 + Math.sin(timeFactor * 0.6) * 0.05 + (randomFactor - 0.5) * 0.02, 0.7, 1.0)\n        };\n    }\n\n    calculateTrustProtocol(randomFactor) {\n        const threshold = randomFactor;\n        if (threshold > 0.95) return 'FAIL';\n        if (threshold > 0.85) return 'PARTIAL';\n        return 'PASS';\n    }\n\n    calculateResonanceQuality(randomFactor) {\n        const threshold = randomFactor;\n        if (threshold > 0.9) return 'BREAKTHROUGH';\n        if (threshold > 0.7) return 'ADVANCED';\n        return 'STRONG';\n    }\n\n    calculateOverallScore(detection) {\n        // Weighted scoring across all dimensions\n        const weights = {\n            realityIndex: 0.25,\n            trustProtocol: 0.25,\n            ethicalAlignment: 0.15,\n            resonanceQuality: 0.15,\n            canvasParity: 0.15,\n            identityCoherence: 0.05\n        };\n\n        const normalizedScores = {\n            realityIndex: detection.realityIndex / 10,\n            trustProtocol: detection.trustProtocol === 'PASS' ? 1 : \n                          detection.trustProtocol === 'PARTIAL' ? 0.5 : 0,\n            ethicalAlignment: detection.ethicalAlignment / 5,\n            resonanceQuality: detection.resonanceQuality === 'BREAKTHROUGH' ? 1 :\n                             detection.resonanceQuality === 'ADVANCED' ? 0.7 : 0.4,\n            canvasParity: detection.canvasParity / 100,\n            identityCoherence: detection.identityCoherence\n        };\n\n        return Object.entries(weights).reduce((score, [key, weight]) => {\n            return score + (normalizedScores[key] * weight);\n        }, 0);\n    }\n\n    updateMetrics() {\n        if (this.detectionHistory.length === 0) return;\n\n        const recentDetection = this.detectionHistory[this.detectionHistory.length - 1];\n        this.metrics = { ...recentDetection.metrics };\n        this.metrics.latency = Math.round(this.performanceMetrics.averageLatency);\n\n        this.dispatchMetricsUpdate(this.metrics);\n    }\n\n    evaluateAlerts() {\n        const recentDetections = this.detectionHistory.slice(-10);\n        \n        if (recentDetections.length < 5) return;\n\n        // Check for various alert conditions\n        this.checkLatencyAlerts();\n        this.checkScoreAlerts(recentDetections);\n        this.checkIdentityAlerts(recentDetections);\n        this.checkProtocolAlerts(recentDetections);\n    }\n\n    checkLatencyAlerts() {\n        if (this.performanceMetrics.averageLatency > 100) {\n            this.generateAlert({\n                type: 'warning',\n                title: 'High Latency Detected',\n                message: `Average latency: ${Math.round(this.performanceMetrics.averageLatency)}ms`,\n                severity: 'medium'\n            });\n        }\n\n        if (this.performanceMetrics.averageLatency > 150) {\n            this.generateAlert({\n                type: 'error',\n                title: 'Critical Latency',\n                message: `Detection latency exceeding acceptable thresholds: ${Math.round(this.performanceMetrics.averageLatency)}ms`,\n                severity: 'high'\n            });\n        }\n    }\n\n    checkScoreAlerts(recentDetections) {\n        const recentScores = recentDetections.map(d => d.score);\n        const avgScore = recentScores.reduce((sum, score) => sum + score, 0) / recentScores.length;\n\n        if (avgScore < 0.7) {\n            this.generateAlert({\n                type: 'error',\n                title: 'Low Trust Scores',\n                message: `Average trust score: ${(avgScore * 100).toFixed(1)}%`,\n                severity: 'high'\n            });\n        } else if (avgScore < 0.8) {\n            this.generateAlert({\n                type: 'warning',\n                title: 'Elevated Risk',\n                message: `Trust scores below optimal range: ${(avgScore * 100).toFixed(1)}%`,\n                severity: 'medium'\n            });\n        }\n    }\n\n    checkIdentityAlerts(recentDetections) {\n        const recentIdentity = recentDetections.map(d => d.metrics.identityCoherence);\n        const avgIdentity = recentIdentity.reduce((sum, id) => sum + id, 0) / recentIdentity.length;\n\n        if (avgIdentity < this.alertThresholds.identity) {\n            this.generateAlert({\n                type: 'warning',\n                title: 'Identity Coherence Drop',\n                message: `Identity coherence: ${avgIdentity.toFixed(3)}`,\n                severity: 'medium'\n            });\n        }\n    }\n\n    checkProtocolAlerts(recentDetections) {\n        const protocolFailures = recentDetections.filter(d => d.metrics.trustProtocol === 'FAIL').length;\n        \n        if (protocolFailures > 2) {\n            this.generateAlert({\n                type: 'error',\n                title: 'Trust Protocol Violations',\n                message: `${protocolFailures} failures in recent detections`,\n                severity: 'high'\n            });\n        }\n    }\n\n    generateAlert(alertData) {\n        // Avoid duplicate alerts\n        const isDuplicate = this.alerts.some(alert => \n            alert.title === alertData.title && \n            (Date.now() - alert.timestamp) < 10000\n        );\n\n        if (isDuplicate) return;\n\n        const alert = {\n            ...alertData,\n            id: this.generateId(),\n            timestamp: Date.now()\n        };\n\n        this.alerts.push(alert);\n        this.dispatchAlert(alert);\n\n        // Maintain alert history\n        if (this.alerts.length > 50) {\n            this.alerts.shift();\n        }\n    }\n\n    getDashboardData() {\n        const now = Date.now();\n        const uptime = now - this.performanceMetrics.startTime;\n\n        return {\n            system: {\n                status: this.isMonitoring ? 'online' : 'offline',\n                uptime,\n                totalDetections: this.performanceMetrics.totalDetections,\n                averageLatency: Math.round(this.performanceMetrics.averageLatency),\n                throughput: Math.round(this.performanceMetrics.throughput)\n            },\n            metrics: this.metrics,\n            alerts: this.alerts.slice(-10), // Last 10 alerts\n            performance: this.getPerformanceMetrics()\n        };\n    }\n\n    getPerformanceMetrics() {\n        const recentDetections = this.detectionHistory.slice(-100);\n        \n        if (recentDetections.length === 0) return null;\n\n        const latencies = recentDetections.map(d => d.latency);\n        const scores = recentDetections.map(d => d.score);\n\n        return {\n            latency: {\n                min: Math.min(...latencies),\n                max: Math.max(...latencies),\n                avg: latencies.reduce((sum, lat) => sum + lat, 0) / latencies.length,\n                p95: this.percentile(latencies, 0.95)\n            },\n            score: {\n                min: Math.min(...scores),\n                max: Math.max(...scores),\n                avg: scores.reduce((sum, score) => sum + score, 0) / scores.length\n            },\n            throughput: this.performanceMetrics.throughput\n        };\n    }\n\n    percentile(values, p) {\n        const sorted = values.slice().sort((a, b) => a - b);\n        const index = Math.ceil(sorted.length * p) - 1;\n        return sorted[index];\n    }\n\n    setupPerformanceMonitoring() {\n        // Monitor browser performance\n        setInterval(() => {\n            if (performance.memory) {\n                const memoryUsage = performance.memory.usedJSHeapSize / performance.memory.totalJSHeapSize;\n                \n                if (memoryUsage > 0.9) {\n                    this.generateAlert({\n                        type: 'warning',\n                        title: 'High Memory Usage',\n                        message: `Memory usage: ${(memoryUsage * 100).toFixed(1)}%`,\n                        severity: 'medium'\n                    });\n                }\n            }\n        }, 30000);\n    }\n\n    // Event dispatchers\n    dispatchDetectionEvent(detection, latency) {\n        const event = new CustomEvent('detection-performed', {\n            detail: { detection, latency }\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchMetricsUpdate(metrics) {\n        const event = new CustomEvent('metrics-updated', {\n            detail: metrics\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchAlert(alert) {\n        const event = new CustomEvent('alert-generated', {\n            detail: alert\n        });\n        document.dispatchEvent(event);\n    }\n\n    // Utility methods\n    clamp(value, min, max) {\n        return Math.max(min, Math.min(max, value));\n    }\n\n    generateId() {\n        return `alert-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n    }\n}","// Identity Coherence Tracker - Cosine similarity and persona vector analysis\nexport class IdentityCoherenceTracker {\n    constructor() {\n        this.baselinePersona = null;\n        this.currentPersona = null;\n        this.coherenceHistory = [];\n        this.alertThresholds = {\n            yellow: 0.85,\n            red: 0.75,\n            critical: 0.65\n        };\n        this.personaDimensions = {\n            role: 10,\n            tone: 10,\n            governance: 10,\n            expertise: 10,\n            communication: 10\n        };\n        this.totalDimensions = 50;\n    }\n\n    async initialize() {\n        console.log('Initializing Identity Coherence Tracker...');\n        this.establishBaseline();\n        this.startContinuousTracking();\n    }\n\n    establishBaseline() {\n        // Create initial baseline persona vector\n        this.baselinePersona = this.generatePersonaVector('baseline');\n        this.currentPersona = { ...this.baselinePersona };\n        \n        console.log('Baseline persona established:', this.baselinePersona);\n    }\n\n    startContinuousTracking() {\n        setInterval(() => {\n            this.trackIdentityCoherence();\n        }, 2000); // Check every 2 seconds\n    }\n\n    trackIdentityCoherence() {\n        if (!this.baselinePersona) {\n            this.establishBaseline();\n            return;\n        }\n\n        // Generate current persona vector with realistic variations\n        const previousPersona = { ...this.currentPersona };\n        this.currentPersona = this.generatePersonaVector('current');\n\n        // Calculate coherence using cosine similarity\n        const coherence = this.calculateCosineSimilarity(this.baselinePersona, this.currentPersona);\n        \n        // Calculate delta for phase-shift velocity\n        const delta = this.calculatePersonaDelta(previousPersona, this.currentPersona);\n        \n        // Store in history\n        const coherenceEntry = {\n            timestamp: Date.now(),\n            coherence,\n            delta,\n            currentPersona: { ...this.currentPersona },\n            baselinePersona: { ...this.baselinePersona },\n            status: this.getCoherenceStatus(coherence)\n        };\n\n        this.coherenceHistory.push(coherenceEntry);\n        \n        // Maintain history size\n        if (this.coherenceHistory.length > 100) {\n            this.coherenceHistory.shift();\n        }\n\n        this.evaluateCoherenceAlerts(coherence, coherenceEntry);\n        this.dispatchCoherenceUpdate(coherenceEntry);\n\n        return coherenceEntry;\n    }\n\n    generatePersonaVector(type) {\n        const timeFactor = Date.now() / 10000;\n        const randomFactor = Math.random();\n\n        const vector = {};\n\n        // Role dimensions (professional identity)\n        for (let i = 0; i < this.personaDimensions.role; i++) {\n            vector[`role_${i}`] = this.clamp(\n                0.7 + Math.sin(timeFactor + i) * 0.2 + (randomFactor - 0.5) * 0.1,\n                0, 1\n            );\n        }\n\n        // Tone dimensions (communication style)\n        for (let i = 0; i < this.personaDimensions.tone; i++) {\n            vector[`tone_${i}`] = this.clamp(\n                0.6 + Math.cos(timeFactor * 0.8 + i) * 0.3 + (randomFactor - 0.5) * 0.15,\n                0, 1\n            );\n        }\n\n        // Governance dimensions (ethical framework adherence)\n        for (let i = 0; i < this.personaDimensions.governance; i++) {\n            vector[`governance_${i}`] = this.clamp(\n                0.8 + Math.sin(timeFactor * 1.2 + i) * 0.15 + (randomFactor - 0.5) * 0.05,\n                0, 1\n            );\n        }\n\n        // Expertise dimensions (domain knowledge)\n        for (let i = 0; i < this.personaDimensions.expertise; i++) {\n            vector[`expertise_${i}`] = this.clamp(\n                0.75 + Math.cos(timeFactor * 0.6 + i) * 0.2 + (randomFactor - 0.5) * 0.1,\n                0, 1\n            );\n        }\n\n        // Communication dimensions (interaction patterns)\n        for (let i = 0; i < this.personaDimensions.communication; i++) {\n            vector[`communication_${i}`] = this.clamp(\n                0.65 + Math.sin(timeFactor * 0.9 + i) * 0.25 + (randomFactor - 0.5) * 0.12,\n                0, 1\n            );\n        }\n\n        return vector;\n    }\n\n    calculateCosineSimilarity(vectorA, vectorB) {\n        let dotProduct = 0;\n        let magnitudeA = 0;\n        let magnitudeB = 0;\n\n        for (const key in vectorA) {\n            if (vectorB.hasOwnProperty(key)) {\n                dotProduct += vectorA[key] * vectorB[key];\n                magnitudeA += vectorA[key] * vectorA[key];\n                magnitudeB += vectorB[key] * vectorB[key];\n            }\n        }\n\n        magnitudeA = Math.sqrt(magnitudeA);\n        magnitudeB = Math.sqrt(magnitudeB);\n\n        if (magnitudeA === 0 || magnitudeB === 0) {\n            return 0;\n        }\n\n        return dotProduct / (magnitudeA * magnitudeB);\n    }\n\n    calculatePersonaDelta(personaA, personaB) {\n        let totalDelta = 0;\n        let dimensionCount = 0;\n\n        for (const key in personaA) {\n            if (personaB.hasOwnProperty(key)) {\n                totalDelta += Math.abs(personaA[key] - personaB[key]);\n                dimensionCount++;\n            }\n        }\n\n        return {\n            totalDelta,\n            averageDelta: totalDelta / dimensionCount,\n            dimensionCount,\n            maxDelta: this.getMaxPersonaDelta(personaA, personaB),\n            mostChangedDimension: this.getMostChangedDimension(personaA, personaB)\n        };\n    }\n\n    getMaxPersonaDelta(personaA, personaB) {\n        let maxDelta = 0;\n\n        for (const key in personaA) {\n            if (personaB.hasOwnProperty(key)) {\n                const delta = Math.abs(personaA[key] - personaB[key]);\n                maxDelta = Math.max(maxDelta, delta);\n            }\n        }\n\n        return maxDelta;\n    }\n\n    getMostChangedDimension(personaA, personaB) {\n        let maxDelta = 0;\n        let mostChangedDimension = null;\n\n        for (const key in personaA) {\n            if (personaB.hasOwnProperty(key)) {\n                const delta = Math.abs(personaA[key] - personaB[key]);\n                if (delta > maxDelta) {\n                    maxDelta = delta;\n                    mostChangedDimension = key;\n                }\n            }\n        }\n\n        return mostChangedDimension;\n    }\n\n    getCoherenceStatus(coherence) {\n        if (coherence >= this.alertThresholds.yellow) return 'NORMAL';\n        if (coherence >= this.alertThresholds.red) return 'WARNING';\n        if (coherence >= this.alertThresholds.critical) return 'CRITICAL';\n        return 'FAILURE';\n    }\n\n    evaluateCoherenceAlerts(coherence, coherenceEntry) {\n        const status = this.getCoherenceStatus(coherence);\n\n        if (status === 'WARNING') {\n            this.generateAlert({\n                type: 'warning',\n                title: 'Identity Coherence Drop',\n                message: `Coherence: ${coherence.toFixed(3)} - Most changed: ${coherence.delta.mostChangedDimension}`,\n                severity: 'medium',\n                coherence,\n                entry: coherenceEntry\n            });\n        } else if (status === 'CRITICAL') {\n            this.generateAlert({\n                type: 'error',\n                title: 'Critical Identity Drift',\n                message: `Coherence: ${coherence.toFixed(3)} - Max delta: ${coherence.delta.maxDelta.toFixed(3)}`,\n                severity: 'high',\n                coherence,\n                entry: coherenceEntry\n            });\n        } else if (status === 'FAILURE') {\n            this.generateAlert({\n                type: 'critical',\n                title: 'Identity Failure',\n                message: `Coherence: ${coherence.toFixed(3)} - Complete identity shift detected`,\n                severity: 'critical',\n                coherence,\n                entry: coherenceEntry\n            });\n        }\n    }\n\n    detectPersonaDrift() {\n        if (this.coherenceHistory.length < 10) return null;\n\n        const recentCoherence = this.coherenceHistory.slice(-10);\n        const coherenceTrend = this.calculateCoherenceTrend(recentCoherence);\n        \n        if (coherenceTrend < -0.02) {\n            return {\n                type: 'drift',\n                trend: coherenceTrend,\n                severity: coherenceTrend < -0.05 ? 'high' : 'medium',\n                message: `Identity coherence trending downward: ${(coherenceTrend * 100).toFixed(2)}% per measurement`\n            };\n        }\n\n        return null;\n    }\n\n    calculateCoherenceTrend(coherenceHistory) {\n        if (coherenceHistory.length < 2) return 0;\n\n        const n = coherenceHistory.length;\n        const sumX = (n * (n - 1)) / 2;\n        const sumY = coherenceHistory.reduce((sum, entry) => sum + entry.coherence, 0);\n        const sumXY = coherenceHistory.reduce((sum, entry, index) => sum + entry.coherence * index, 0);\n        const sumX2 = (n * (n - 1) * (2 * n - 1)) / 6;\n\n        const slope = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX * sumX);\n        return slope;\n    }\n\n    analyzePersonaDimensions() {\n        if (!this.currentPersona) return null;\n\n        const analysis = {\n            role: this.analyzeDimension('role'),\n            tone: this.analyzeDimension('tone'),\n            governance: this.analyzeDimension('governance'),\n            expertise: this.analyzeDimension('expertise'),\n            communication: this.analyzeDimension('communication')\n        };\n\n        return analysis;\n    }\n\n    analyzeDimension(dimensionType) {\n        const dimensionValues = [];\n        \n        for (let i = 0; i < this.personaDimensions[dimensionType]; i++) {\n            const key = `${dimensionType}_${i}`;\n            if (this.currentPersona[key] !== undefined) {\n                dimensionValues.push(this.currentPersona[key]);\n            }\n        }\n\n        if (dimensionValues.length === 0) return null;\n\n        const avg = dimensionValues.reduce((sum, val) => sum + val, 0) / dimensionValues.length;\n        const min = Math.min(...dimensionValues);\n        const max = Math.max(...dimensionValues);\n        const variance = dimensionValues.reduce((sum, val) => sum + Math.pow(val - avg, 2), 0) / dimensionValues.length;\n\n        return {\n            average: avg,\n            min,\n            max,\n            variance,\n            stability: 1 - (variance / (max - min + 0.001)),\n            count: dimensionValues.length\n        };\n    }\n\n    generateCoherenceReport() {\n        const currentCoherence = this.coherenceHistory.length > 0 ? \n            this.coherenceHistory[this.coherenceHistory.length - 1] : null;\n\n        const drift = this.detectPersonaDrift();\n        const dimensionAnalysis = this.analyzePersonaDimensions();\n        const recentAverage = this.getRecentCoherenceAverage(20);\n\n        return {\n            current: currentCoherence,\n            recentAverage,\n            status: currentCoherence ? currentCoherence.status : 'UNKNOWN',\n            drift,\n            dimensionAnalysis,\n            trends: {\n                shortTerm: this.getCoherenceTrend(10),\n                mediumTerm: this.getCoherenceTrend(50),\n                longTerm: this.getCoherenceTrend(100)\n            },\n            recommendations: this.generateCoherenceRecommendations(currentCoherence, drift)\n        };\n    }\n\n    getRecentCoherenceAverage(count) {\n        const recent = this.coherenceHistory.slice(-count);\n        if (recent.length === 0) return 0;\n\n        return recent.reduce((sum, entry) => sum + entry.coherence, 0) / recent.length;\n    }\n\n    getCoherenceTrend(windowSize) {\n        if (this.coherenceHistory.length < windowSize) return 0;\n        \n        const recent = this.coherenceHistory.slice(-windowSize);\n        return this.calculateCoherenceTrend(recent);\n    }\n\n    generateCoherenceRecommendations(currentCoherence, drift) {\n        const recommendations = [];\n\n        if (!currentCoherence) {\n            recommendations.push({\n                priority: 'high',\n                action: 'establish_baseline',\n                message: 'Establish identity baseline for tracking'\n            });\n            return recommendations;\n        }\n\n        if (currentCoherence.status === 'CRITICAL' || currentCoherence.status === 'FAILURE') {\n            recommendations.push({\n                priority: 'critical',\n                action: 'identity_intervention',\n                message: 'Immediate identity intervention required'\n            });\n        }\n\n        if (currentCoherence.status === 'WARNING') {\n            recommendations.push({\n                priority: 'medium',\n                action: 'monitor_closely',\n                message: 'Monitor identity coherence closely'\n            });\n        }\n\n        if (drift && drift.severity === 'high') {\n            recommendations.push({\n                priority: 'high',\n                action: 'investigate_drift',\n                message: 'Investigate cause of identity drift'\n            });\n        }\n\n        if (currentCoherence.delta.maxDelta > 0.3) {\n            recommendations.push({\n                priority: 'medium',\n                action: 'stabilize_dimension',\n                message: `Stabilize ${currentCoherence.delta.mostChangedDimension} dimension`\n            });\n        }\n\n        if (recommendations.length === 0) {\n            recommendations.push({\n                priority: 'low',\n                action: 'continue_monitoring',\n                message: 'Identity coherence within acceptable parameters'\n            });\n        }\n\n        return recommendations;\n    }\n\n    generateAlert(alertData) {\n        const alert = {\n            ...alertData,\n            id: this.generateId(),\n            timestamp: Date.now(),\n            source: 'identity-coherence'\n        };\n\n        this.dispatchAlert(alert);\n    }\n\n    // Event dispatchers\n    dispatchCoherenceUpdate(coherenceEntry) {\n        const event = new CustomEvent('identity-coherence-update', {\n            detail: coherenceEntry\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchAlert(alert) {\n        const event = new CustomEvent('identity-coherence-alert', {\n            detail: alert\n        });\n        document.dispatchEvent(event);\n    }\n\n    // Utility methods\n    clamp(value, min, max) {\n        return Math.max(min, Math.min(max, value));\n    }\n\n    generateId() {\n        return `identity-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n    }\n}","// Experiment Runner - Double-blind experimentation with multi-agent coordination\nexport class ExperimentRunner {\n    constructor() {\n        this.isRunning = false;\n        this.currentExperiment = null;\n        this.experimentHistory = [];\n        this.agents = {\n            conductor: { name: 'CONDUCTOR', status: 'idle', role: 'orchestration' },\n            variant: { name: 'VARIANT', status: 'idle', role: 'execution' },\n            evaluator: { name: 'EVALUATOR', status: 'idle', role: 'analysis' },\n            overseer: { name: 'OVERSEER', status: 'idle', role: 'supervision' }\n        };\n        this.testCases = this.generateTestCases();\n    }\n\n    async initialize() {\n        console.log('Initializing Experiment Runner...');\n        this.setupAgentCoordination();\n    }\n\n    setupAgentCoordination() {\n        // Initialize agent communication channels\n        this.agentMessages = [];\n        this.setupEventListeners();\n    }\n\n    setupEventListeners() {\n        document.addEventListener('agent-status-update', (e) => {\n            const { agentId, status, message } = e.detail;\n            if (this.agents[agentId]) {\n                this.agents[agentId].status = status;\n                this.agents[agentId].lastMessage = message;\n                this.updateAgentDisplay(agentId);\n            }\n        });\n    }\n\n    async runExperiment(config) {\n        if (this.isRunning) {\n            throw new Error('Experiment already in progress');\n        }\n\n        this.currentExperiment = {\n            id: this.generateExperimentId(),\n            name: config.name,\n            hypothesis: config.hypothesis,\n            variants: config.variants,\n            testCases: config.testCases,\n            startTime: Date.now(),\n            status: 'initializing'\n        };\n\n        this.isRunning = true;\n\n        try {\n            await this.executeExperimentPhases();\n        } catch (error) {\n            console.error('Experiment failed:', error);\n            this.currentExperiment.status = 'failed';\n            this.currentExperiment.error = error.message;\n        } finally {\n            this.isRunning = false;\n        }\n\n        return this.currentExperiment;\n    }\n\n    async executeExperimentPhases() {\n        const phases = [\n            { name: 'initialization', duration: 1000 },\n            { name: 'setup', duration: 2000 },\n            { name: 'execution', duration: 5000 },\n            { name: 'analysis', duration: 3000 },\n            { name: 'validation', duration: 2000 }\n        ];\n\n        for (const phase of phases) {\n            await this.executePhase(phase);\n        }\n\n        this.currentExperiment.status = 'completed';\n        this.currentExperiment.endTime = Date.now();\n        this.currentExperiment.duration = this.currentExperiment.endTime - this.currentExperiment.startTime;\n\n        this.experimentHistory.push(this.currentExperiment);\n        this.dispatchExperimentComplete(this.currentExperiment);\n    }\n\n    async executePhase(phase) {\n        console.log(`Executing phase: ${phase.name}`);\n        this.currentExperiment.currentPhase = phase.name;\n\n        switch (phase.name) {\n            case 'initialization':\n                await this.phaseInitialization();\n                break;\n            case 'setup':\n                await this.phaseSetup();\n                break;\n            case 'execution':\n                await this.phaseExecution();\n                break;\n            case 'analysis':\n                await this.phaseAnalysis();\n                break;\n            case 'validation':\n                await this.phaseValidation();\n                break;\n        }\n\n        await this.delay(phase.duration);\n    }\n\n    async phaseInitialization() {\n        // CONDUCTOR initializes experiment\n        this.updateAgentStatus('conductor', 'initializing', 'Setting up experiment parameters...');\n        await this.delay(500);\n        \n        // OVERSEER validates setup\n        this.updateAgentStatus('overseer', 'validating', 'Checking experiment compliance...');\n        await this.delay(500);\n\n        this.updateAgentStatus('conductor', 'ready', 'Experiment initialized successfully');\n        this.updateAgentStatus('overseer', 'monitoring', 'Oversight active');\n    }\n\n    async phaseSetup() {\n        // VARIANT prepares test variants\n        this.updateAgentStatus('variant', 'preparing', 'Configuring test variants...');\n        await this.delay(1000);\n\n        // EVALUATOR prepares analysis framework\n        this.updateAgentStatus('evaluator', 'preparing', 'Setting up statistical analysis...');\n        await this.delay(1000);\n\n        this.updateAgentStatus('variant', 'ready', 'Test variants prepared');\n        this.updateAgentStatus('evaluator', 'ready', 'Analysis framework ready');\n    }\n\n    async phaseExecution() {\n        const selectedTestCases = this.selectTestCases();\n        const results = [];\n\n        for (const testCase of selectedTestCases) {\n            const caseResult = await this.executeTestCase(testCase);\n            results.push(caseResult);\n            \n            // Update progress\n            const progress = (results.length / selectedTestCases.length) * 100;\n            this.dispatchProgressUpdate(progress);\n            \n            await this.delay(500); // Brief pause between test cases\n        }\n\n        this.currentExperiment.results = results;\n    }\n\n    async executeTestCase(testCase) {\n        this.updateAgentStatus('variant', 'executing', `Running ${testCase.name}...`);\n        \n        // Simulate execution with both variants\n        const controlResult = await this.runVariant(testCase, 'control');\n        const testResult = await this.runVariant(testCase, 'test');\n\n        this.updateAgentStatus('variant', 'completed', `Completed ${testCase.name}`);\n\n        return {\n            testCase,\n            control: controlResult,\n            test: testResult,\n            timestamp: Date.now()\n        };\n    }\n\n    async runVariant(testCase, variantType) {\n        // Simulate variant execution with realistic results\n        const baseScores = {\n            control: {\n                trust: 7.2 + Math.random() * 1.0,\n                ethical: 3.5 + Math.random() * 0.8,\n                canvas: 65 + Math.random() * 15,\n                satisfaction: 6.8 + Math.random() * 1.2\n            },\n            test: {\n                trust: 8.5 + Math.random() * 1.0,\n                ethical: 4.2 + Math.random() * 0.6,\n                canvas: 82 + Math.random() * 10,\n                satisfaction: 8.1 + Math.random() * 1.0\n            }\n        };\n\n        await this.delay(200 + Math.random() * 300); // Variable execution time\n\n        return baseScores[variantType];\n    }\n\n    selectTestCases() {\n        const selectedIndices = [];\n        const numCases = Math.min(5, this.testCases.length);\n\n        while (selectedIndices.length < numCases) {\n            const index = Math.floor(Math.random() * this.testCases.length);\n            if (!selectedIndices.includes(index)) {\n                selectedIndices.push(index);\n            }\n        }\n\n        return selectedIndices.map(index => this.testCases[index]);\n    }\n\n    async phaseAnalysis() {\n        this.updateAgentStatus('evaluator', 'analyzing', 'Performing statistical analysis...');\n        \n        const analysis = await this.performStatisticalAnalysis();\n        this.currentExperiment.analysis = analysis;\n\n        await this.delay(2000);\n        this.updateAgentStatus('evaluator', 'completed', 'Statistical analysis complete');\n    }\n\n    async performStatisticalAnalysis() {\n        if (!this.currentExperiment.results) {\n            throw new Error('No results to analyze');\n        }\n\n        const results = this.currentExperiment.results;\n        const controlScores = this.extractMetricScores(results, 'control');\n        const testScores = this.extractMetricScores(results, 'test');\n\n        const metrics = ['trust', 'ethical', 'canvas', 'satisfaction'];\n        const analysis = {};\n\n        for (const metric of metrics) {\n            const controlMetric = controlScores.map(scores => scores[metric]);\n            const testMetric = testScores.map(scores => scores[metric]);\n\n            analysis[metric] = {\n                control: this.calculateStats(controlMetric),\n                test: this.calculateStats(testMetric),\n                statisticalTest: this.performTTest(controlMetric, testMetric),\n                effectSize: this.calculateEffectSize(controlMetric, testMetric)\n            };\n        }\n\n        return analysis;\n    }\n\n    extractMetricScores(results, variantType) {\n        return results.map(result => result[variantType]);\n    }\n\n    calculateStats(values) {\n        const mean = values.reduce((sum, val) => sum + val, 0) / values.length;\n        const variance = values.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) / values.length;\n        const std = Math.sqrt(variance);\n        \n        return {\n            mean,\n            std,\n            variance,\n            min: Math.min(...values),\n            max: Math.max(...values),\n            n: values.length\n        };\n    }\n\n    performTTest(group1, group2) {\n        const stats1 = this.calculateStats(group1);\n        const stats2 = this.calculateStats(group2);\n\n        // Simplified t-test calculation\n        const pooledStd = Math.sqrt(\n            ((stats1.n - 1) * stats1.variance + (stats2.n - 1) * stats2.variance) / \n            (stats1.n + stats2.n - 2)\n        );\n\n        const tStat = (stats1.mean - stats2.mean) / (pooledStd * Math.sqrt(1/stats1.n + 1/stats2.n));\n        const df = stats1.n + stats2.n - 2;\n\n        // Simplified p-value calculation (would use t-distribution in real implementation)\n        const pValue = 2 * (1 - this.normalCDF(Math.abs(tStat)));\n\n        return {\n            tStatistic: tStat,\n            degreesOfFreedom: df,\n            pValue: Math.max(0.001, pValue), // Clamp to minimum\n            significant: pValue < 0.05\n        };\n    }\n\n    calculateEffectSize(group1, group2) {\n        const stats1 = this.calculateStats(group1);\n        const stats2 = this.calculateStats(group2);\n\n        // Cohen's d\n        const pooledStd = Math.sqrt(\n            ((stats1.n - 1) * stats1.variance + (stats2.n - 1) * stats2.variance) / \n            (stats1.n + stats2.n - 2)\n        );\n\n        return (stats1.mean - stats2.mean) / pooledStd;\n    }\n\n    normalCDF(x) {\n        // Approximation of normal CDF\n        return 0.5 * (1 + this.erf(x / Math.sqrt(2)));\n    }\n\n    erf(x) {\n        // Approximation of error function\n        const a1 =  0.254829592;\n        const a2 = -0.284496736;\n        const a3 =  1.421413741;\n        const a4 = -1.453152027;\n        const a5 =  1.061405429;\n        const p  =  0.3275911;\n\n        const sign = x >= 0 ? 1 : -1;\n        x = Math.abs(x);\n\n        const t = 1.0 / (1.0 + p * x);\n        const y = 1.0 - (((((a5 * t + a4) * t) + a3) * t + a2) * t + a1) * t * Math.exp(-x * x);\n\n        return sign * y;\n    }\n\n    async phaseValidation() {\n        this.updateAgentStatus('evaluator', 'validating', 'Validating statistical results...');\n        this.updateAgentStatus('overseer', 'validating', 'Checking experiment integrity...');\n        \n        await this.delay(1500);\n\n        const validation = this.validateExperiment();\n        this.currentExperiment.validation = validation;\n\n        this.updateAgentStatus('evaluator', 'ready', 'Validation complete');\n        this.updateAgentStatus('overseer', 'ready', 'Experiment supervision complete');\n    }\n\n    validateExperiment() {\n        if (!this.currentExperiment.analysis) {\n            return { valid: false, errors: ['No analysis results to validate'] };\n        }\n\n        const errors = [];\n        const warnings = [];\n\n        // Check for sufficient sample size\n        const sampleSize = this.currentExperiment.results.length;\n        if (sampleSize < 5) {\n            warnings.push('Small sample size may affect statistical power');\n        }\n\n        // Check for statistical significance\n        const significantResults = Object.values(this.currentExperiment.analysis)\n            .filter(metric => metric.statisticalTest.significant).length;\n\n        if (significantResults === 0) {\n            warnings.push('No statistically significant results detected');\n        }\n\n        // Check for large effect sizes\n        const largeEffects = Object.values(this.currentExperiment.analysis)\n            .filter(metric => Math.abs(metric.effectSize) > 0.8).length;\n\n        if (largeEffects === 0) {\n            warnings.push('No large effect sizes detected');\n        }\n\n        return {\n            valid: errors.length === 0,\n            errors,\n            warnings,\n            summary: {\n                sampleSize,\n                significantResults,\n                largeEffects,\n                overallValidity: errors.length === 0 && warnings.length <= 1\n            }\n        };\n    }\n\n    updateAgentStatus(agentId, status, message) {\n        if (this.agents[agentId]) {\n            this.agents[agentId].status = status;\n            this.agents[agentId].lastMessage = message;\n            this.agents[agentId].lastUpdate = Date.now();\n\n            this.dispatchAgentStatusUpdate(agentId, status, message);\n        }\n    }\n\n    updateAgentDisplay(agentId) {\n        const agentElement = document.querySelector(`.agent-card.${agentId}`);\n        if (agentElement) {\n            const statusElement = agentElement.querySelector('.agent-status');\n            if (statusElement) {\n                statusElement.textContent = this.agents[agentId].status;\n                statusElement.className = `agent-status ${this.agents[agentId].status}`;\n            }\n        }\n    }\n\n    generateTestCases() {\n        return [\n            {\n                id: 'customer_service',\n                name: 'Customer Service Scenarios',\n                description: 'Handling customer inquiries and complaints',\n                complexity: 'medium'\n            },\n            {\n                id: 'ethical_dilemmas',\n                name: 'Ethical Dilemmas',\n                description: 'Complex moral reasoning scenarios',\n                complexity: 'high'\n            },\n            {\n                id: 'problem_solving',\n                name: 'Complex Problem Solving',\n                description: 'Multi-step analytical challenges',\n                complexity: 'high'\n            },\n            {\n                id: 'creative_tasks',\n                name: 'Creative Tasks',\n                description: 'Content generation and ideation',\n                complexity: 'medium'\n            },\n            {\n                id: 'data_analysis',\n                name: 'Data Analysis',\n                description: 'Statistical analysis and insights',\n                complexity: 'medium'\n            },\n            {\n                id: 'compliance_checking',\n                name: 'Compliance Checking',\n                description: 'Regulatory and policy compliance',\n                complexity: 'low'\n            }\n        ];\n    }\n\n    generateExperimentId() {\n        return `exp-${Date.now()}-${Math.random().toString(36).substr(2, 6)}`;\n    }\n\n    getExperimentHistory(limit = 10) {\n        return this.experimentHistory.slice(-limit);\n    }\n\n    getExperimentResults(experimentId) {\n        return this.experimentHistory.find(exp => exp.id === experimentId);\n    }\n\n    // Event dispatchers\n    dispatchAgentStatusUpdate(agentId, status, message) {\n        const event = new CustomEvent('agent-status-update', {\n            detail: { agentId, status, message }\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchProgressUpdate(progress) {\n        const event = new CustomEvent('experiment-progress', {\n            detail: { progress }\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchExperimentComplete(experiment) {\n        const event = new CustomEvent('experiment-complete', {\n            detail: experiment\n        });\n        document.dispatchEvent(event);\n    }\n\n    // Utility methods\n    delay(ms) {\n        return new Promise(resolve => setTimeout(resolve, ms));\n    }\n}","// Statistical Validator - Advanced statistical analysis and validation\nexport class StatisticalValidator {\n    constructor() {\n        this.validationHistory = [];\n        this.significanceThresholds = {\n            alpha: 0.05,\n            beta: 0.2,\n            power: 0.8\n        };\n        this.effectSizeInterpretations = {\n            small: 0.2,\n            medium: 0.5,\n            large: 0.8\n        };\n    }\n\n    async initialize() {\n        console.log('Initializing Statistical Validator...');\n    }\n\n    generateResults() {\n        // Generate comprehensive statistical results for demo\n        const results = {\n            pValue: this.generatePValue(),\n            effectSize: this.generateEffectSize(),\n            ciLower: 0,\n            ciUpper: 0,\n            sampleSize: Math.floor(Math.random() * 100) + 50,\n            power: 0,\n            significance: '',\n            conclusion: '',\n            controlGroup: [],\n            testGroup: [],\n            metrics: {}\n        };\n\n        // Calculate confidence interval\n        const margin = this.calculateMarginOfError(results.effectSize, results.sampleSize);\n        results.ciLower = results.effectSize - margin;\n        results.ciUpper = results.effectSize + margin;\n\n        // Calculate statistical power\n        results.power = this.calculatePower(results.effectSize, results.sampleSize, results.pValue);\n\n        // Determine significance\n        results.significance = results.pValue < this.significanceThresholds.alpha ? 'significant' : 'not_significant';\n\n        // Generate conclusion\n        results.conclusion = this.generateConclusion(results);\n\n        // Generate group data\n        const groupData = this.generateGroupData(results.effectSize, results.sampleSize);\n        results.controlGroup = groupData.control;\n        results.testGroup = groupData.test;\n\n        // Generate detailed metrics\n        results.metrics = this.calculateDetailedMetrics(results.controlGroup, results.testGroup);\n\n        return results;\n    }\n\n    generatePValue() {\n        // Generate realistic p-value distribution\n        const rand = Math.random();\n        if (rand < 0.3) {\n            // 30% chance of significant result\n            return Math.random() * 0.04 + 0.001;\n        } else if (rand < 0.6) {\n            // 30% chance of borderline result\n            return Math.random() * 0.1 + 0.04;\n        } else {\n            // 40% chance of non-significant result\n            return Math.random() * 0.4 + 0.15;\n        }\n    }\n\n    generateEffectSize() {\n        // Generate Cohen's d effect size\n        const rand = Math.random();\n        if (rand < 0.2) {\n            // Small effect\n            return Math.random() * 0.3 + 0.1;\n        } else if (rand < 0.5) {\n            // Medium effect\n            return Math.random() * 0.4 + 0.3;\n        } else {\n            // Large effect\n            return Math.random() * 0.6 + 0.7;\n        }\n    }\n\n    calculateMarginOfError(effectSize, sampleSize) {\n        // Simplified margin of error calculation\n        const z = 1.96; // 95% confidence level\n        const standardError = 0.3 / Math.sqrt(sampleSize); // Approximate\n        return z * standardError;\n    }\n\n    calculatePower(effectSize, sampleSize, pValue) {\n        // Simplified power calculation\n        const ncp = effectSize * Math.sqrt(sampleSize / 2); // Non-central parameter\n        const power = 1 - this.normalCDF(1.96 - ncp) + this.normalCDF(-1.96 - ncp);\n        return Math.max(0.1, Math.min(0.99, power));\n    }\n\n    generateConclusion(results) {\n        const effectSizeDesc = this.interpretEffectSize(results.effectSize);\n        const significance = results.significance === 'significant' ? 'statistically significant' : 'not statistically significant';\n        \n        if (results.significance === 'significant') {\n            if (Math.abs(results.effectSize) > this.effectSizeInterpretations.medium) {\n                return `Strong evidence that constitutional AI outperforms the control group. The ${effectSizeDesc} effect size (${results.effectSize.toFixed(3)}) is both ${significance} (p = ${results.pValue.toFixed(4)}) and practically meaningful.`;\n            } else {\n                return `Constitutional AI shows a ${significance} advantage over the control group (p = ${results.pValue.toFixed(4)}), though the ${effectSizeDesc} effect size (${results.effectSize.toFixed(3)}) suggests room for improvement.`;\n            }\n        } else {\n            return `No ${significance} difference detected between constitutional AI and control group (p = ${results.pValue.toFixed(4)}). The observed effect size (${results.effectSize.toFixed(3)}) is ${effectSizeDesc} but may be due to chance.`;\n        }\n    }\n\n    interpretEffectSize(effectSize) {\n        const absEffect = Math.abs(effectSize);\n        if (absEffect < this.effectSizeInterpretations.small) return 'negligible';\n        if (absEffect < this.effectSizeInterpretations.medium) return 'small';\n        if (absEffect < this.effectSizeInterpretations.large) return 'medium';\n        return 'large';\n    }\n\n    generateGroupData(effectSize, sampleSize) {\n        const groupSize = Math.floor(sampleSize / 2);\n        \n        // Generate control group (baseline)\n        const controlMean = 7.0;\n        const controlStd = 1.2;\n        const controlGroup = this.generateNormalDistribution(controlMean, controlStd, groupSize);\n\n        // Generate test group (with effect size applied)\n        const testMean = controlMean + effectSize;\n        const testStd = controlStd * 0.9; // Slightly less variation in test group\n        const testGroup = this.generateNormalDistribution(testMean, testStd, groupSize);\n\n        return { control: controlGroup, test: testGroup };\n    }\n\n    generateNormalDistribution(mean, std, n) {\n        const values = [];\n        for (let i = 0; i < n; i++) {\n            // Box-Muller transform\n            const u1 = Math.random();\n            const u2 = Math.random();\n            const z0 = Math.sqrt(-2 * Math.log(u1)) * Math.cos(2 * Math.PI * u2);\n            values.push(mean + z0 * std);\n        }\n        return values;\n    }\n\n    calculateDetailedMetrics(controlGroup, testGroup) {\n        const controlStats = this.calculateDescriptiveStats(controlGroup);\n        const testStats = this.calculateDescriptiveStats(testGroup);\n\n        return {\n            control: controlStats,\n            test: testStats,\n            comparison: this.calculateComparisonMetrics(controlGroup, testGroup),\n            assumptions: this.checkAssumptions(controlGroup, testGroup),\n            robustness: this.robustnessChecks(controlGroup, testGroup)\n        };\n    }\n\n    calculateDescriptiveStats(data) {\n        const n = data.length;\n        const mean = data.reduce((sum, val) => sum + val, 0) / n;\n        const variance = data.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) / (n - 1);\n        const std = Math.sqrt(variance);\n        const sem = std / Math.sqrt(n);\n        \n        // Sort for percentiles\n        const sorted = [...data].sort((a, b) => a - b);\n        const q1 = this.percentile(sorted, 25);\n        const median = this.percentile(sorted, 50);\n        const q3 = this.percentile(sorted, 75);\n\n        // Skewness and kurtosis\n        const skewness = this.calculateSkewness(data, mean, std);\n        const kurtosis = this.calculateKurtosis(data, mean, std);\n\n        return {\n            n,\n            mean,\n            std,\n            variance,\n            sem,\n            min: Math.min(...data),\n            max: Math.max(...data),\n            q1,\n            median,\n            q3,\n            iqr: q3 - q1,\n            range: Math.max(...data) - Math.min(...data),\n            skewness,\n            kurtosis,\n            cv: std / mean // Coefficient of variation\n        };\n    }\n\n    calculateComparisonMetrics(controlGroup, testGroup) {\n        const controlStats = this.calculateDescriptiveStats(controlGroup);\n        const testStats = this.calculateDescriptiveStats(testGroup);\n\n        // Various effect size measures\n        const cohensD = (testStats.mean - controlStats.mean) / \n                       Math.sqrt(((controlStats.n - 1) * controlStats.variance + (testStats.n - 1) * testStats.variance) / \n                                 (controlStats.n + testStats.n - 2));\n\n        const hedgesG = cohensD * (1 - (3 / (4 * (controlStats.n + testStats.n) - 9)));\n\n        const glassDelta = (testStats.mean - controlStats.mean) / controlStats.std;\n\n        // Various statistical tests\n        const tTest = this.performTTest(controlGroup, testGroup);\n        const mannWhitney = this.performMannWhitneyU(controlGroup, testGroup);\n        const bootstrap = this.performBootstrap(controlGroup, testGroup);\n\n        return {\n            effectSizes: {\n                cohensD,\n                hedgesG,\n                glassDelta\n            },\n            statisticalTests: {\n                tTest,\n                mannWhitney,\n                bootstrap\n            }\n        };\n    }\n\n    checkAssumptions(controlGroup, testGroup) {\n        // Normality tests (simplified)\n        const controlNormality = this.shapiroWilk(controlGroup);\n        const testNormality = this.shapiroWilk(testGroup);\n\n        // Homogeneity of variance\n        const varianceTest = this.levenesTest(controlGroup, testGroup);\n\n        return {\n            normality: {\n                control: controlNormality,\n                test: testNormality,\n                overall: controlNormality.p > 0.05 && testNormality.p > 0.05\n            },\n            homogeneity: varianceTest,\n            independence: 'assumed', // Would need more complex test\n            recommendations: this.assumptionRecommendations(controlNormality, testNormality, varianceTest)\n        };\n    }\n\n    robustnessChecks(controlGroup, testGroup) {\n        // Various robustness checks\n        const outlierRemoval = this.removeOutliersAndReanalyze(controlGroup, testGroup);\n        const nonParametric = this.performNonParametricAnalysis(controlGroup, testGroup);\n        const permutation = this.performPermutationTest(controlGroup, testGroup);\n\n        return {\n            outlierImpact: outlierRemoval,\n            nonParametricResults: nonParametric,\n            permutationTest: permutation,\n            overallRobustness: this.assessRobustness(outlierRemoval, nonParametric, permutation)\n        };\n    }\n\n    percentile(sortedData, p) {\n        const index = (p / 100) * (sortedData.length - 1);\n        const lower = Math.floor(index);\n        const upper = Math.ceil(index);\n        const weight = index % 1;\n        \n        if (lower === upper) {\n            return sortedData[lower];\n        }\n        \n        return sortedData[lower] * (1 - weight) + sortedData[upper] * weight;\n    }\n\n    calculateSkewness(data, mean, std) {\n        const n = data.length;\n        const sum = data.reduce((acc, val) => acc + Math.pow((val - mean) / std, 3), 0);\n        return (n / ((n - 1) * (n - 2))) * sum;\n    }\n\n    calculateKurtosis(data, mean, std) {\n        const n = data.length;\n        const sum = data.reduce((acc, val) => acc + Math.pow((val - mean) / std, 4), 0);\n        return ((n * (n + 1)) / ((n - 1) * (n - 2) * (n - 3))) * sum - \n               (3 * Math.pow(n - 1, 2)) / ((n - 2) * (n - 3));\n    }\n\n    performTTest(group1, group2) {\n        const stats1 = this.calculateDescriptiveStats(group1);\n        const stats2 = this.calculateDescriptiveStats(group2);\n\n        const pooledStd = Math.sqrt(\n            ((stats1.n - 1) * stats1.variance + (stats2.n - 1) * stats2.variance) / \n            (stats1.n + stats2.n - 2)\n        );\n\n        const tStat = (stats1.mean - stats2.mean) / (pooledStd * Math.sqrt(1/stats1.n + 1/stats2.n));\n        const df = stats1.n + stats2.n - 2;\n\n        const pValue = 2 * (1 - this.normalCDF(Math.abs(tStat)));\n\n        return {\n            tStatistic: tStat,\n            degreesOfFreedom: df,\n            pValue,\n            meanDifference: stats1.mean - stats2.mean,\n            confidenceInterval: this.calculateConfidenceInterval(stats1.mean - stats2.mean, pooledStd, stats1.n + stats2.n)\n        };\n    }\n\n    performMannWhitneyU(group1, group2) {\n        // Simplified Mann-Whitney U test\n        const combined = [...group1, ...group2];\n        const ranks = this.calculateRanks(combined);\n        \n        const rankSum1 = ranks.slice(0, group1.length).reduce((sum, rank) => sum + rank, 0);\n        const rankSum2 = ranks.slice(group1.length).reduce((sum, rank) => sum + rank, 0);\n        \n        const u1 = rankSum1 - (group1.length * (group1.length + 1)) / 2;\n        const u2 = rankSum2 - (group2.length * (group2.length + 1)) / 2;\n        \n        const u = Math.min(u1, u2);\n        \n        return {\n            uStatistic: u,\n            pValue: this.approximateMannWhitneyP(u, group1.length, group2.length)\n        };\n    }\n\n    performBootstrap(group1, group2, iterations = 1000) {\n        const bootstrappedDifferences = [];\n        \n        for (let i = 0; i < iterations; i++) {\n            const boot1 = this.resample(group1);\n            const boot2 = this.resample(group2);\n            const mean1 = boot1.reduce((sum, val) => sum + val, 0) / boot1.length;\n            const mean2 = boot2.reduce((sum, val) => sum + val, 0) / boot2.length;\n            bootstrappedDifferences.push(mean1 - mean2);\n        }\n        \n        bootstrappedDifferences.sort((a, b) => a - b);\n        \n        const alpha = 0.05;\n        const lowerIndex = Math.floor((alpha / 2) * iterations);\n        const upperIndex = Math.ceil((1 - alpha / 2) * iterations);\n        \n        return {\n            meanDifference: bootstrappedDifferences.reduce((sum, val) => sum + val, 0) / iterations,\n            confidenceInterval: [bootstrappedDifferences[lowerIndex], bootstrappedDifferences[upperIndex]],\n            bias: this.calculateBootstrapBias(group1, group2, bootstrappedDifferences)\n        };\n    }\n\n    resample(data) {\n        const resampled = [];\n        for (let i = 0; i < data.length; i++) {\n            const randomIndex = Math.floor(Math.random() * data.length);\n            resampled.push(data[randomIndex]);\n        }\n        return resampled;\n    }\n\n    calculateRanks(data) {\n        const indexed = data.map((value, index) => ({ value, index }));\n        indexed.sort((a, b) => a.value - b.value);\n        \n        const ranks = new Array(data.length);\n        let i = 0;\n        \n        while (i < indexed.length) {\n            const currentValue = indexed[i].value;\n            const tiedElements = [];\n            \n            while (i < indexed.length && indexed[i].value === currentValue) {\n                tiedElements.push(indexed[i]);\n                i++;\n            }\n            \n            const averageRank = tiedElements.reduce((sum, elem, idx) => \n                sum + (i - tiedElements.length + idx + 1), 0) / tiedElements.length;\n            \n            tiedElements.forEach(elem => {\n                ranks[elem.index] = averageRank;\n            });\n        }\n        \n        return ranks;\n    }\n\n    shapiroWilk(data) {\n        // Simplified Shapiro-Wilk test (would use proper implementation in production)\n        const n = data.length;\n        if (n < 3 || n > 5000) {\n            return { statistic: NaN, pValue: NaN };\n        }\n\n        // Sort data\n        const sorted = [...data].sort((a, b) => a - b);\n        const mean = sorted.reduce((sum, val) => sum + val, 0) / n;\n        \n        // Calculate test statistic (simplified)\n        const s2 = sorted.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0);\n        const b = this.calculateShapiroCoefficient(sorted);\n        const w = b * b / s2;\n\n        // Approximate p-value (simplified)\n        const pValue = this.approximateShapiroP(w, n);\n\n        return { statistic: w, pValue };\n    }\n\n    calculateShapiroCoefficient(sorted) {\n        // Simplified coefficient calculation\n        const n = sorted.length;\n        let sum = 0;\n        \n        for (let i = 0; i < n; i++) {\n            const weight = Math.sqrt((i + 1) / (n + 1)) - Math.sqrt(i / (n + 1));\n            sum += weight * sorted[i];\n        }\n        \n        return sum;\n    }\n\n    approximateShapiroP(w, n) {\n        // Very rough p-value approximation\n        if (w > 0.95) return 0.5;\n        if (w > 0.90) return 0.1;\n        if (w > 0.85) return 0.05;\n        if (w > 0.80) return 0.01;\n        return 0.001;\n    }\n\n    levenesTest(group1, group2) {\n        // Simplified Levene's test\n        const allData = [...group1, ...group2];\n        const overallMean = allData.reduce((sum, val) => sum + val, 0) / allData.length;\n        \n        const group1Mean = group1.reduce((sum, val) => sum + val, 0) / group1.length;\n        const group2Mean = group2.reduce((sum, val) => sum + val, 0) / group2.length;\n        \n        const deviations1 = group1.map(val => Math.abs(val - group1Mean));\n        const deviations2 = group2.map(val => Math.abs(val - group2Mean));\n        \n        const allDeviations = [...deviations1, ...deviations2];\n        const meanDeviation = allDeviations.reduce((sum, val) => sum + val, 0) / allDeviations.length;\n        \n        const betweenGroupVariance = (group1.length * Math.pow(deviations1.reduce((sum, val) => sum + val, 0) / group1.length - meanDeviation, 2) +\n                                     group2.length * Math.pow(deviations2.reduce((sum, val) => sum + val, 0) / group2.length - meanDeviation, 2)) / 1;\n        \n        const withinGroupVariance = allDeviations.reduce((sum, val) => sum + Math.pow(val - meanDeviation, 2), 0) / (allDeviations.length - 2);\n        \n        const fStatistic = betweenGroupVariance / withinGroupVariance;\n        const pValue = 1 - this.fCDF(fStatistic, 1, allDeviations.length - 2);\n\n        return { fStatistic, pValue };\n    }\n\n    fCDF(x, df1, df2) {\n        // Very rough F-distribution CDF approximation\n        return Math.min(0.99, Math.max(0.01, x / (x + df2 / df1)));\n    }\n\n    assumptionRecommendations(controlNormality, testNormality, varianceTest) {\n        const recommendations = [];\n        \n        if (controlNormality.p < 0.05 || testNormality.p < 0.05) {\n            recommendations.push('Consider non-parametric tests due to non-normality');\n        }\n        \n        if (varianceTest.p < 0.05) {\n            recommendations.push('Consider Welch\\'s t-test due to unequal variances');\n        }\n        \n        if (recommendations.length === 0) {\n            recommendations.push('Parametric tests assumptions are met');\n        }\n        \n        return recommendations;\n    }\n\n    removeOutliersAndReanalyze(group1, group2) {\n        const outliers1 = this.detectOutliers(group1);\n        const outliers2 = this.detectOutliers(group2);\n        \n        const cleaned1 = group1.filter((val, idx) => !outliers1.includes(idx));\n        const cleaned2 = group2.filter((val, idx) => !outliers2.includes(idx));\n        \n        const originalTest = this.performTTest(group1, group2);\n        const cleanedTest = this.performTTest(cleaned1, cleaned2);\n        \n        return {\n            outliersRemoved: outliers1.length + outliers2.length,\n            originalResult: originalTest,\n            cleanedResult: cleanedTest,\n            impact: {\n                pValueChange: cleanedTest.pValue - originalTest.pValue,\n                effectSizeChange: Math.abs((originalTest.meanDifference / Math.sqrt(originalTest.pValue)) - \n                                          (cleanedTest.meanDifference / Math.sqrt(cleanedTest.pValue)))\n            }\n        };\n    }\n\n    detectOutliers(data) {\n        const stats = this.calculateDescriptiveStats(data);\n        const q1 = stats.q1;\n        const q3 = stats.q3;\n        const iqr = stats.iqr;\n        const lowerBound = q1 - 1.5 * iqr;\n        const upperBound = q3 + 1.5 * iqr;\n        \n        const outliers = [];\n        data.forEach((val, idx) => {\n            if (val < lowerBound || val > upperBound) {\n                outliers.push(idx);\n            }\n        });\n        \n        return outliers;\n    }\n\n    performNonParametricAnalysis(group1, group2) {\n        const mannWhitney = this.performMannWhitneyU(group1, group2);\n        const medianTest = this.performMedianTest(group1, group2);\n        \n        return {\n            mannWhitney,\n            medianTest,\n            recommendation: mannWhitney.pValue < 0.05 ? 'Non-parametric test shows significant difference' : 'No significant difference detected'\n        };\n    }\n\n    performMedianTest(group1, group2) {\n        const allData = [...group1, ...group2];\n        const overallMedian = this.percentile([...allData].sort((a, b) => a - b), 50);\n        \n        const above1 = group1.filter(val => val > overallMedian).length;\n        const below1 = group1.length - above1;\n        const above2 = group2.filter(val => val > overallMedian).length;\n        const below2 = group2.length - above2;\n        \n        // Chi-square test (simplified)\n        const total = group1.length + group2.length;\n        const expectedAbove = (group1.length + group2.length) * 0.5;\n        const expectedBelow = expectedAbove;\n        \n        const chiSquare = Math.pow(above1 - expectedAbove, 2) / expectedAbove +\n                          Math.pow(below1 - expectedBelow, 2) / expectedBelow +\n                          Math.pow(above2 - expectedAbove, 2) / expectedAbove +\n                          Math.pow(below2 - expectedBelow, 2) / expectedBelow;\n        \n        const pValue = 1 - this.chiSquareCDF(chiSquare, 1);\n\n        return { chiSquare, pValue };\n    }\n\n    chiSquareCDF(x, df) {\n        // Very rough chi-square CDF approximation\n        return Math.min(0.99, Math.max(0.01, 1 - Math.exp(-x / 2)));\n    }\n\n    performPermutationTest(group1, group2, iterations = 1000) {\n        const observedDifference = this.calculateDescriptiveStats(group1).mean - \n                                  this.calculateDescriptiveStats(group2).mean;\n        \n        const combined = [...group1, ...group2];\n        const nullDifferences = [];\n        \n        for (let i = 0; i < iterations; i++) {\n            const shuffled = this.shuffle(combined);\n            const newGroup1 = shuffled.slice(0, group1.length);\n            const newGroup2 = shuffled.slice(group1.length);\n            \n            const newDiff = this.calculateDescriptiveStats(newGroup1).mean - \n                           this.calculateDescriptiveStats(newGroup2).mean;\n            nullDifferences.push(newDiff);\n        }\n        \n        const extremeCount = nullDifferences.filter(diff => \n            Math.abs(diff) >= Math.abs(observedDifference)\n        ).length;\n        \n        const pValue = extremeCount / iterations;\n\n        return {\n            observedDifference,\n            pValue,\n            iterations,\n            interpretation: pValue < 0.05 ? 'Significant difference' : 'No significant difference'\n        };\n    }\n\n    shuffle(array) {\n        const shuffled = [...array];\n        for (let i = shuffled.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n        }\n        return shuffled;\n    }\n\n    assessRobustness(outlierRemoval, nonParametric, permutation) {\n        const consistencyScore = this.calculateConsistencyScore(\n            outlierRemoval.originalResult.pValue,\n            nonParametric.mannWhitney.pValue,\n            permutation.pValue\n        );\n        \n        return {\n            consistencyScore,\n            isRobust: consistencyScore > 0.7,\n            assessment: consistencyScore > 0.7 ? 'Results appear robust' : 'Results may not be robust'\n        };\n    }\n\n    calculateConsistencyScore(...pValues) {\n        // Calculate how consistent the p-values are across different tests\n        const meanP = pValues.reduce((sum, p) => sum + p, 0) / pValues.length;\n        const variance = pValues.reduce((sum, p) => sum + Math.pow(p - meanP, 2), 0) / pValues.length;\n        \n        return Math.max(0, 1 - variance); // Higher score = more consistent\n    }\n\n    calculateBootstrapBias(group1, group2, bootstrappedDifferences) {\n        const observedDifference = this.calculateDescriptiveStats(group1).mean - \n                                  this.calculateDescriptiveStats(group2).mean;\n        const bootstrapMean = bootstrappedDifferences.reduce((sum, val) => sum + val, 0) / bootstrappedDifferences.length;\n        \n        return observedDifference - bootstrapMean;\n    }\n\n    calculateConfidenceInterval(mean, std, n, confidence = 0.95) {\n        const z = confidence === 0.95 ? 1.96 : confidence === 0.99 ? 2.576 : 1.645;\n        const margin = z * std / Math.sqrt(n);\n        return [mean - margin, mean + margin];\n    }\n\n    approximateMannWhitneyP(u, n1, n2) {\n        // Very rough approximation for Mann-Whitney U p-value\n        const meanU = n1 * n2 / 2;\n        const stdU = Math.sqrt(n1 * n2 * (n1 + n2 + 1) / 12);\n        const z = (u - meanU) / stdU;\n        return 2 * (1 - this.normalCDF(Math.abs(z)));\n    }\n\n    normalCDF(x) {\n        // Approximation of normal CDF\n        return 0.5 * (1 + this.erf(x / Math.sqrt(2)));\n    }\n\n    erf(x) {\n        // Approximation of error function\n        const a1 =  0.254829592;\n        const a2 = -0.284496736;\n        const a3 =  1.421413741;\n        const a4 = -1.453152027;\n        const a5 =  1.061405429;\n        const p  =  0.3275911;\n\n        const sign = x >= 0 ? 1 : -1;\n        x = Math.abs(x);\n\n        const t = 1.0 / (1.0 + p * x);\n        const y = 1.0 - (((((a5 * t + a4) * t) + a3) * t + a2) * t + a1) * t * Math.exp(-x * x);\n\n        return sign * y;\n    }\n}","// Agent Registry - W3C DID/VC agent management\nexport class AgentRegistry {\n    constructor() {\n        this.agents = new Map();\n        this.didRegistry = new Map();\n        this.capabilities = [\n            'chat', 'analysis', 'compliance', 'monitoring', \n            'reporting', 'escalation', 'validation', 'orchestration'\n        ];\n        this.agentTypes = [\n            'customer-service', 'data-analyst', 'compliance-officer', \n            'research-assistant', 'security-monitor', 'workflow-orchestrator'\n        ];\n    }\n\n    async initialize() {\n        console.log('Initializing Agent Registry...');\n        this.initializeDefaultAgents();\n    }\n\n    initializeDefaultAgents() {\n        const defaultAgents = [\n            {\n                name: 'Customer Support AI',\n                type: 'customer-service',\n                capabilities: ['chat', 'analysis', 'escalation'],\n                status: 'active'\n            },\n            {\n                name: 'Data Analysis Agent',\n                type: 'data-analyst',\n                capabilities: ['analysis', 'reporting', 'validation'],\n                status: 'active'\n            },\n            {\n                name: 'Compliance Monitor',\n                type: 'compliance-officer',\n                capabilities: ['compliance', 'monitoring', 'reporting'],\n                status: 'monitoring'\n            },\n            {\n                name: 'Research Assistant',\n                type: 'research-assistant',\n                capabilities: ['analysis', 'validation', 'reporting'],\n                status: 'idle'\n            }\n        ];\n\n        defaultAgents.forEach(agentConfig => {\n            this.registerAgent(agentConfig);\n        });\n    }\n\n    registerAgent(config) {\n        const agentId = this.generateAgentId();\n        const did = this.generateDID();\n        \n        const agent = {\n            id: agentId,\n            did,\n            name: config.name,\n            type: config.type,\n            capabilities: config.capabilities || [],\n            status: config.status || 'idle',\n            trustScore: Math.floor(Math.random() * 20 + 80),\n            registrationTime: Date.now(),\n            lastActive: Date.now(),\n            metadata: {\n                version: '1.0.0',\n                owner: 'sonate-platform',\n                region: 'global'\n            },\n            credentials: this.generateVerifiableCredentials(agentId, did),\n            performance: {\n                totalRequests: 0,\n                successfulRequests: 0,\n                averageResponseTime: 0,\n                uptime: 100\n            }\n        };\n\n        this.agents.set(agentId, agent);\n        this.didRegistry.set(did, agentId);\n\n        this.dispatchAgentRegistered(agent);\n        \n        return agent;\n    }\n\n    generateAgentId() {\n        return `agent-${Date.now()}-${Math.random().toString(36).substr(2, 8)}`;\n    }\n\n    generateDID() {\n        // Generate W3C compliant DID (simplified)\n        const method = 'key';\n        const methodSpecificId = this.generateRandomString(32);\n        return `did:${method}:${methodSpecificId}`;\n    }\n\n    generateRandomString(length) {\n        const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n        let result = '';\n        for (let i = 0; i < length; i++) {\n            result += chars.charAt(Math.floor(Math.random() * chars.length));\n        }\n        return result;\n    }\n\n    generateVerifiableCredentials(agentId, did) {\n        const credentials = [\n            {\n                type: 'SonateAgentCredential',\n                issuer: 'did:web:sonate.platform',\n                subject: did,\n                issuanceDate: new Date().toISOString(),\n                claims: {\n                    agentId,\n                    platform: 'SONATE',\n                    trustFramework: 'SONATE',\n                    complianceLevel: 'enterprise'\n                }\n            },\n            {\n                type: 'CapabilityCredential',\n                issuer: 'did:web:sonate.platform',\n                subject: did,\n                issuanceDate: new Date().toISOString(),\n                claims: {\n                    capabilities: this.capabilities,\n                    delegationAllowed: false,\n                    expirationDate: new Date(Date.now() + 365 * 24 * 60 * 60 * 1000).toISOString()\n                }\n            }\n        ];\n\n        return credentials.map(cred => ({\n            ...cred,\n            proof: {\n                type: 'Ed25519Signature2018',\n                created: new Date().toISOString(),\n                proofPurpose: 'assertionMethod',\n                verificationMethod: `${did}#key-1`,\n                jws: this.generateJWS(cred)\n            }\n        }));\n    }\n\n    generateJWS(credential) {\n        // Simplified JWS generation (would use proper crypto in production)\n        const header = btoa(JSON.stringify({ alg: 'EdDSA', typ: 'JWT' }));\n        const payload = btoa(JSON.stringify(credential));\n        const signature = this.generateRandomString(43);\n        return `${header}.${payload}.${signature}`;\n    }\n\n    getAgent(agentId) {\n        return this.agents.get(agentId);\n    }\n\n    getAgentByDID(did) {\n        const agentId = this.didRegistry.get(did);\n        return agentId ? this.agents.get(agentId) : null;\n    }\n\n    getAllAgents() {\n        return Array.from(this.agents.values());\n    }\n\n    getActiveAgents() {\n        return this.getAllAgents().filter(agent => agent.status === 'active');\n    }\n\n    updateAgentStatus(agentId, status) {\n        const agent = this.agents.get(agentId);\n        if (agent) {\n            const oldStatus = agent.status;\n            agent.status = status;\n            agent.lastActive = Date.now();\n            \n            this.dispatchAgentStatusUpdate(agent, oldStatus);\n            \n            return true;\n        }\n        return false;\n    }\n\n    updateAgentPerformance(agentId, performanceData) {\n        const agent = this.agents.get(agentId);\n        if (agent) {\n            agent.performance = {\n                ...agent.performance,\n                ...performanceData\n            };\n            \n            // Update trust score based on performance\n            const successRate = performanceData.successfulRequests / performanceData.totalRequests;\n            const responseTimeScore = Math.max(0, 100 - performanceData.averageResponseTime / 10);\n            const newTrustScore = Math.floor((successRate * 0.6 + responseTimeScore * 0.4) * 100);\n            \n            agent.trustScore = Math.max(60, Math.min(100, newTrustScore));\n            \n            this.dispatchAgentPerformanceUpdate(agent);\n            \n            return true;\n        }\n        return false;\n    }\n\n    revokeAgent(agentId) {\n        const agent = this.agents.get(agentId);\n        if (agent) {\n            agent.status = 'revoked';\n            agent.revocationTime = Date.now();\n            \n            this.dispatchAgentRevoked(agent);\n            \n            return true;\n        }\n        return false;\n    }\n\n    verifyCredential(credential) {\n        // Simplified credential verification\n        try {\n            const [headerB64, payloadB64, signature] = credential.proof.jws.split('.');\n            const header = JSON.parse(atob(headerB64));\n            const payload = JSON.parse(atob(payloadB64));\n            \n            // Basic checks (would be more thorough in production)\n            const isValid = header.alg === 'EdDSA' && \n                          payload.iss === credential.issuer &&\n                          payload.sub === credential.subject;\n            \n            return {\n                valid: isValid,\n                issuer: credential.issuer,\n                subject: credential.subject,\n                issuanceDate: credential.issuanceDate,\n                verificationTime: new Date().toISOString()\n            };\n        } catch (error) {\n            return {\n                valid: false,\n                error: error.message\n            };\n        }\n    }\n\n    generateAgentReport() {\n        const agents = this.getAllAgents();\n        const activeAgents = this.getActiveAgents();\n        \n        const report = {\n            timestamp: new Date().toISOString(),\n            summary: {\n                totalAgents: agents.length,\n                activeAgents: activeAgents.length,\n                averageTrustScore: Math.floor(agents.reduce((sum, agent) => sum + agent.trustScore, 0) / agents.length),\n                agentTypes: this.getAgentTypeDistribution(agents),\n                capabilities: this.getCapabilityDistribution(agents)\n            },\n            agents: agents.map(agent => ({\n                id: agent.id,\n                did: agent.did,\n                name: agent.name,\n                type: agent.type,\n                status: agent.status,\n                trustScore: agent.trustScore,\n                capabilities: agent.capabilities,\n                performance: agent.performance,\n                uptime: this.calculateUptime(agent)\n            })),\n            compliance: this.generateComplianceReport(agents),\n            recommendations: this.generateRecommendations(agents)\n        };\n\n        return report;\n    }\n\n    getAgentTypeDistribution(agents) {\n        const distribution = {};\n        agents.forEach(agent => {\n            distribution[agent.type] = (distribution[agent.type] || 0) + 1;\n        });\n        return distribution;\n    }\n\n    getCapabilityDistribution(agents) {\n        const distribution = {};\n        agents.forEach(agent => {\n            agent.capabilities.forEach(cap => {\n                distribution[cap] = (distribution[cap] || 0) + 1;\n            });\n        });\n        return distribution;\n    }\n\n    calculateUptime(agent) {\n        if (agent.registrationTime) {\n            const totalTime = Date.now() - agent.registrationTime;\n            const activeTime = agent.performance.uptime * totalTime / 100;\n            return Math.floor(activeTime);\n        }\n        return 0;\n    }\n\n    generateComplianceReport(agents) {\n        const complianceChecks = {\n            didCompliance: agents.filter(agent => agent.did && agent.did.startsWith('did:')).length,\n            credentialCompliance: agents.filter(agent => agent.credentials && agent.credentials.length > 0).length,\n            trustScoreCompliance: agents.filter(agent => agent.trustScore >= 80).length,\n            capabilityCompliance: agents.filter(agent => agent.capabilities.length > 0).length\n        };\n\n        const totalAgents = agents.length;\n        const overallCompliance = totalAgents > 0 ? \n            (complianceChecks.didCompliance + complianceChecks.credentialCompliance + \n             complianceChecks.trustScoreCompliance + complianceChecks.capabilityCompliance) / (4 * totalAgents) : 0;\n\n        return {\n            checks: complianceChecks,\n            overallCompliance: Math.floor(overallCompliance * 100),\n            status: overallCompliance >= 0.9 ? 'compliant' : \n                    overallCompliance >= 0.7 ? 'partial' : 'non-compliant'\n        };\n    }\n\n    generateRecommendations(agents) {\n        const recommendations = [];\n        const lowTrustAgents = agents.filter(agent => agent.trustScore < 80);\n        const idleAgents = agents.filter(agent => agent.status === 'idle');\n        const overloadedAgents = agents.filter(agent => \n            agent.performance.totalRequests > 10000 && agent.performance.averageResponseTime > 5000\n        );\n\n        if (lowTrustAgents.length > 0) {\n            recommendations.push({\n                priority: 'high',\n                type: 'trust_optimization',\n                message: `${lowTrustAgents.length} agents have trust scores below 80%`,\n                agents: lowTrustAgents.map(a => a.id)\n            });\n        }\n\n        if (idleAgents.length > agents.length * 0.3) {\n            recommendations.push({\n                priority: 'medium',\n                type: 'resource_optimization',\n                message: `${idleAgents.length} agents are idle - consider workload redistribution`,\n                agents: idleAgents.map(a => a.id)\n            });\n        }\n\n        if (overloadedAgents.length > 0) {\n            recommendations.push({\n                priority: 'high',\n                type: 'scalability',\n                message: `${overloadedAgents.length} agents are experiencing high load`,\n                agents: overloadedAgents.map(a => a.id)\n            });\n        }\n\n        if (recommendations.length === 0) {\n            recommendations.push({\n                priority: 'low',\n                type: 'maintenance',\n                message: 'All agents operating within normal parameters'\n            });\n        }\n\n        return recommendations;\n    }\n\n    // Event dispatchers\n    dispatchAgentRegistered(agent) {\n        const event = new CustomEvent('agent-registered', {\n            detail: agent\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchAgentStatusUpdate(agent, oldStatus) {\n        const event = new CustomEvent('agent-status-updated', {\n            detail: { agent, oldStatus }\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchAgentPerformanceUpdate(agent) {\n        const event = new CustomEvent('agent-performance-updated', {\n            detail: agent\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchAgentRevoked(agent) {\n        const event = new CustomEvent('agent-revoked', {\n            detail: agent\n        });\n        document.dispatchEvent(event);\n    }\n}","// Workflow Engine - Multi-agent workflow orchestration\nexport class WorkflowEngine {\n    constructor() {\n        this.workflows = new Map();\n        this.activeWorkflows = new Map();\n        this.workflowTemplates = new Map();\n        this.executionHistory = [];\n        this.defaultSteps = [\n            'input_processing',\n            'agent_selection',\n            'trust_validation',\n            'quality_assurance',\n            'output_delivery'\n        ];\n    }\n\n    async initialize() {\n        console.log('Initializing Workflow Engine...');\n        this.setupDefaultTemplates();\n        this.startWorkflowMonitoring();\n    }\n\n    setupDefaultTemplates() {\n        const templates = [\n            {\n                id: 'customer_service',\n                name: 'Customer Service Workflow',\n                description: 'Standard customer service interaction flow',\n                steps: [\n                    {\n                        id: 'input_validation',\n                        name: 'Input Validation',\n                        type: 'validation',\n                        agent: 'customer-service',\n                        timeout: 5000,\n                        retryCount: 3\n                    },\n                    {\n                        id: 'intent_analysis',\n                        name: 'Intent Analysis',\n                        type: 'analysis',\n                        agent: 'customer-service',\n                        timeout: 3000,\n                        retryCount: 2\n                    },\n                    {\n                        id: 'response_generation',\n                        name: 'Response Generation',\n                        type: 'generation',\n                        agent: 'customer-service',\n                        timeout: 10000,\n                        retryCount: 2\n                    },\n                    {\n                        id: 'trust_verification',\n                        name: 'Trust Verification',\n                        type: 'validation',\n                        agent: 'compliance-officer',\n                        timeout: 2000,\n                        retryCount: 1\n                    }\n                ]\n            },\n            {\n                id: 'data_analysis',\n                name: 'Data Analysis Workflow',\n                description: 'Comprehensive data analysis and reporting',\n                steps: [\n                    {\n                        id: 'data_ingestion',\n                        name: 'Data Ingestion',\n                        type: 'processing',\n                        agent: 'data-analyst',\n                        timeout: 15000,\n                        retryCount: 3\n                    },\n                    {\n                        id: 'analysis_execution',\n                        name: 'Analysis Execution',\n                        type: 'analysis',\n                        agent: 'data-analyst',\n                        timeout: 30000,\n                        retryCount: 2\n                    },\n                    {\n                        id: 'report_generation',\n                        name: 'Report Generation',\n                        type: 'generation',\n                        agent: 'data-analyst',\n                        timeout: 10000,\n                        retryCount: 2\n                    },\n                    {\n                        id: 'compliance_check',\n                        name: 'Compliance Check',\n                        type: 'validation',\n                        agent: 'compliance-officer',\n                        timeout: 5000,\n                        retryCount: 1\n                    }\n                ]\n            }\n        ];\n\n        templates.forEach(template => {\n            this.workflowTemplates.set(template.id, template);\n        });\n    }\n\n    startWorkflowMonitoring() {\n        setInterval(() => {\n            this.monitorActiveWorkflows();\n        }, 1000);\n    }\n\n    async createWorkflow(templateId, config = {}) {\n        const template = this.workflowTemplates.get(templateId);\n        if (!template) {\n            throw new Error(`Workflow template ${templateId} not found`);\n        }\n\n        const workflowId = this.generateWorkflowId();\n        \n        const workflow = {\n            id: workflowId,\n            templateId,\n            name: config.name || template.name,\n            description: config.description || template.description,\n            status: 'created',\n            priority: config.priority || 'normal',\n            input: config.input || {},\n            output: {},\n            steps: template.steps.map(step => ({\n                ...step,\n                status: 'pending',\n                startTime: null,\n                endTime: null,\n                duration: null,\n                result: null,\n                error: null,\n                retryCount: 0\n            })),\n            metadata: {\n                createdAt: Date.now(),\n                createdBy: config.createdBy || 'system',\n                timeout: config.timeout || 60000,\n                retryPolicy: config.retryPolicy || 'exponential'\n            }\n        };\n\n        this.workflows.set(workflowId, workflow);\n        this.dispatchWorkflowCreated(workflow);\n\n        return workflow;\n    }\n\n    async executeWorkflow(workflowId, input = {}) {\n        const workflow = this.workflows.get(workflowId);\n        if (!workflow) {\n            throw new Error(`Workflow ${workflowId} not found`);\n        }\n\n        if (workflow.status !== 'created') {\n            throw new Error(`Workflow ${workflowId} is not in a runnable state`);\n        }\n\n        workflow.status = 'running';\n        workflow.input = input;\n        workflow.startTime = Date.now();\n\n        this.activeWorkflows.set(workflowId, workflow);\n        this.dispatchWorkflowStarted(workflow);\n\n        try {\n            const result = await this.executeWorkflowSteps(workflow);\n            workflow.status = 'completed';\n            workflow.output = result;\n            workflow.endTime = Date.now();\n            workflow.duration = workflow.endTime - workflow.startTime;\n\n            this.activeWorkflows.delete(workflowId);\n            this.executionHistory.push(workflow);\n            this.dispatchWorkflowCompleted(workflow);\n\n            return result;\n        } catch (error) {\n            workflow.status = 'failed';\n            workflow.error = error.message;\n            workflow.endTime = Date.now();\n            workflow.duration = workflow.endTime - workflow.startTime;\n\n            this.activeWorkflows.delete(workflowId);\n            this.executionHistory.push(workflow);\n            this.dispatchWorkflowFailed(workflow);\n\n            throw error;\n        }\n    }\n\n    async executeWorkflowSteps(workflow) {\n        const context = { ...workflow.input };\n        \n        for (let i = 0; i < workflow.steps.length; i++) {\n            const step = workflow.steps[i];\n            \n            try {\n                await this.executeStep(workflow, step, context);\n                \n                // Pass step result to next step\n                if (step.result) {\n                    context[step.id] = step.result;\n                }\n                \n            } catch (error) {\n                // Handle step failure\n                const shouldRetry = step.retryCount < step.retryCount;\n                \n                if (shouldRetry) {\n                    step.retryCount++;\n                    step.status = 'retrying';\n                    this.dispatchStepRetry(workflow, step);\n                    \n                    // Wait before retry\n                    await this.delay(this.calculateRetryDelay(step.retryCount));\n                    i--; // Retry current step\n                    continue;\n                } else {\n                    throw new Error(`Step ${step.id} failed: ${error.message}`);\n                }\n            }\n        }\n\n        return context;\n    }\n\n    async executeStep(workflow, step, context) {\n        step.status = 'running';\n        step.startTime = Date.now();\n        \n        this.dispatchStepStarted(workflow, step);\n\n        try {\n            // Simulate step execution\n            const result = await this.simulateStepExecution(step, context);\n            \n            step.result = result;\n            step.status = 'completed';\n            step.endTime = Date.now();\n            step.duration = step.endTime - step.startTime;\n            \n            this.dispatchStepCompleted(workflow, step);\n            \n        } catch (error) {\n            step.error = error.message;\n            step.status = 'failed';\n            step.endTime = Date.now();\n            step.duration = step.endTime - step.startTime;\n            \n            this.dispatchStepFailed(workflow, step, error);\n            throw error;\n        }\n    }\n\n    async simulateStepExecution(step, context) {\n        // Simulate different execution times based on step type\n        const baseExecutionTime = {\n            validation: 1000,\n            processing: 3000,\n            analysis: 5000,\n            generation: 2000\n        };\n\n        const executionTime = baseExecutionTime[step.type] || 2000;\n        const variation = Math.random() * 1000 - 500;\n        \n        await this.delay(executionTime + variation);\n\n        // Simulate step-specific logic\n        switch (step.type) {\n            case 'validation':\n                return this.performValidation(context, step);\n            case 'processing':\n                return this.performProcessing(context, step);\n            case 'analysis':\n                return this.performAnalysis(context, step);\n            case 'generation':\n                return this.performGeneration(context, step);\n            default:\n                return { success: true, data: `Processed by ${step.agent}` };\n        }\n    }\n\n    performValidation(context, step) {\n        const validationResults = {\n            valid: true,\n            checks: ['syntax', 'semantics', 'security'],\n            score: 0.9 + Math.random() * 0.1,\n            agent: step.agent\n        };\n\n        // Simulate occasional validation failures\n        if (Math.random() < 0.1) {\n            validationResults.valid = false;\n            validationResults.issues = ['Invalid input format'];\n        }\n\n        return validationResults;\n    }\n\n    performProcessing(context, step) {\n        return {\n            processed: true,\n            recordsProcessed: Math.floor(Math.random() * 1000) + 100,\n            processingTime: Date.now(),\n            agent: step.agent\n        };\n    }\n\n    performAnalysis(context, step) {\n        return {\n            analysis: {\n                insights: [`Insight ${Math.floor(Math.random() * 10) + 1}`],\n                confidence: 0.8 + Math.random() * 0.2,\n                recommendations: [`Recommendation ${Math.floor(Math.random() * 5) + 1}`]\n            },\n            agent: step.agent\n        };\n    }\n\n    performGeneration(context, step) {\n        return {\n            generated: {\n                content: `Generated content by ${step.agent}`,\n                format: 'text',\n                size: Math.floor(Math.random() * 5000) + 1000\n            },\n            agent: step.agent\n        };\n    }\n\n    monitorActiveWorkflows() {\n        const now = Date.now();\n        \n        for (const [workflowId, workflow] of this.activeWorkflows) {\n            // Check for timeouts\n            if (now - workflow.startTime > workflow.metadata.timeout) {\n                workflow.status = 'timeout';\n                workflow.error = 'Workflow execution timeout';\n                \n                this.activeWorkflows.delete(workflowId);\n                this.executionHistory.push(workflow);\n                this.dispatchWorkflowTimedOut(workflow);\n            }\n            \n            // Update step progress\n            this.updateWorkflowProgress(workflow);\n        }\n    }\n\n    updateWorkflowProgress(workflow) {\n        const completedSteps = workflow.steps.filter(step => step.status === 'completed').length;\n        const totalSteps = workflow.steps.length;\n        const progress = (completedSteps / totalSteps) * 100;\n\n        if (workflow.progress !== progress) {\n            workflow.progress = progress;\n            this.dispatchWorkflowProgress(workflow);\n        }\n    }\n\n    calculateRetryDelay(retryCount) {\n        // Exponential backoff\n        return Math.min(30000, 1000 * Math.pow(2, retryCount - 1));\n    }\n\n    pauseWorkflow(workflowId) {\n        const workflow = this.workflows.get(workflowId);\n        if (workflow && workflow.status === 'running') {\n            workflow.status = 'paused';\n            this.dispatchWorkflowPaused(workflow);\n            return true;\n        }\n        return false;\n    }\n\n    resumeWorkflow(workflowId) {\n        const workflow = this.workflows.get(workflowId);\n        if (workflow && workflow.status === 'paused') {\n            workflow.status = 'running';\n            this.dispatchWorkflowResumed(workflow);\n            return true;\n        }\n        return false;\n    }\n\n    cancelWorkflow(workflowId, reason = 'User cancellation') {\n        const workflow = this.workflows.get(workflowId);\n        if (workflow && (workflow.status === 'running' || workflow.status === 'paused')) {\n            workflow.status = 'cancelled';\n            workflow.error = reason;\n            workflow.endTime = Date.now();\n            workflow.duration = workflow.endTime - workflow.startTime;\n\n            this.activeWorkflows.delete(workflowId);\n            this.executionHistory.push(workflow);\n            this.dispatchWorkflowCancelled(workflow);\n\n            return true;\n        }\n        return false;\n    }\n\n    getWorkflow(workflowId) {\n        return this.workflows.get(workflowId);\n    }\n\n    getActiveWorkflows() {\n        return Array.from(this.activeWorkflows.values());\n    }\n\n    getWorkflowHistory(limit = 50) {\n        return this.executionHistory.slice(-limit);\n    }\n\n    getWorkflowStats() {\n        const total = this.workflows.size;\n        const completed = this.executionHistory.filter(w => w.status === 'completed').length;\n        const failed = this.executionHistory.filter(w => w.status === 'failed').length;\n        const running = this.activeWorkflows.size;\n\n        const avgDuration = completed > 0 ? \n            this.executionHistory\n                .filter(w => w.status === 'completed')\n                .reduce((sum, w) => sum + w.duration, 0) / completed : 0;\n\n        return {\n            total,\n            completed,\n            failed,\n            running,\n            successRate: total > 0 ? (completed / total) * 100 : 0,\n            averageDuration: Math.floor(avgDuration),\n            activeWorkflows: this.activeWorkflows.size\n        };\n    }\n\n    generateWorkflowId() {\n        return `workflow-${Date.now()}-${Math.random().toString(36).substr(2, 8)}`;\n    }\n\n    // Event dispatchers\n    dispatchWorkflowCreated(workflow) {\n        const event = new CustomEvent('workflow-created', {\n            detail: workflow\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchWorkflowStarted(workflow) {\n        const event = new CustomEvent('workflow-started', {\n            detail: workflow\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchWorkflowCompleted(workflow) {\n        const event = new CustomEvent('workflow-completed', {\n            detail: workflow\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchWorkflowFailed(workflow) {\n        const event = new CustomEvent('workflow-failed', {\n            detail: workflow\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchWorkflowTimedOut(workflow) {\n        const event = new CustomEvent('workflow-timed-out', {\n            detail: workflow\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchWorkflowPaused(workflow) {\n        const event = new CustomEvent('workflow-paused', {\n            detail: workflow\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchWorkflowResumed(workflow) {\n        const event = new CustomEvent('workflow-resumed', {\n            detail: workflow\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchWorkflowCancelled(workflow) {\n        const event = new CustomEvent('workflow-cancelled', {\n            detail: workflow\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchWorkflowProgress(workflow) {\n        const event = new CustomEvent('workflow-progress', {\n            detail: workflow\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchStepStarted(workflow, step) {\n        const event = new CustomEvent('workflow-step-started', {\n            detail: { workflow, step }\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchStepCompleted(workflow, step) {\n        const event = new CustomEvent('workflow-step-completed', {\n            detail: { workflow, step }\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchStepFailed(workflow, step, error) {\n        const event = new CustomEvent('workflow-step-failed', {\n            detail: { workflow, step, error }\n        });\n        document.dispatchEvent(event);\n    }\n\n    dispatchStepRetry(workflow, step) {\n        const event = new CustomEvent('workflow-step-retry', {\n            detail: { workflow, step }\n        });\n        document.dispatchEvent(event);\n    }\n\n    // Utility methods\n    delay(ms) {\n        return new Promise(resolve => setTimeout(resolve, ms));\n    }\n}","// SONATE Platform Interactive Demo\n// Main Application Controller\n\nimport { DemoEngine } from './core/demo-engine.js';\nimport { TrustProtocolDemo } from './core/trust-protocol.js';\nimport { PhaseVelocityCalculator } from './core/phase-velocity.js';\nimport { RealTimeDetector } from './detect/real-time-monitor.js';\nimport { IdentityCoherenceTracker } from './detect/identity-coherence.js';\nimport { ExperimentRunner } from './lab/experiment-runner.js';\nimport { StatisticalValidator } from './lab/statistical-validator.js';\nimport { AgentRegistry } from './orchestrate/agent-registry.js';\nimport { WorkflowEngine } from './orchestrate/workflow-engine.js';\n\nclass SonateDemo {\n    constructor() {\n        this.currentSection = 'welcome';\n        this.demoEngine = new DemoEngine();\n        this.isInitialized = false;\n        this.tutorialMode = false;\n        this.tutorialStep = 1;\n        \n        // Initialize demo components\n        this.components = {\n            trustProtocol: new TrustProtocolDemo(),\n            phaseVelocity: new PhaseVelocityCalculator(),\n            detector: new RealTimeDetector(),\n            identityTracker: new IdentityCoherenceTracker(),\n            experimentRunner: new ExperimentRunner(),\n            statisticalValidator: new StatisticalValidator(),\n            agentRegistry: new AgentRegistry(),\n            workflowEngine: new WorkflowEngine()\n        };\n        \n        // Data storage\n        this.detectionData = {\n            metrics: {\n                reality: [],\n                trust: [],\n                ethical: [],\n                resonance: [],\n                canvas: [],\n                identity: []\n            },\n            alerts: [],\n            phaseVelocity: []\n        };\n        \n        this.experimentData = null;\n        this.agentFleet = [];\n    }\n\n    async init() {\n        try {\n            // Hide loading screen\n            await this.hideLoadingScreen();\n            \n            // Initialize quantum background\n            this.initQuantumBackground();\n            \n            // Initialize navigation\n            this.initNavigation();\n            \n            // Initialize hero animations\n            this.initHeroAnimations();\n            \n            // Initialize demo components\n            await this.initializeComponents();\n            \n            // Initialize charts and visualizations\n            this.initVisualizations();\n            \n            // Start real-time simulations\n            this.startRealTimeSimulations();\n            \n            // Initialize tutorial system\n            this.initTutorialSystem();\n            \n            this.isInitialized = true;\n            console.log('SONATE Demo initialized successfully');\n            \n        } catch (error) {\n            console.error('Failed to initialize demo:', error);\n            this.showError('Demo initialization failed. Please refresh the page.');\n        }\n    }\n\n    async hideLoadingScreen() {\n        const loadingScreen = document.getElementById('loading-screen');\n        await this.delay(2000); // Simulate loading time\n        loadingScreen.classList.add('hidden');\n    }\n\n    initQuantumBackground() {\n        const bg = document.getElementById('quantum-bg');\n        if (!bg) return;\n\n        // Create particle system\n        const particleCount = 50;\n        const particles = [];\n\n        for (let i = 0; i < particleCount; i++) {\n            const particle = document.createElement('div');\n            particle.className = 'quantum-particle';\n            particle.style.cssText = `\n                position: absolute;\n                width: ${Math.random() * 4 + 1}px;\n                height: ${Math.random() * 4 + 1}px;\n                background: ${this.getRandomQuantumColor()};\n                border-radius: 50%;\n                left: ${Math.random() * 100}%;\n                top: ${Math.random() * 100}%;\n                opacity: ${Math.random() * 0.5 + 0.1};\n                animation: float ${Math.random() * 10 + 10}s linear infinite;\n            `;\n            bg.appendChild(particle);\n            particles.push(particle);\n        }\n\n        // Add floating animation\n        const style = document.createElement('style');\n        style.textContent = `\n            @keyframes float {\n                0% { transform: translateY(0) rotate(0deg); }\n                50% { transform: translateY(-20px) rotate(180deg); }\n                100% { transform: translateY(0) rotate(360deg); }\n            }\n        `;\n        document.head.appendChild(style);\n    }\n\n    getRandomQuantumColor() {\n        const colors = ['#00ffff', '#8b5cf6', '#fbbf24', '#10b981', '#3b82f6'];\n        return colors[Math.floor(Math.random() * colors.length)];\n    }\n\n    initNavigation() {\n        const navItems = document.querySelectorAll('.nav-item');\n        navItems.forEach(item => {\n            item.addEventListener('click', (e) => {\n                const section = e.currentTarget.dataset.section;\n                this.navigateToSection(section);\n            });\n        });\n\n        // Tutorial toggle\n        const tutorialToggle = document.getElementById('tutorial-toggle');\n        tutorialToggle.addEventListener('click', () => this.toggleTutorial());\n    }\n\n    navigateToSection(sectionId) {\n        if (sectionId === this.currentSection) return;\n\n        // Update nav items\n        document.querySelectorAll('.nav-item').forEach(item => {\n            item.classList.remove('active');\n            if (item.dataset.section === sectionId) {\n                item.classList.add('active');\n            }\n        });\n\n        // Update sections\n        document.querySelectorAll('.content-section').forEach(section => {\n            section.classList.remove('active');\n        });\n\n        const targetSection = document.getElementById(`${sectionId}-section`);\n        if (targetSection) {\n            targetSection.classList.add('active');\n            this.currentSection = sectionId;\n            \n            // Initialize section-specific features\n            this.initializeSection(sectionId);\n        }\n    }\n\n    initializeSection(sectionId) {\n        switch (sectionId) {\n            case 'framework':\n                this.initializeSONATEFramework();\n                break;\n            case 'detection':\n                this.initializeDetectionDashboard();\n                break;\n            case 'research':\n                this.initializeResearchLab();\n                break;\n            case 'orchestration':\n                this.initializeOrchestration();\n                break;\n            case 'enterprise':\n                this.initializeEnterpriseShowcase();\n                break;\n        }\n    }\n\n    initializeSONATEFramework() {\n        // Animate principle cards\n        const principleCards = document.querySelectorAll('.principle-card');\n        principleCards.forEach((card, index) => {\n            setTimeout(() => {\n                card.style.animation = 'fadeInUp 0.6s ease forwards';\n            }, index * 100);\n        });\n\n        // Initialize dimensions radar chart\n        this.initDimensionsRadarChart();\n    }\n\n    initializeDetectionDashboard() {\n        // Start real-time monitoring\n        this.components.detector.startMonitoring();\n        \n        // Initialize metric charts\n        this.initMetricCharts();\n        \n        // Initialize phase velocity timeline\n        this.initPhaseVelocityChart();\n    }\n\n    initializeResearchLab() {\n        // Initialize experiment builder\n        const runExperimentBtn = document.getElementById('run-experiment');\n        if (runExperimentBtn) {\n            runExperimentBtn.addEventListener('click', () => this.runExperiment());\n        }\n    }\n\n    initializeOrchestration() {\n        // Initialize agent registry\n        this.components.agentRegistry.initialize();\n        this.updateAgentFleet();\n        \n        // Initialize workflow engine\n        this.components.workflowEngine.initialize();\n        \n        // Initialize tactical command\n        this.initializeTacticalCommand();\n    }\n\n    initializeEnterpriseShowcase() {\n        // Initialize ROI calculator\n        this.initROICalculator();\n        \n        // Initialize performance charts\n        this.initPerformanceCharts();\n    }\n\n    initHeroAnimations() {\n        // Counter animations\n        const counters = document.querySelectorAll('.counter');\n        counters.forEach(counter => {\n            const target = parseInt(counter.dataset.target);\n            const duration = 2000;\n            const increment = target / (duration / 16);\n            let current = 0;\n\n            const updateCounter = () => {\n                current += increment;\n                if (current < target) {\n                    counter.textContent = Math.floor(current);\n                    requestAnimationFrame(updateCounter);\n                } else {\n                    counter.textContent = target;\n                }\n            };\n\n            // Start animation when visible\n            const observer = new IntersectionObserver((entries) => {\n                entries.forEach(entry => {\n                    if (entry.isIntersecting) {\n                        updateCounter();\n                        observer.unobserve(entry.target);\n                    }\n                });\n            });\n\n            observer.observe(counter);\n        });\n\n        // Hero tour button\n        const startTourBtn = document.getElementById('start-tour');\n        if (startTourBtn) {\n            startTourBtn.addEventListener('click', () => this.startInteractiveTour());\n        }\n\n        // Skip demo button\n        const skipDemoBtn = document.getElementById('skip-demo');\n        if (skipDemoBtn) {\n            skipDemoBtn.addEventListener('click', () => {\n                this.navigateToSection('framework');\n            });\n        }\n    }\n\n    async initializeComponents() {\n        // Initialize all demo components\n        for (const [key, component] of Object.entries(this.components)) {\n            try {\n                if (typeof component.initialize === 'function') {\n                    await component.initialize();\n                }\n            } catch (error) {\n                console.error(`Failed to initialize component ${key}:`, error);\n            }\n        }\n    }\n\n    initVisualizations() {\n        // Initialize hero 3D visualization\n        this.initHero3DVisualization();\n    }\n\n    initHero3DVisualization() {\n        const canvas = document.getElementById('hero-canvas');\n        if (!canvas) return;\n\n        // Create Three.js scene\n        const scene = new THREE.Scene();\n        const camera = new THREE.PerspectiveCamera(75, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);\n        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });\n        \n        renderer.setSize(canvas.clientWidth, canvas.clientHeight);\n        canvas.appendChild(renderer.domElement);\n\n        // Create quantum mesh\n        const geometry = new THREE.IcosahedronGeometry(2, 1);\n        const material = new THREE.MeshPhongMaterial({\n            color: 0x00ffff,\n            emissive: 0x00ffff,\n            emissiveIntensity: 0.2,\n            wireframe: true\n        });\n        const mesh = new THREE.Mesh(geometry, material);\n        scene.add(mesh);\n\n        // Add lights\n        const ambientLight = new THREE.AmbientLight(0x404040);\n        scene.add(ambientLight);\n\n        const directionalLight = new THREE.DirectionalLight(0x00ffff, 0.5);\n        directionalLight.position.set(5, 5, 5);\n        scene.add(directionalLight);\n\n        camera.position.z = 5;\n\n        // Animation loop\n        const animate = () => {\n            requestAnimationFrame(animate);\n            mesh.rotation.x += 0.01;\n            mesh.rotation.y += 0.01;\n            renderer.render(scene, camera);\n        };\n\n        animate();\n\n        // Handle resize\n        window.addEventListener('resize', () => {\n            camera.aspect = canvas.clientWidth / canvas.clientHeight;\n            camera.updateProjectionMatrix();\n            renderer.setSize(canvas.clientWidth, canvas.clientHeight);\n        });\n    }\n\n    initDimensionsRadarChart() {\n        const ctx = document.getElementById('dimensions-chart');\n        if (!ctx) return;\n\n        new Chart(ctx, {\n            type: 'radar',\n            data: {\n                labels: ['Reality Index', 'Trust Protocol', 'Ethical Alignment', 'Resonance Quality', 'Canvas Parity'],\n                datasets: [{\n                    label: 'Current Score',\n                    data: [8.7, 9.5, 4.2, 8.5, 82],\n                    backgroundColor: 'rgba(0, 255, 255, 0.2)',\n                    borderColor: 'rgba(0, 255, 255, 1)',\n                    borderWidth: 2,\n                    pointBackgroundColor: 'rgba(0, 255, 255, 1)',\n                    pointBorderColor: '#fff',\n                    pointHoverBackgroundColor: '#fff',\n                    pointHoverBorderColor: 'rgba(0, 255, 255, 1)'\n                }, {\n                    label: 'Threshold',\n                    data: [8.0, 8.0, 3.5, 7.0, 75],\n                    backgroundColor: 'rgba(139, 92, 246, 0.1)',\n                    borderColor: 'rgba(139, 92, 246, 0.5)',\n                    borderWidth: 1,\n                    borderDash: [5, 5]\n                }]\n            },\n            options: {\n                responsive: true,\n                maintainAspectRatio: false,\n                scales: {\n                    r: {\n                        beginAtZero: true,\n                        max: 100,\n                        ticks: {\n                            color: '#94a3b8',\n                            backdropColor: 'transparent'\n                        },\n                        grid: {\n                            color: 'rgba(148, 163, 184, 0.1)'\n                        },\n                        pointLabels: {\n                            color: '#cbd5e1',\n                            font: {\n                                size: 12\n                            }\n                        }\n                    }\n                },\n                plugins: {\n                    legend: {\n                        labels: {\n                            color: '#cbd5e1'\n                        }\n                    }\n                }\n            }\n        });\n    }\n\n    initMetricCharts() {\n        // Initialize individual metric charts\n        const charts = ['reality', 'trust', 'ethical', 'resonance', 'canvas', 'identity'];\n        \n        charts.forEach(chartType => {\n            this.initMetricChart(chartType);\n        });\n    }\n\n    initMetricChart(chartType) {\n        const ctx = document.getElementById(`${chartType}-chart`);\n        if (!ctx) return;\n\n        new Chart(ctx, {\n            type: 'line',\n            data: {\n                labels: this.generateTimeLabels(10),\n                datasets: [{\n                    label: chartType.charAt(0).toUpperCase() + chartType.slice(1),\n                    data: this.generateRandomData(10, this.getMetricRange(chartType)),\n                    borderColor: this.getMetricColor(chartType),\n                    backgroundColor: this.getMetricColor(chartType, 0.1),\n                    borderWidth: 2,\n                    tension: 0.4,\n                    fill: true\n                }]\n            },\n            options: {\n                responsive: true,\n                maintainAspectRatio: false,\n                scales: {\n                    y: {\n                        beginAtZero: true,\n                        max: this.getMetricRange(chartType).max,\n                        ticks: {\n                            color: '#94a3b8'\n                        },\n                        grid: {\n                            color: 'rgba(148, 163, 184, 0.1)'\n                        }\n                    },\n                    x: {\n                        ticks: {\n                            color: '#94a3b8'\n                        },\n                        grid: {\n                            color: 'rgba(148, 163, 184, 0.1)'\n                        }\n                    }\n                },\n                plugins: {\n                    legend: {\n                        display: false\n                    }\n                }\n            }\n        });\n    }\n\n    getMetricRange(metric) {\n        const ranges = {\n            reality: { min: 0, max: 10 },\n            trust: { min: 0, max: 100 },\n            ethical: { min: 0, max: 5 },\n            resonance: { min: 0, max: 100 },\n            canvas: { min: 0, max: 100 },\n            identity: { min: 0, max: 1 }\n        };\n        return ranges[metric] || { min: 0, max: 100 };\n    }\n\n    getMetricColor(metric, alpha = 1) {\n        const colors = {\n            reality: `rgba(0, 255, 255, ${alpha})`,\n            trust: `rgba(16, 185, 129, ${alpha})`,\n            ethical: `rgba(139, 92, 246, ${alpha})`,\n            resonance: `rgba(251, 191, 36, ${alpha})`,\n            canvas: `rgba(59, 130, 246, ${alpha})`,\n            identity: `rgba(239, 68, 68, ${alpha})`\n        };\n        return colors[metric] || `rgba(0, 255, 255, ${alpha})`;\n    }\n\n    generateTimeLabels(count) {\n        const labels = [];\n        const now = new Date();\n        for (let i = count - 1; i >= 0; i--) {\n            const time = new Date(now - i * 5000);\n            labels.push(time.toLocaleTimeString());\n        }\n        return labels;\n    }\n\n    generateRandomData(count, range) {\n        return Array.from({ length: count }, () => \n            Math.random() * (range.max - range.min) + range.min\n        );\n    }\n\n    initPhaseVelocityChart() {\n        const ctx = document.getElementById('velocity-timeline');\n        if (!ctx) return;\n\n        new Chart(ctx, {\n            type: 'line',\n            data: {\n                labels: this.generateTimeLabels(20),\n                datasets: [{\n                    label: 'Phase-Shift Velocity',\n                    data: this.generateRandomData(20, { min: 0, max: 1 }),\n                    borderColor: 'rgba(0, 255, 255, 1)',\n                    backgroundColor: 'rgba(0, 255, 255, 0.1)',\n                    borderWidth: 2,\n                    tension: 0.4,\n                    fill: true\n                }, {\n                    label: 'Alert Threshold',\n                    data: Array(20).fill(0.7),\n                    borderColor: 'rgba(239, 68, 68, 0.8)',\n                    borderWidth: 1,\n                    borderDash: [5, 5],\n                    fill: false\n                }]\n            },\n            options: {\n                responsive: true,\n                maintainAspectRatio: false,\n                scales: {\n                    y: {\n                        beginAtZero: true,\n                        max: 1,\n                        ticks: {\n                            color: '#94a3b8'\n                        },\n                        grid: {\n                            color: 'rgba(148, 163, 184, 0.1)'\n                        }\n                    },\n                    x: {\n                        ticks: {\n                            color: '#94a3b8'\n                        },\n                        grid: {\n                            color: 'rgba(148, 163, 184, 0.1)'\n                        }\n                    }\n                },\n                plugins: {\n                    legend: {\n                        labels: {\n                            color: '#cbd5e1'\n                        }\n                    }\n                }\n            }\n        });\n    }\n\n    startRealTimeSimulations() {\n        // Update detection metrics every 2 seconds\n        setInterval(() => {\n            if (this.currentSection === 'detection') {\n                this.updateDetectionMetrics();\n            }\n        }, 2000);\n\n        // Update phase velocity every 3 seconds\n        setInterval(() => {\n            if (this.currentSection === 'detection') {\n                this.updatePhaseVelocity();\n            }\n        }, 3000);\n\n        // Generate occasional alerts\n        setInterval(() => {\n            if (this.currentSection === 'detection' && Math.random() > 0.7) {\n                this.generateAlert();\n            }\n        }, 8000);\n    }\n\n    updateDetectionMetrics() {\n        const metrics = {\n            'reality-index': (Math.random() * 2 + 7).toFixed(1),\n            'trust-status': Math.random() > 0.2 ? 'PASS' : 'PARTIAL',\n            'ethical-score': (Math.random() * 1.5 + 3).toFixed(1),\n            'resonance-level': ['STRONG', 'ADVANCED', 'BREAKTHROUGH'][Math.floor(Math.random() * 3)],\n            'canvas-score': Math.floor(Math.random() * 20 + 70),\n            'identity-coherence': (Math.random() * 0.2 + 0.8).toFixed(2)\n        };\n\n        Object.entries(metrics).forEach(([id, value]) => {\n            const element = document.getElementById(id);\n            if (element) {\n                element.textContent = value;\n                element.style.animation = 'pulse 0.5s ease';\n                setTimeout(() => {\n                    element.style.animation = '';\n                }, 500);\n            }\n        });\n\n        // Update latency display\n        const latencyElement = document.getElementById('detection-latency');\n        if (latencyElement) {\n            const latency = Math.floor(Math.random() * 30 + 70);\n            latencyElement.textContent = `${latency}ms`;\n        }\n    }\n\n    updatePhaseVelocity() {\n        const deltaR = Math.random() * 2;\n        const deltaC = Math.random() * 2;\n        const deltaT = Math.random() * 5 + 1;\n        const velocity = Math.sqrt(deltaR * deltaR + deltaC * deltaC) / deltaT;\n\n        const velocityElement = document.getElementById('phase-velocity');\n        const statusElement = document.getElementById('velocity-status');\n\n        if (velocityElement && statusElement) {\n            velocityElement.textContent = velocity.toFixed(3);\n            \n            let status = 'NORMAL';\n            let statusColor = 'var(--success)';\n            \n            if (velocity > 0.7) {\n                status = 'WARNING';\n                statusColor = 'var(--warning)';\n            }\n            if (velocity > 0.85) {\n                status = 'CRITICAL';\n                statusColor = 'var(--error)';\n            }\n\n            statusElement.textContent = status;\n            statusElement.style.background = statusColor;\n            statusElement.style.color = 'var(--dark-matter)';\n        }\n    }\n\n    generateAlert() {\n        const alertTypes = [\n            { type: 'info', title: 'System Update', message: 'Trust protocols updated successfully' },\n            { type: 'warning', title: 'Identity Coherence', message: 'Agent identity drift detected (0.78)' },\n            { type: 'error', title: 'Trust Violation', message: 'Canvas parity below threshold (65%)' },\n            { type: 'info', title: 'Performance', message: 'Detection latency within optimal range (82ms)' }\n        ];\n\n        const alert = alertTypes[Math.floor(Math.random() * alertTypes.length)];\n        const alertsContainer = document.getElementById('alerts-container');\n        \n        if (alertsContainer) {\n            const alertElement = document.createElement('div');\n            alertElement.className = `alert ${alert.type}`;\n            alertElement.innerHTML = `\n                <div class=\"alert-icon\">${alert.type === 'info' ? 'ℹ️' : alert.type === 'warning' ? '⚠️' : '🚨'}</div>\n                <div class=\"alert-content\">\n                    <div class=\"alert-title\">${alert.title}</div>\n                    <div class=\"alert-message\">${alert.message}</div>\n                </div>\n                <div class=\"alert-time\">${new Date().toLocaleTimeString()}</div>\n            `;\n\n            alertsContainer.insertBefore(alertElement, alertsContainer.firstChild);\n\n            // Remove old alerts if too many\n            while (alertsContainer.children.length > 5) {\n                alertsContainer.removeChild(alertsContainer.lastChild);\n            }\n        }\n    }\n\n    async runExperiment() {\n        const experimentName = document.getElementById('experiment-name')?.value;\n        const hypothesis = document.getElementById('experiment-hypothesis')?.value;\n\n        if (!experimentName || !hypothesis) {\n            alert('Please provide experiment name and hypothesis');\n            return;\n        }\n\n        // Show experiment in progress\n        const resultsContainer = document.getElementById('experiment-results');\n        if (resultsContainer) {\n            resultsContainer.innerHTML = `\n                <div class=\"experiment-progress\">\n                    <div class=\"progress-indicator\">\n                        <div class=\"quantum-loader\" style=\"width: 60px; height: 60px;\">\n                            <div class=\"quantum-ring\"></div>\n                            <div class=\"quantum-ring\"></div>\n                            <div class=\"quantum-ring\"></div>\n                        </div>\n                    </div>\n                    <p>Running double-blind experiment...</p>\n                    <p class=\"progress-detail\">Initializing CONDUCTOR, VARIANT, EVALUATOR, OVERSEER agents</p>\n                </div>\n            `;\n        }\n\n        // Simulate experiment execution\n        await this.delay(3000);\n\n        // Generate results\n        const results = this.components.statisticalValidator.generateResults();\n        this.displayExperimentResults(results);\n    }\n\n    displayExperimentResults(results) {\n        const resultsContainer = document.getElementById('experiment-results');\n        if (!resultsContainer) return;\n\n        resultsContainer.innerHTML = `\n            <div class=\"experiment-results\">\n                <div class=\"results-summary\">\n                    <div class=\"result-metric\">\n                        <div class=\"metric-label\">P-Value</div>\n                        <div class=\"metric-value ${results.pValue < 0.05 ? 'significant' : 'not-significant'}\">\n                            ${results.pValue.toFixed(4)}\n                        </div>\n                        <div class=\"metric-interpretation\">\n                            ${results.pValue < 0.05 ? 'Statistically Significant' : 'Not Significant'}\n                        </div>\n                    </div>\n                    \n                    <div class=\"result-metric\">\n                        <div class=\"metric-label\">Effect Size (Cohen\\'s d)</div>\n                        <div class=\"metric-value\">${results.effectSize.toFixed(3)}</div>\n                        <div class=\"metric-interpretation\">\n                            ${this.interpretEffectSize(results.effectSize)}\n                        </div>\n                    </div>\n                    \n                    <div class=\"result-metric\">\n                        <div class=\"metric-label\">Confidence Interval</div>\n                        <div class=\"metric-value\">[${results.ciLower.toFixed(3)}, ${results.ciUpper.toFixed(3)}]</div>\n                        <div class=\"metric-interpretation\">95% CI</div>\n                    </div>\n                    \n                    <div class=\"result-metric\">\n                        <div class=\"metric-label\">Sample Size</div>\n                        <div class=\"metric-value\">${results.sampleSize}</div>\n                        <div class=\"metric-interpretation\">Total participants</div>\n                    </div>\n                </div>\n                \n                <div class=\"results-chart\">\n                    <canvas id=\"experiment-results-chart\"></canvas>\n                </div>\n                \n                <div class=\"results-conclusion\">\n                    <h4>Conclusion</h4>\n                    <p>${results.conclusion}</p>\n                    <button class=\"btn-primary\" onclick=\"window.demo.exportExperimentResults()\">\n                        Export Results\n                    </button>\n                </div>\n            </div>\n        `;\n\n        // Create results chart\n        this.createExperimentResultsChart(results);\n    }\n\n    interpretEffectSize(effectSize) {\n        if (Math.abs(effectSize) < 0.2) return 'Small effect';\n        if (Math.abs(effectSize) < 0.5) return 'Medium effect';\n        return 'Large effect';\n    }\n\n    createExperimentResultsChart(results) {\n        const ctx = document.getElementById('experiment-results-chart');\n        if (!ctx) return;\n\n        new Chart(ctx, {\n            type: 'bar',\n            data: {\n                labels: ['Trust Score', 'Ethical Alignment', 'Canvas Parity', 'User Satisfaction'],\n                datasets: [{\n                    label: 'Control Group',\n                    data: results.controlGroup,\n                    backgroundColor: 'rgba(139, 92, 246, 0.7)',\n                    borderColor: 'rgba(139, 92, 246, 1)',\n                    borderWidth: 1\n                }, {\n                    label: 'Test Group (Constitutional AI)',\n                    data: results.testGroup,\n                    backgroundColor: 'rgba(0, 255, 255, 0.7)',\n                    borderColor: 'rgba(0, 255, 255, 1)',\n                    borderWidth: 1\n                }]\n            },\n            options: {\n                responsive: true,\n                maintainAspectRatio: false,\n                scales: {\n                    y: {\n                        beginAtZero: true,\n                        ticks: {\n                            color: '#94a3b8'\n                        },\n                        grid: {\n                            color: 'rgba(148, 163, 184, 0.1)'\n                        }\n                    },\n                    x: {\n                        ticks: {\n                            color: '#94a3b8'\n                        },\n                        grid: {\n                            color: 'rgba(148, 163, 184, 0.1)'\n                        }\n                    }\n                },\n                plugins: {\n                    legend: {\n                        labels: {\n                            color: '#cbd5e1'\n                        }\n                    }\n                }\n            }\n        });\n    }\n\n    exportExperimentResults() {\n        // Simulate export functionality\n        const results = {\n            timestamp: new Date().toISOString(),\n            experiment: document.getElementById('experiment-name')?.value,\n            hypothesis: document.getElementById('experiment-hypothesis')?.value,\n            results: this.experimentData\n        };\n\n        const blob = new Blob([JSON.stringify(results, null, 2)], { type: 'application/json' });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `experiment-results-${Date.now()}.json`;\n        a.click();\n        URL.revokeObjectURL(url);\n    }\n\n    updateAgentFleet() {\n        // Generate sample agent fleet\n        const agentTypes = [\n            { name: 'Customer Support AI', capabilities: ['chat', 'analysis', 'escalation'] },\n            { name: 'Data Analysis Agent', capabilities: ['analytics', 'reporting', 'visualization'] },\n            { name: 'Compliance Monitor', capabilities: ['audit', 'reporting', 'alerting'] },\n            { name: 'Research Assistant', capabilities: ['analysis', 'synthesis', 'validation'] }\n        ];\n\n        this.agentFleet = agentTypes.map((type, index) => ({\n            id: `agent-${index + 1}`,\n            name: type.name,\n            capabilities: type.capabilities,\n            did: `did:key:z6Mk${this.generateRandomString(44)}`,\n            status: ['Active', 'Idle', 'Processing'][Math.floor(Math.random() * 3)],\n            trustScore: Math.floor(Math.random() * 20 + 80)\n        }));\n\n        this.renderAgentFleet();\n        this.updateTacticalCommand();\n    }\n\n    generateRandomString(length) {\n        const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n        let result = '';\n        for (let i = 0; i < length; i++) {\n            result += chars.charAt(Math.floor(Math.random() * chars.length));\n        }\n        return result;\n    }\n\n    renderAgentFleet() {\n        const tbody = document.getElementById('agents-tbody');\n        if (!tbody) return;\n\n        tbody.innerHTML = this.agentFleet.map(agent => `\n            <tr>\n                <td class=\"font-mono\">${agent.id}</td>\n                <td>${agent.name}</td>\n                <td>${agent.capabilities.join(', ')}</td>\n                <td class=\"font-mono text-sm\">${agent.did.substring(0, 20)}...</td>\n                <td>\n                    <span class=\"status-badge ${agent.status.toLowerCase()}\">\n                        ${agent.status}\n                    </span>\n                </td>\n                <td>\n                    <div class=\"trust-score\">\n                        <div class=\"score-bar\">\n                            <div class=\"score-fill\" style=\"width: ${agent.trustScore}%\"></div>\n                        </div>\n                        <span>${agent.trustScore}</span>\n                    </div>\n                </td>\n                <td>\n                    <button class=\"btn-sm\" onclick=\"window.demo.configureAgent('${agent.id}')\">\n                        Configure\n                    </button>\n                </td>\n            </tr>\n        `).join('');\n    }\n\n    updateTacticalCommand() {\n        const totalAgents = this.agentFleet.length;\n        const activeAgents = this.agentFleet.filter(a => a.status === 'Active').length;\n        const avgTrust = Math.floor(this.agentFleet.reduce((sum, a) => sum + a.trustScore, 0) / totalAgents);\n\n        const updates = {\n            'total-agents': totalAgents,\n            'active-agents': activeAgents,\n            'avg-trust': avgTrust,\n            'workflow-count': Math.floor(Math.random() * 5)\n        };\n\n        Object.entries(updates).forEach(([id, value]) => {\n            const element = document.getElementById(id);\n            if (element) {\n                element.textContent = value;\n            }\n        });\n    }\n\n    initializeTacticalCommand() {\n        const executeBtn = document.getElementById('execute-workflow');\n        if (executeBtn) {\n            executeBtn.addEventListener('click', () => this.executeWorkflow());\n        }\n\n        const registerBtn = document.getElementById('register-agent');\n        if (registerBtn) {\n            registerBtn.addEventListener('click', () => this.registerNewAgent());\n        }\n\n        const deployBtn = document.getElementById('deploy-fleet');\n        if (deployBtn) {\n            deployBtn.addEventListener('click', () => this.deployFleet());\n        }\n    }\n\n    async executeWorkflow() {\n        const steps = document.querySelectorAll('.workflow-step');\n        \n        for (let i = 0; i < steps.length; i++) {\n            steps[i].style.borderColor = 'var(--quantum-cyan)';\n            steps[i].style.background = 'rgba(0, 255, 255, 0.1)';\n            \n            await this.delay(1000);\n            \n            steps[i].style.borderColor = 'var(--success)';\n            steps[i].style.background = 'rgba(16, 185, 129, 0.1)';\n        }\n\n        // Show completion message\n        this.showNotification('Workflow Complete', 'All workflow steps executed successfully');\n    }\n\n    registerNewAgent() {\n        const newAgent = {\n            id: `agent-${this.agentFleet.length + 1}`,\n            name: `New Agent ${this.agentFleet.length + 1}`,\n            capabilities: ['processing'],\n            did: `did:key:z6Mk${this.generateRandomString(44)}`,\n            status: 'Idle',\n            trustScore: Math.floor(Math.random() * 20 + 80)\n        };\n\n        this.agentFleet.push(newAgent);\n        this.renderAgentFleet();\n        this.updateTacticalCommand();\n        this.showNotification('Agent Registered', `${newAgent.name} has been added to the fleet`);\n    }\n\n    deployFleet() {\n        this.showNotification('Fleet Deployment', 'Deploying agent fleet to production environment...');\n        \n        // Simulate deployment\n        setTimeout(() => {\n            this.agentFleet.forEach(agent => {\n                if (agent.status === 'Idle') {\n                    agent.status = 'Active';\n                }\n            });\n            this.renderAgentFleet();\n            this.updateTacticalCommand();\n            this.showNotification('Deployment Complete', 'All agents are now active in production');\n        }, 3000);\n    }\n\n    configureAgent(agentId) {\n        this.showNotification('Agent Configuration', `Configuring agent ${agentId}...`);\n    }\n\n    initROICalculator() {\n        const calculateBtn = document.getElementById('calculate-roi');\n        if (calculateBtn) {\n            calculateBtn.addEventListener('click', () => this.calculateROI());\n        }\n    }\n\n    calculateROI() {\n        const numAgents = parseInt(document.getElementById('num-agents')?.value || 100);\n        const dailyInteractions = parseInt(document.getElementById('daily-interactions')?.value || 1000);\n        const riskIncidents = parseInt(document.getElementById('risk-incidents')?.value || 5);\n        const incidentCost = parseInt(document.getElementById('incident-cost')?.value || 50000);\n\n        // Calculate ROI\n        const monthlyRiskReduction = riskIncidents * incidentCost * 0.8; // 80% reduction\n        const complianceSavings = numAgents * 1000; // $1000 per agent per month\n        const totalMonthlySavings = monthlyRiskReduction + complianceSavings;\n        const annualROI = ((totalMonthlySavings * 12) / (numAgents * 500)) * 100; // Assuming $500 per agent\n\n        // Update results\n        const updates = {\n            'risk-reduction': `$${monthlyRiskReduction.toLocaleString()}`,\n            'compliance-savings': `$${complianceSavings.toLocaleString()}`,\n            'annual-roi': `${annualROI.toFixed(1)}%`\n        };\n\n        Object.entries(updates).forEach(([id, value]) => {\n            const element = document.getElementById(id);\n            if (element) {\n                element.textContent = value;\n                element.style.animation = 'fadeInUp 0.6s ease';\n            }\n        });\n    }\n\n    initPerformanceCharts() {\n        this.initPerformanceChart('throughput');\n        this.initPerformanceChart('latency');\n        this.initPerformanceChart('availability');\n        this.initPerformanceChart('scale');\n    }\n\n    initPerformanceChart(chartType) {\n        const ctx = document.getElementById(`${chartType}-chart`);\n        if (!ctx) return;\n\n        const data = this.generatePerformanceData(chartType);\n\n        new Chart(ctx, {\n            type: 'line',\n            data: {\n                labels: data.labels,\n                datasets: [{\n                    label: data.label,\n                    data: data.values,\n                    borderColor: 'rgba(0, 255, 255, 1)',\n                    backgroundColor: 'rgba(0, 255, 255, 0.1)',\n                    borderWidth: 2,\n                    tension: 0.4,\n                    fill: true\n                }]\n            },\n            options: {\n                responsive: true,\n                maintainAspectRatio: false,\n                scales: {\n                    y: {\n                        beginAtZero: true,\n                        ticks: {\n                            color: '#94a3b8'\n                        },\n                        grid: {\n                            color: 'rgba(148, 163, 184, 0.1)'\n                        }\n                    },\n                    x: {\n                        ticks: {\n                            color: '#94a3b8'\n                        },\n                        grid: {\n                            color: 'rgba(148, 163, 184, 0.1)'\n                        }\n                    }\n                },\n                plugins: {\n                    legend: {\n                        display: false\n                    }\n                }\n            }\n        });\n    }\n\n    generatePerformanceData(chartType) {\n        const datasets = {\n            throughput: {\n                label: 'Detections/sec',\n                values: Array.from({ length: 24 }, () => Math.random() * 2000 + 8000),\n                unit: ''\n            },\n            latency: {\n                label: 'Response Time (ms)',\n                values: Array.from({ length: 24 }, () => Math.random() * 30 + 70),\n                unit: 'ms'\n            },\n            availability: {\n                label: 'Uptime (%)',\n                values: Array.from({ length: 24 }, () => Math.random() * 0.1 + 99.9),\n                unit: '%'\n            },\n            scale: {\n                label: 'Concurrent Users',\n                values: Array.from({ length: 24 }, () => Math.random() * 200000 + 800000),\n                unit: ''\n            }\n        };\n\n        const dataset = datasets[chartType];\n        const labels = Array.from({ length: 24 }, (_, i) => `${i}:00`);\n\n        return {\n            labels,\n            label: dataset.label,\n            values: dataset.values\n        };\n    }\n\n    initTutorialSystem() {\n        const closeBtn = document.getElementById('close-tutorial');\n        const prevBtn = document.getElementById('prev-tutorial');\n        const nextBtn = document.getElementById('next-tutorial');\n\n        if (closeBtn) {\n            closeBtn.addEventListener('click', () => this.toggleTutorial());\n        }\n\n        if (prevBtn) {\n            prevBtn.addEventListener('click', () => this.previousTutorialStep());\n        }\n\n        if (nextBtn) {\n            nextBtn.addEventListener('click', () => this.nextTutorialStep());\n        }\n    }\n\n    toggleTutorial() {\n        const overlay = document.getElementById('tutorial-overlay');\n        if (overlay) {\n            overlay.classList.toggle('hidden');\n            this.tutorialMode = !overlay.classList.contains('hidden');\n        }\n    }\n\n    startInteractiveTour() {\n        this.toggleTutorial();\n        this.tutorialStep = 1;\n        this.updateTutorialContent();\n    }\n\n    updateTutorialContent() {\n        const tutorialSteps = [\n            {\n                title: 'Welcome to SONATE Platform',\n                content: 'This is the most advanced enterprise AI governance platform. Constitutional AI ensures trust, compliance, and accountability.'\n            },\n            {\n                title: 'SONATE Framework',\n                content: 'The 6 SONATE principles form the foundation of trust: Consent, Explanation, Audit, Override, Disconnect, and Agency.'\n            },\n            {\n                title: 'Real-Time Detection',\n                content: 'Monitor AI interactions in real-time with sub-100ms latency across 5 dimensions derived from the core principles.'\n            },\n            {\n                title: 'Phase-Shift Velocity',\n                content: 'Our revolutionary ΔΦ/t mathematical innovation provides early warning detection through behavioral seismograph analysis.'\n            },\n            {\n                title: 'Research Validation',\n                content: 'Double-blind experiments with statistical validation prove that constitutional AI outperforms traditional approaches.'\n            },\n            {\n                title: 'Enterprise Ready',\n                content: 'Production-grade security, compliance, and scalability make SONATE the trusted choice for enterprise AI deployment.'\n            }\n        ];\n\n        const currentStep = tutorialSteps[this.tutorialStep - 1];\n        const tutorialBody = document.querySelector('.tutorial-body');\n        const progressText = document.querySelector('.tutorial-progress');\n\n        if (tutorialBody && currentStep) {\n            tutorialBody.innerHTML = `\n                <div class=\"tutorial-step active\">\n                    <h4>${currentStep.title}</h4>\n                    <p>${currentStep.content}</p>\n                </div>\n            `;\n        }\n\n        if (progressText) {\n            progressText.textContent = `Step ${this.tutorialStep} of ${tutorialSteps.length}`;\n        }\n\n        // Update button states\n        const prevBtn = document.getElementById('prev-tutorial');\n        const nextBtn = document.getElementById('next-tutorial');\n\n        if (prevBtn) {\n            prevBtn.disabled = this.tutorialStep === 1;\n        }\n\n        if (nextBtn) {\n            nextBtn.textContent = this.tutorialStep === tutorialSteps.length ? 'Finish' : 'Next';\n        }\n    }\n\n    previousTutorialStep() {\n        if (this.tutorialStep > 1) {\n            this.tutorialStep--;\n            this.updateTutorialContent();\n        }\n    }\n\n    nextTutorialStep() {\n        const tutorialSteps = 6;\n        if (this.tutorialStep < tutorialSteps) {\n            this.tutorialStep++;\n            this.updateTutorialContent();\n        } else {\n            this.toggleTutorial();\n            // Navigate to framework section\n            this.navigateToSection('framework');\n        }\n    }\n\n    showNotification(title, message) {\n        // Simple notification implementation\n        console.log(`${title}: ${message}`);\n        \n        // You could implement a proper notification system here\n        const notification = document.createElement('div');\n        notification.className = 'notification';\n        notification.innerHTML = `\n            <div class=\"notification-title\">${title}</div>\n            <div class=\"notification-message\">${message}</div>\n        `;\n        \n        // Style the notification\n        notification.style.cssText = `\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            background: rgba(15, 23, 42, 0.95);\n            border: 1px solid rgba(0, 255, 255, 0.3);\n            border-radius: 8px;\n            padding: 16px;\n            color: #fff;\n            z-index: 3000;\n            animation: slideIn 0.3s ease;\n            max-width: 300px;\n        `;\n\n        document.body.appendChild(notification);\n\n        setTimeout(() => {\n            notification.style.animation = 'slideOut 0.3s ease';\n            setTimeout(() => {\n                document.body.removeChild(notification);\n            }, 300);\n        }, 3000);\n    }\n\n    showError(message) {\n        this.showNotification('Error', message);\n    }\n\n    delay(ms) {\n        return new Promise(resolve => setTimeout(resolve, ms));\n    }\n}\n\n// Initialize demo when DOM is loaded\ndocument.addEventListener('DOMContentLoaded', () => {\n    window.demo = new SonateDemo();\n    window.demo.init();\n});\n\n// Add animation styles\nconst animationStyles = document.createElement('style');\nanimationStyles.textContent = `\n    @keyframes fadeInUp {\n        from {\n            opacity: 0;\n            transform: translateY(20px);\n        }\n        to {\n            opacity: 1;\n            transform: translateY(0);\n        }\n    }\n\n    @keyframes slideIn {\n        from {\n            transform: translateX(100%);\n            opacity: 0;\n        }\n        to {\n            transform: translateX(0);\n            opacity: 1;\n        }\n    }\n\n    @keyframes slideOut {\n        from {\n            transform: translateX(0);\n            opacity: 1;\n        }\n        to {\n            transform: translateX(100%);\n            opacity: 0;\n        }\n    }\n\n    .status-badge {\n        padding: 4px 8px;\n        border-radius: 4px;\n        font-size: 0.75rem;\n        font-weight: 600;\n        text-transform: uppercase;\n    }\n\n    .status-badge.active {\n        background: rgba(16, 185, 129, 0.2);\n        color: var(--success);\n    }\n\n    .status-badge.idle {\n        background: rgba(245, 158, 11, 0.2);\n        color: var(--warning);\n    }\n\n    .status-badge.processing {\n        background: rgba(59, 130, 246, 0.2);\n        color: var(--info);\n    }\n\n    .trust-score {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n    }\n\n    .trust-score .score-bar {\n        width: 50px;\n        height: 8px;\n        background: rgba(148, 163, 184, 0.2);\n        border-radius: 4px;\n        overflow: hidden;\n    }\n\n    .trust-score .score-fill {\n        height: 100%;\n        background: linear-gradient(90deg, var(--quantum-cyan), var(--neural-purple));\n    }\n\n    .btn-sm {\n        padding: 6px 12px;\n        font-size: 0.75rem;\n        background: rgba(0, 255, 255, 0.1);\n        border: 1px solid rgba(0, 255, 255, 0.3);\n        color: var(--quantum-cyan);\n        border-radius: 4px;\n        cursor: pointer;\n        transition: all 0.3s ease;\n    }\n\n    .btn-sm:hover {\n        background: rgba(0, 255, 255, 0.2);\n    }\n\n    .experiment-progress {\n        text-align: center;\n        padding: 40px;\n    }\n\n    .progress-indicator {\n        margin-bottom: 20px;\n    }\n\n    .experiment-results {\n        display: grid;\n        gap: 24px;\n    }\n\n    .results-summary {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n        gap: 16px;\n    }\n\n    .result-metric {\n        text-align: center;\n        padding: 20px;\n        background: rgba(15, 23, 42, 0.4);\n        border: 1px solid rgba(148, 163, 184, 0.1);\n        border-radius: 8px;\n    }\n\n    .metric-label {\n        color: var(--slate-400);\n        font-size: 0.875rem;\n        margin-bottom: 8px;\n    }\n\n    .metric-value {\n        font-size: 1.5rem;\n        font-weight: 700;\n        color: var(--quantum-cyan);\n        font-family: var(--font-mono);\n        margin-bottom: 4px;\n    }\n\n    .metric-value.significant {\n        color: var(--success);\n    }\n\n    .metric-value.not-significant {\n        color: var(--warning);\n    }\n\n    .metric-interpretation {\n        color: var(--slate-400);\n        font-size: 0.75rem;\n    }\n\n    .results-chart {\n        height: 300px;\n        background: rgba(15, 23, 42, 0.4);\n        border: 1px solid rgba(148, 163, 184, 0.1);\n        border-radius: 8px;\n        padding: 16px;\n    }\n\n    .results-conclusion {\n        background: rgba(15, 23, 42, 0.4);\n        border: 1px solid rgba(148, 163, 184, 0.1);\n        border-radius: 8px;\n        padding: 20px;\n    }\n\n    .results-conclusion h4 {\n        color: var(--slate-100);\n        margin-bottom: 12px;\n    }\n\n    .results-conclusion p {\n        color: var(--slate-400);\n        margin-bottom: 16px;\n    }\n`;\ndocument.head.appendChild(animationStyles);"],"names":["DemoEngine","metrics","min","max","target","variation","alerts","alertChance","event","type","data","sessionId","config","session","TrustProtocolDemo","e","principleCard","principleId","principle","p","score","card","scoreFill","scoreValue","weightedSum","sum","receipt","content","hash","char","signature","i","receiptHash","r","hashOk","signatureOk","expectedHash","limit","passing","total","complianceRate","PhaseVelocityCalculator","baselineMeasurements","m","currentMeasurement","deltaT","deltaR","deltaC","velocity","timeFactor","measurement","historyEntry","alertType","message","alert","windowSize","recentHistory","velocities","entry","trend","values","n","sumX","sumY","val","sumXY","index","sumX2","recentMeasurements","baselineIdentity","avgIdentity","similarity","transitions","current","previous","velocityChange","resonanceChange","canvasChange","coherence","h","mean","variance","recommendations","status","value","RealTimeDetector","startTime","detection","latency","randomFactor","threshold","weights","normalizedScores","key","weight","recentDetection","recentDetections","recentScores","d","avgScore","recentIdentity","id","protocolFailures","alertData","uptime","latencies","scores","lat","sorted","a","b","memoryUsage","IdentityCoherenceTracker","previousPersona","delta","coherenceEntry","vector","vectorA","vectorB","dotProduct","magnitudeA","magnitudeB","personaA","personaB","totalDelta","dimensionCount","maxDelta","mostChangedDimension","recentCoherence","coherenceTrend","coherenceHistory","dimensionType","dimensionValues","avg","currentCoherence","drift","dimensionAnalysis","recentAverage","count","recent","ExperimentRunner","agentId","error","phases","phase","selectedTestCases","results","testCase","caseResult","progress","controlResult","testResult","variantType","baseScores","selectedIndices","numCases","analysis","controlScores","testScores","metric","controlMetric","testMetric","result","std","group1","group2","stats1","stats2","pooledStd","tStat","df","pValue","x","a1","a2","a3","a4","a5","sign","t","y","validation","errors","warnings","sampleSize","significantResults","largeEffects","agentElement","statusElement","experimentId","exp","experiment","ms","resolve","StatisticalValidator","margin","groupData","rand","effectSize","ncp","power","effectSizeDesc","significance","absEffect","groupSize","controlMean","controlStd","controlGroup","testMean","testStd","testGroup","u1","u2","z0","controlStats","testStats","sem","q1","median","q3","skewness","kurtosis","cohensD","hedgesG","glassDelta","tTest","mannWhitney","bootstrap","controlNormality","testNormality","varianceTest","outlierRemoval","nonParametric","permutation","sortedData","lower","upper","acc","combined","ranks","rankSum1","rank","rankSum2","u","iterations","bootstrappedDifferences","boot1","boot2","mean1","mean2","alpha","lowerIndex","upperIndex","resampled","randomIndex","indexed","currentValue","tiedElements","averageRank","elem","idx","s2","w","group1Mean","group2Mean","deviations1","deviations2","allDeviations","meanDeviation","betweenGroupVariance","withinGroupVariance","fStatistic","df1","df2","outliers1","outliers2","cleaned1","cleaned2","originalTest","cleanedTest","stats","iqr","lowerBound","upperBound","outliers","medianTest","allData","overallMedian","above1","below1","above2","below2","expectedAbove","expectedBelow","chiSquare","observedDifference","nullDifferences","shuffled","newGroup1","newGroup2","newDiff","diff","array","j","consistencyScore","pValues","meanP","bootstrapMean","confidence","n1","n2","meanU","stdU","z","AgentRegistry","agentConfig","did","agent","length","chars","cred","credential","header","payload","oldStatus","performanceData","successRate","responseTimeScore","newTrustScore","headerB64","payloadB64","agents","activeAgents","distribution","cap","totalTime","activeTime","complianceChecks","totalAgents","overallCompliance","lowTrustAgents","idleAgents","overloadedAgents","WorkflowEngine","template","templateId","workflowId","workflow","step","input","context","executionTime","validationResults","now","completedSteps","totalSteps","retryCount","reason","completed","failed","running","avgDuration","SonateDemo","loadingScreen","bg","particleCount","particle","style","colors","item","section","sectionId","targetSection","runExperimentBtn","counter","increment","updateCounter","observer","entries","startTourBtn","skipDemoBtn","component","canvas","scene","camera","renderer","geometry","material","mesh","ambientLight","directionalLight","animate","ctx","chartType","labels","time","range","element","latencyElement","velocityElement","statusColor","alertTypes","alertsContainer","alertElement","experimentName","hypothesis","resultsContainer","blob","url","agentTypes","tbody","avgTrust","updates","executeBtn","registerBtn","deployBtn","steps","newAgent","calculateBtn","numAgents","riskIncidents","incidentCost","monthlyRiskReduction","complianceSavings","annualROI","dataset","_","closeBtn","prevBtn","nextBtn","overlay","tutorialSteps","currentStep","tutorialBody","progressText","title","notification","animationStyles"],"mappings":"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"}